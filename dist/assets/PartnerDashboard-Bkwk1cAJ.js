import{c as M,r as v,s as w,j as e,h as ze,i as ie,P as Qe,S as et,M as tt,T as Ne,k as st,b as at}from"./DashboardApp-BE3oS_VM.js";import{m as S,P as rt,M as lt,X as Le,A as ae,a as H,I as se}from"./constants-cJPfzdI_.js";import{U as re,T as be,P as Ee,a as le,E as $e,b as ge,J as it,c as ct,C as fe}from"./jszip.min-BQ6IPnci.js";import{Z as I,D as je,C as nt}from"./zap-DFCNISq3.js";import{A as Pe,S as ot,H as dt}from"./shopping-bag-Cfw3qrYY.js";import{S as Ue}from"./search-CCJnL7dH.js";import{A as R}from"./AlquimiaModal-CsZQN3UJ.js";/**
 * @license lucide-react v0.554.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const xt=[["path",{d:"m7 7 10 10",key:"1fmybs"}],["path",{d:"M17 7v10H7",key:"6fjiku"}]],Ae=M("arrow-down-right",xt);/**
 * @license lucide-react v0.554.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const pt=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M12 2a14.5 14.5 0 0 0 0 20 14.5 14.5 0 0 0 0-20",key:"13o1zl"}],["path",{d:"M2 12h20",key:"9i4pu4"}]],mt=M("globe",pt);/**
 * @license lucide-react v0.554.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ut=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M12 16v-4",key:"1dtifu"}],["path",{d:"M12 8h.01",key:"e9boi3"}]],ve=M("info",ut);/**
 * @license lucide-react v0.554.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ht=[["path",{d:"M12.83 2.18a2 2 0 0 0-1.66 0L2.6 6.08a1 1 0 0 0 0 1.83l8.58 3.91a2 2 0 0 0 1.66 0l8.58-3.9a1 1 0 0 0 0-1.83z",key:"zw3jo"}],["path",{d:"M2 12a1 1 0 0 0 .58.91l8.6 3.91a2 2 0 0 0 1.65 0l8.58-3.9A1 1 0 0 0 22 12",key:"1wduqc"}],["path",{d:"M2 17a1 1 0 0 0 .58.91l8.6 3.91a2 2 0 0 0 1.65 0l8.58-3.9A1 1 0 0 0 22 17",key:"kqbvx6"}]],bt=M("layers",ht);/**
 * @license lucide-react v0.554.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const gt=[["circle",{cx:"8",cy:"21",r:"1",key:"jimo8o"}],["circle",{cx:"19",cy:"21",r:"1",key:"13723u"}],["path",{d:"M2.05 2.05h2l2.66 12.42a2 2 0 0 0 2 1.58h9.78a2 2 0 0 0 1.95-1.57l1.65-7.43H5.12",key:"9zh506"}]],ce=M("shopping-cart",gt);/**
 * @license lucide-react v0.554.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ft=[["path",{d:"M19 7V4a1 1 0 0 0-1-1H5a2 2 0 0 0 0 4h15a1 1 0 0 1 1 1v4h-3a2 2 0 0 0 0 4h3a1 1 0 0 0 1-1v-2a1 1 0 0 0-1-1",key:"18etb6"}],["path",{d:"M3 5v14a2 2 0 0 0 2 2h15a1 1 0 0 0 1-1v-4",key:"xoc0q4"}]],Ie=M("wallet",ft),jt=({profile:s,showToast:n})=>{const[t,r]=v.useState(!1),[c,m]=v.useState(null),[p,g]=v.useState([]),[o,a]=v.useState([]),[l,u]=v.useState([]),[i,d]=v.useState([]),[y,f]=v.useState([]),N=v.useCallback(async()=>{if(s)try{r(!0);let h=s.partner_id,x=!1;if(!h){const{data:j}=await w.from("partners").select("id").or(`user_id.eq.${s.id},contact_email.eq.${s.email}`).single();j?h=j.id:x=!0}if(x){m({id:s.id,name:s.full_name||s.email.split("@")[0],credits_total:s.credits||0,credits_used:s.total_generations||0,is_virtual:!0,config:{primary_color:"#135bec",logo_url:null}});const[j,b]=await Promise.all([w.from("events").select("*").eq("partner_id",s.id).order("created_at",{ascending:!1}),w.from("wallet_transactions").select("*").eq("partner_id",s.id).order("created_at",{ascending:!1})]);g(j.data||[]),a(b.data||[])}else{const[j,b,B]=await Promise.all([w.from("partners").select("*").eq("id",h).single(),w.from("events").select("*").eq("partner_id",h).order("created_at",{ascending:!1}),w.from("wallet_transactions").select("*").eq("partner_id",h).order("created_at",{ascending:!1})]);if(j.error)throw j.error;if(m(j.data),a(B.data||[]),b.data&&b.data.length>0){const J=b.data.map(oe=>oe.id),U=new Date;U.setDate(U.getDate()-7);const{data:A}=await w.from("generations").select("id, created_at, event_id, image_url").in("event_id",J).gte("created_at",U.toISOString()).order("created_at",{ascending:!1});d(A||[]),f((A==null?void 0:A.slice(0,10))||[])}g(b.data||[]);const{data:ne}=await w.from("clients").select("*").eq("partner_id",h).order("name");u(ne||[])}}catch(h){console.error("Error fetching partner data:",h)}finally{r(!1)}},[s]);v.useEffect(()=>{N()},[N]);const k=v.useCallback(h=>{const x=l.find(b=>b.id===h||b.email===h);if(!x)return 0;const j=p.filter(b=>b.client_id===x.id||b.client_email===x.email).reduce((b,B)=>b+(B.credits_allocated||0),0);return x.credits_total-j},[l,p]);return{loading:t,partner:c,events:p,transactions:o,clients:l,generationsData:i,recentGlobalPhotos:y,fetchPartnerData:N,getClientBalance:k,handleCreateEvent:async h=>{if(!c)return;const x=l.find(b=>b.email===h.client_email),j=Number(h.credits);if(x){const b=k(x.id);if(j>b)return n(`CrÃ©ditos insuficientes en la cuenta del cliente (Disponibles: ${b}).`,"error"),!1}else if(j>c.credits_total-c.credits_used)return n("CrÃ©ditos insuficientes en tu balance mayorista.","error"),!1;try{r(!0);const{error:b}=await w.from("events").insert([{partner_id:c.id,client_id:(x==null?void 0:x.id)||null,event_name:h.name,client_email:h.client_email,event_slug:h.slug||h.name.toLowerCase().replace(/\s+/g,"-"),credits_allocated:j,credits_used:0,start_date:new Date(h.start_date).toISOString(),end_date:new Date(h.end_date).toISOString(),is_active:!0,selected_styles:h.selected_styles}]);if(b)throw b;return x||(c.is_virtual?await w.from("profiles").update({credits:Math.max(0,c.credits_total-j)}).eq("id",s.id):await w.from("partners").update({credits_used:(c.credits_used||0)+j}).eq("id",c.id)),n("Evento creado con Ã©xito"),N(),!0}catch(b){return n("Error al crear el evento: "+b.message,"error"),!1}finally{r(!1)}},handleUpdateEvent:async(h,x)=>{try{r(!0);const{error:j}=await w.from("events").update({event_name:x.event_name,event_slug:x.event_slug,start_date:new Date(x.start_date).toISOString(),end_date:new Date(x.end_date).toISOString(),is_active:x.is_active,selected_styles:x.selected_styles}).eq("id",h);if(j)throw j;return n("Evento actualizado"),N(),!0}catch(j){return n("Error al actualizar: "+j.message,"error"),!1}finally{r(!1)}},handleDeleteEvent:async h=>{try{const{error:x}=await w.from("events").delete().eq("id",h);if(x)throw x;return n("Evento eliminado"),N(),!0}catch(x){return n("Error al eliminar: "+x.message,"error"),!1}},handleCreateClient:async h=>{if(c)try{r(!0);const{error:x}=await w.from("clients").insert([{partner_id:c.id,name:h.name,email:h.email,contact_person:h.contact_person,phone:h.phone,contracted_styles:h.contracted_styles||brandingConfig.style_presets}]);if(x)throw x;return n("Cliente creado con Ã©xito"),N(),!0}catch(x){return n("Error: "+x.message,"error"),!1}finally{r(!1)}},handleUpdateClient:async(h,x)=>{try{r(!0);const{error:j}=await w.from("clients").update({name:x.name,email:x.email,contact_person:x.contact_person,phone:x.phone,contracted_styles:x.contracted_styles}).eq("id",h);if(j)throw j;return n("Cliente actualizado"),N(),!0}catch(j){return n("Error: "+j.message,"error"),!1}finally{r(!1)}},handleClientTopUp:async(h,x,j)=>{if(c)try{r(!0);const{error:b}=await w.rpc("transfer_credits_to_client",{p_partner_id:c.id,p_client_id:h,p_amount:j});if(b)throw b;return n(`Â¡${j} crÃ©ditos asignados a ${x}!`),N(),!0}catch(b){return n("Error: "+b.message,"error"),!1}finally{r(!1)}},handleTopUpEvent:async(h,x)=>{if(!c)return;const j=l.find(b=>b.id===h.client_id||b.email===h.client_email);if(j){const b=k(j.id);if(x>b)return n(`CrÃ©ditos insuficientes en la cuenta del cliente (Disponibles: ${b}).`,"error"),!1}else{const b=(c.credits_total||0)-(c.credits_used||0);if(x>b)return n("No tienes crÃ©ditos suficientes en tu balance mayorista.","error"),!1}try{r(!0);const{error:b}=await w.from("events").update({credits_allocated:(h.credits_allocated||0)+x}).eq("id",h.id);if(b)throw b;return j||(c.is_virtual?await w.from("profiles").update({credits:Math.max(0,c.credits_total-x)}).eq("id",s.id):await w.from("partners").update({credits_used:(c.credits_used||0)+x}).eq("id",c.id)),await w.from("wallet_transactions").insert({partner_id:c.id,amount:x,type:"usage",description:`Transferencia a evento: ${h.event_name}`+(j?` (Saldo Cliente: ${j.name})`:"")}),n(`Se han transferido ${x} crÃ©ditos.`),N(),!0}catch(b){return n("Error: "+b.message,"error"),!1}finally{r(!1)}},handlePurchase:async h=>{if(c)try{r(!0);const x=window.location.href,b=await(await fetch("https://elesttjfwfhvzdvldytn.supabase.co/functions/v1/mercadopago-payment",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({user_id:c.id,credits:h.qty,price:h.price,pack_name:h.label,redirect_url:x})})).json();if(b.init_point)window.location.href=b.init_point;else throw new Error(b.message||"Error al iniciar pago")}catch(x){n(x.message,"error")}finally{r(!1)}}}},vt=({partner:s,initialConfig:n,showToast:t})=>{const[r,c]=v.useState(n||{primary_color:"#135bec",logo_url:"",radius:"12px",style_presets:["SuperhÃ©roes","John Wick","Urbano"]});v.useEffect(()=>{n&&c(n)},[n]);const[m,p]=v.useState(!1),[g,o]=v.useState(!1),a=v.useCallback(i=>{c(d=>({...d,style_presets:d.style_presets.includes(i)?d.style_presets.filter(y=>y!==i):[...d.style_presets,i]}))},[]);return{brandingConfig:r,setBrandingConfig:c,isSaving:m,isUploading:g,toggleStylePreset:a,handleUpdateBranding:async()=>{if(s)try{p(!0);const{error:i}=await w.from("partners").update({config:r}).eq("id",s.id);if(i)throw i;return t("Â¡ConfiguraciÃ³n sincronizada con Ã©xito! âœ¨"),!0}catch(i){return console.error("Error updating branding:",i),t("Error al guardar: "+i.message,"error"),!1}finally{p(!1)}},handleLogoUpload:async i=>{if(!i.target.files||i.target.files.length===0||!s)return;const d=i.target.files[0],y=d.name.split(".").pop(),f=`${s.id}-${Date.now()}.${y}`;try{o(!0);const{error:N}=await w.storage.from("logos").upload(f,d);if(N){const{error:k}=await w.storage.from("public").upload(`logos/${f}`,d);if(k)throw N;const{data:C}=w.storage.from("public").getPublicUrl(`logos/${f}`);c(L=>({...L,logo_url:C.publicUrl}))}else{const{data:k}=w.storage.from("logos").getPublicUrl(f);c(C=>({...C,logo_url:k.publicUrl}))}t("Logo subido con Ã©xito")}catch(N){t("Error al subir logo: "+N.message,"error")}finally{o(!1)}}}},Nt=({showToast:s})=>{const[n,t]=v.useState([]),[r,c]=v.useState([]),[m,p]=v.useState(!1),g=v.useCallback(async l=>{try{setLoading(!0);const{data:u,error:i}=await w.from("generations").select("*, profiles(email)").eq("event_id",l).order("created_at",{ascending:!1});if(i)throw i;t(u||[])}catch(u){console.error("Error fetching photos:",u),s("No se pudieron cargar las fotos","error")}finally{setLoading(!1)}},[s]),o=async l=>{if(!window.confirm("Â¿EstÃ¡s seguro de que deseas eliminar esta foto de la galerÃ­a?"))return!1;try{const{error:u}=await w.from("generations").delete().eq("id",l);if(u)throw u;return t(i=>i.filter(d=>d.id!==l)),c(i=>i.filter(d=>d!==l)),s("Foto eliminada correctamente"),!0}catch{return s("Error al eliminar la foto","error"),!1}},a=async()=>{if(r.length!==0&&window.confirm(`ðŸš¨ ACCIÃ“N MASIVA: Â¿EstÃ¡s seguro de eliminar ${r.length} fotos definitivamente?`))try{p(!0);const{error:l}=await w.from("generations").delete().in("id",r);if(l)throw l;s(`${r.length} fotos eliminadas`),t(u=>u.filter(i=>!r.includes(i.id))),c([])}catch(l){s(l.message,"error")}finally{p(!1)}};return{eventPhotos:n,setEventPhotos:t,loading,moderationLoading:m,selectedPhotos:r,setSelectedPhotos:c,fetchEventPhotos:g,handleDeletePhoto:o,handleBulkDelete:a}},wt=({partnerName:s,view:n,setView:t})=>{const r=(c,m,p)=>{const g=n===c;return e.jsxs("button",{onClick:()=>t(c),className:`flex items-center gap-2 px-4 py-2 rounded-lg transition-all text-sm font-bold border ${g?"bg-[#135bec]/10 text-[#135bec] border-[#135bec]/30 shadow-[0_0_15px_rgba(19,91,236,0.1)]":"text-slate-400 border-transparent hover:text-white hover:bg-white/5"}`,children:[e.jsx(p,{className:"size-4"}),m]},c)};return e.jsxs("header",{className:"flex flex-wrap items-center justify-between gap-6 pb-6 border-b border-white/5",children:[e.jsxs(S.div,{initial:{opacity:0,x:-20},animate:{opacity:1,x:0},children:[e.jsxs("h1",{className:"text-3xl font-black tracking-tight text-white mb-1 flex items-center gap-3",children:[e.jsx("div",{className:"size-10 rounded-xl bg-gradient-to-br from-[#135bec] to-[#0a1f4d] flex items-center justify-center shadow-lg shadow-[#135bec]/20",children:e.jsx(ze,{className:"text-white size-6"})}),"Panel de Partner ",e.jsxs("span",{className:"text-[#135bec] opacity-50 text-xl font-medium",children:["/ ",s]})]}),e.jsx("p",{className:"text-slate-400 text-sm",children:"Sistema de gestiÃ³n de eventos y marca blanca corporativa."})]}),e.jsxs("div",{className:"flex items-center gap-2 bg-slate-900/50 p-1 rounded-xl border border-white/5",children:[r("overview","Vista General",ze),r("clients","Clientes",re),r("events","Mis Eventos",ie),r("wallet","Billetera",Ie),r("branding","Marca Blanca",Qe)]})]})},yt=({partner:s,events:n,generationsData:t,setView:r})=>{const c=((s==null?void 0:s.credits_total)||0)-((s==null?void 0:s.credits_used)||0),m=c>0&&c<((s==null?void 0:s.credits_total)||0)*.2,p=c>0&&c<((s==null?void 0:s.credits_total)||0)*.1;return e.jsxs(S.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},exit:{opacity:0,y:-20},className:"space-y-8",children:[e.jsxs("section",{className:"grid grid-cols-1 md:grid-cols-3 gap-6",children:[e.jsxs("div",{className:"glass-card rounded-[32px] p-8 border border-white/5 bg-slate-900/40 relative overflow-hidden group",children:[e.jsx("div",{className:"absolute top-0 right-0 p-8 opacity-10 group-hover:opacity-20 transition-opacity",children:e.jsx(Ie,{className:"size-20 text-[#135bec]"})}),e.jsxs("div",{className:"relative z-10",children:[e.jsx("p",{className:"text-[10px] font-black text-slate-500 uppercase tracking-[3px] mb-4",children:"Balance Mayorista"}),e.jsxs("div",{className:"flex items-baseline gap-2 mb-2",children:[e.jsx("h3",{className:"text-4xl font-black text-white tracking-tighter tabular-nums",children:c.toLocaleString()}),e.jsx("span",{className:"text-xs font-bold text-slate-500 uppercase",children:"CrÃ©ditos"})]}),e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx("div",{className:`size-2 rounded-full ${p?"bg-rose-500 animate-pulse":m?"bg-amber-500":"bg-emerald-500"}`}),e.jsx("span",{className:"text-[10px] font-bold text-slate-400 uppercase tracking-widest",children:p?"Balance CrÃ­tico":m?"Balance Bajo":"Estado Ã“ptimo"})]})]})]}),e.jsxs("div",{className:"glass-card rounded-[32px] p-8 border border-white/5 bg-slate-900/40 relative overflow-hidden group hover:border-[#135bec]/30 transition-all cursor-pointer",onClick:()=>r("events"),children:[e.jsx("div",{className:"absolute top-0 right-0 p-8 opacity-10 group-hover:opacity-20 transition-opacity",children:e.jsx(ie,{className:"size-20 text-white"})}),e.jsxs("div",{className:"relative z-10",children:[e.jsx("p",{className:"text-[10px] font-black text-slate-500 uppercase tracking-[3px] mb-4",children:"Total Proyectos"}),e.jsxs("div",{className:"flex items-baseline gap-2 mb-2",children:[e.jsx("h3",{className:"text-4xl font-black text-white tracking-tighter tabular-nums",children:n.length}),e.jsx("span",{className:"text-xs font-bold text-slate-500 uppercase",children:"Instancias"})]}),e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx("div",{className:"size-2 rounded-full bg-[#135bec]"}),e.jsxs("span",{className:"text-[10px] font-bold text-slate-400 uppercase tracking-widest",children:["Activos en ",new Set(n.map(g=>g.client_email)).size," Cuentas"]})]})]})]}),e.jsxs("div",{className:"glass-card rounded-[32px] p-8 border border-white/5 bg-slate-900/40 relative overflow-hidden group",children:[e.jsx("div",{className:"absolute top-0 right-0 p-8 opacity-10 group-hover:opacity-20 transition-opacity",children:e.jsx(I,{className:"size-20 text-white"})}),e.jsxs("div",{className:"relative z-10",children:[e.jsx("p",{className:"text-[10px] font-black text-slate-500 uppercase tracking-[3px] mb-4",children:"ProducciÃ³n IA"}),e.jsxs("div",{className:"flex items-baseline gap-2 mb-2",children:[e.jsx("h3",{className:"text-4xl font-black text-white tracking-tighter tabular-nums",children:(s==null?void 0:s.credits_used)||0}),e.jsx("span",{className:"text-xs font-bold text-slate-500 uppercase",children:"ImÃ¡genes"})]}),e.jsxs("div",{className:"flex items-center gap-2 text-emerald-500",children:[e.jsx(be,{className:"size-3"}),e.jsx("span",{className:"text-[10px] font-bold uppercase tracking-widest",children:"Crecimiento OrgÃ¡nico"})]})]})]})]}),e.jsxs("div",{className:"bg-slate-900/50 border border-white/5 rounded-[32px] p-8 glass-card",children:[e.jsxs("div",{className:"flex items-center justify-between mb-8",children:[e.jsxs("div",{children:[e.jsx("h4",{className:"text-sm font-black text-white uppercase tracking-widest",children:"Actividad de GeneraciÃ³n"}),e.jsx("p",{className:"text-[10px] text-slate-500 uppercase font-bold mt-1",children:"Fotos creadas por dÃ­a (Ãšltimos 7 dÃ­as)"})]}),e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx("div",{className:"size-2 rounded-full bg-[#135bec] animate-pulse"}),e.jsx("span",{className:"text-[10px] font-bold text-slate-400 uppercase",children:"Tiempo Real"})]})]}),e.jsx("div",{className:"h-48 flex items-end gap-2 px-2",children:Array.from({length:7}).map((g,o)=>{const a=new Date;a.setDate(a.getDate()-(6-o));const l=a.toISOString().split("T")[0],u=t.filter(y=>y.created_at.startsWith(l)).length,i=Math.max(...Array.from({length:7}).map((y,f)=>{const N=new Date;return N.setDate(N.getDate()-(6-f)),t.filter(k=>k.created_at.startsWith(N.toISOString().split("T")[0])).length}),1),d=u/i*100;return e.jsxs("div",{className:"flex-1 flex flex-col items-center gap-3 group",children:[e.jsx("div",{className:"w-full relative h-[140px] flex items-end",children:e.jsx(S.div,{initial:{height:0},animate:{height:`${Math.max(d,5)}%`},className:`w-full rounded-t-xl transition-all duration-500 hover:brightness-125 ${u>0?"bg-gradient-to-t from-[#135bec] to-[#7f13ec]":"bg-white/5"}`})}),e.jsx("span",{className:"text-[8px] font-black text-slate-600 uppercase",children:a.toLocaleDateString("es-AR",{weekday:"short"})})]},o)})})]})]},"overview")},kt=({clients:s,events:n,setShowCreateClientModal:t,setEditingClient:r,setShowClientTopUpModal:c,setSelectedClientId:m,setView:p,exportClientReport:g})=>e.jsxs(S.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},exit:{opacity:0,y:-20},className:"space-y-8",children:[e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{children:[e.jsx("h2",{className:"text-2xl font-black text-white uppercase tracking-tighter",children:"Cartera de Clientes"}),e.jsx("p",{className:"text-slate-500 text-xs uppercase tracking-[2px] mt-1 font-bold",children:"Administra tus cuentas corporativas y saldos asignados"})]}),e.jsxs("button",{onClick:()=>t(!0),className:"px-6 py-2.5 bg-[#135bec] hover:bg-[#135bec]/90 text-white text-[10px] font-black rounded-xl shadow-lg shadow-[#135bec]/20 transition-all uppercase tracking-[2px] flex items-center gap-2",children:[e.jsx(Ee,{className:"size-4"}),"Nuevo Cliente"]})]}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6",children:[s.map(o=>{const a=n.filter(u=>u.client_id===o.id||u.client_email===o.email),l=a.reduce((u,i)=>u+i.credits_used,0);return e.jsxs(S.div,{whileHover:{y:-5},className:`glass-card rounded-[32px] p-8 border bg-slate-900/40 relative overflow-hidden group transition-all duration-300 ${o.credits_total===0?"border-l-4 border-l-amber-500 border-white/5 shadow-[0_0_20px_rgba(245,158,11,0.05)]":"border-l-4 border-l-[#135bec] border-white/5"}`,children:[o.credits_total===0&&e.jsx("div",{className:"absolute top-0 right-0 pt-8 pr-8",children:e.jsxs("div",{className:"px-3 py-1 bg-amber-500/10 border border-amber-500/20 rounded-full flex items-center gap-1.5",children:[e.jsx(et,{className:"size-3 text-amber-500"}),e.jsx("span",{className:"text-[8px] font-black text-amber-500 uppercase tracking-[2px]",children:"Nuevo Lead"})]})}),e.jsxs("div",{className:"flex items-center justify-between mb-8",children:[e.jsx("div",{className:"p-4 bg-[#135bec]/10 rounded-2xl border border-[#135bec]/20",children:e.jsx(re,{className:"size-6 text-[#135bec]"})}),e.jsxs("div",{className:"flex gap-2",children:[e.jsx("button",{onClick:()=>r(o),className:"p-2 bg-white/5 hover:bg-white/10 rounded-lg border border-white/10 text-slate-400 hover:text-white transition-all",title:"Editar Cliente",children:e.jsx(le,{className:"size-3"})}),e.jsxs("div",{className:"px-3 py-1 bg-white/5 rounded-full border border-white/10 text-[9px] font-black text-slate-400 uppercase tracking-widest",children:[a.length," Proyectos"]})]})]}),e.jsxs("div",{className:"mb-6",children:[e.jsx("h3",{className:"text-lg font-black text-white uppercase tracking-tight truncate",children:o.name}),e.jsxs("p",{className:"text-xs text-slate-500 flex items-center gap-2 mt-1 lowercase",children:[e.jsx(tt,{className:"size-3"}),o.email||"Sin email"]})]}),e.jsxs("div",{className:"space-y-4 mb-8",children:[e.jsxs("div",{className:"flex items-center justify-between text-[10px] uppercase font-bold",children:[e.jsx("span",{className:"text-slate-500 tracking-widest",children:"Saldo Asignado"}),e.jsxs("span",{className:"text-white tracking-widest",children:[o.credits_total.toLocaleString()," Cds"]})]}),e.jsxs("div",{className:"flex items-center justify-between text-[10px] uppercase font-bold text-slate-600",children:[e.jsx("span",{children:"Consumido"}),e.jsxs("span",{children:[l.toLocaleString()," (",o.credits_total>0?Math.round(l/o.credits_total*100):0,"%)"]})]}),e.jsx("div",{className:"w-full h-1.5 bg-white/5 rounded-full overflow-hidden",children:e.jsx("div",{className:"h-full bg-gradient-to-r from-[#135bec] to-[#00d2ff] rounded-full",style:{width:`${Math.min(100,l/o.credits_total*100||0)}%`}})})]}),e.jsxs("div",{className:"grid grid-cols-2 gap-3",children:[e.jsx("button",{onClick:()=>{m(o.email||o.id),p("events")},className:"py-3 bg-[#135bec]/10 hover:bg-[#135bec]/20 text-[#135bec] border border-[#135bec]/30 rounded-xl text-[10px] font-black uppercase tracking-[2px] transition-all flex items-center justify-center gap-2",children:"Proyectos"}),e.jsx("button",{onClick:()=>c(o),className:"py-3 bg-emerald-500/10 hover:bg-emerald-500/20 text-emerald-500 border border-emerald-500/30 rounded-xl text-[10px] font-black uppercase tracking-[2px] transition-all flex items-center justify-center gap-2",children:"Asignar $"}),e.jsxs("button",{onClick:()=>g(o),className:"col-span-2 py-3 bg-white/5 hover:bg-white/10 text-slate-300 border border-white/10 rounded-xl text-[10px] font-black uppercase tracking-[2px] transition-all flex items-center justify-center gap-2",children:[e.jsx(je,{className:"size-3"}),"Exportar Reporte"]})]})]},o.id)}),s.length===0&&e.jsxs("div",{className:"col-span-full py-20 text-center glass-card rounded-[40px] border-dashed border-white/10",children:[e.jsx(re,{className:"size-12 text-slate-700 mx-auto mb-4 opacity-20"}),e.jsx("p",{className:"text-slate-500 font-black uppercase tracking-widest",children:"No hay clientes registrados"}),e.jsx("button",{onClick:()=>t(!0),className:"text-[#135bec] text-xs font-bold mt-4 hover:underline",children:"Crear primer cliente corporativo"})]})]})]},"clients"),_t=({events:s,filteredEvents:n,searchTerm:t,setSearchTerm:r,selectedClientId:c,setSelectedClientId:m,setShowCreateEventModal:p,setEventToTopUp:g,setEventToModerate:o,setView:a,setEditingEvent:l,setEventToDelete:u,onProxyClient:i})=>e.jsxs(S.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},exit:{opacity:0,y:-20},className:"space-y-6",children:[e.jsxs("div",{className:"flex items-center justify-between px-2",children:[e.jsxs("div",{children:[e.jsx("h2",{className:"text-2xl font-black text-white uppercase tracking-tighter",children:c?`Proyectos: ${c.split("@")[0]}`:"Mis Eventos"}),c?e.jsxs("button",{onClick:()=>m(null),className:"flex items-center gap-2 text-[#135bec] text-[10px] font-black uppercase tracking-[2px] mt-1 hover:text-[#135bec]/80 transition-colors group",children:[e.jsx(Pe,{className:"size-3 group-hover:-translate-x-1 transition-transform"}),"Volver a todos los proyectos"]}):e.jsx("p",{className:"text-slate-500 text-xs mt-1",children:"Gestiona las instancias activas y el consumo de crÃ©ditos."})]}),e.jsxs("div",{className:"flex items-center gap-4",children:[e.jsxs("div",{className:"relative group",children:[e.jsx(Ue,{className:"w-4 h-4 absolute left-3 top-1/2 -translate-y-1/2 text-slate-500 group-focus-within:text-[#135bec] transition-colors"}),e.jsx("input",{type:"text",placeholder:"Buscar por nombre o slug...",value:t,onChange:d=>r(d.target.value),className:"bg-slate-900 border border-slate-800 rounded-xl pl-9 pr-4 py-2.5 text-xs text-white focus:ring-1 focus:ring-[#135bec] focus:border-[#135bec] w-64 transition-all outline-none"})]}),e.jsxs("button",{onClick:()=>p(!0),className:"px-6 py-2.5 bg-[#135bec] hover:bg-[#135bec]/90 text-white text-[10px] font-black rounded-xl shadow-lg shadow-[#135bec]/20 transition-all uppercase tracking-[2px] flex items-center gap-2",children:[e.jsx(Ee,{className:"size-4"}),"Nuevo Evento"]})]})]}),e.jsx("div",{className:"glass-card rounded-2xl overflow-hidden border border-white/5 bg-slate-900/50 backdrop-blur-xl",children:e.jsxs("table",{className:"w-full text-left border-collapse",children:[e.jsx("thead",{className:"bg-white/[0.03] border-b border-white/5",children:e.jsxs("tr",{children:[e.jsx("th",{className:"px-6 py-5 text-[10px] font-black text-slate-500 uppercase tracking-widest",children:"IdentificaciÃ³n"}),e.jsx("th",{className:"px-6 py-5 text-[10px] font-black text-slate-500 uppercase tracking-widest",children:"Consumo de CrÃ©ditos"}),e.jsx("th",{className:"px-6 py-5 text-[10px] font-black text-slate-500 uppercase tracking-widest",children:"Estado"}),e.jsx("th",{className:"px-6 py-5 text-[10px] font-black text-slate-500 uppercase tracking-widest text-right",children:"Panel de Control"})]})}),e.jsxs("tbody",{className:"divide-y divide-white/5",children:[n.map(d=>{const y=d.credits_allocated?Math.min(100,Math.round(d.credits_used/d.credits_allocated*100)):0;return e.jsxs("tr",{className:"hover:bg-white/[0.02] transition-colors group",children:[e.jsx("td",{className:"px-6 py-5",children:e.jsxs("div",{className:"flex items-center gap-4",children:[e.jsx("div",{className:"size-12 rounded-xl bg-gradient-to-br from-[#135bec]/20 to-[#0a1f4d]/20 border border-[#135bec]/20 flex items-center justify-center text-[#135bec] font-black text-sm group-hover:scale-110 transition-transform",children:((d==null?void 0:d.event_name)||"E").substring(0,2).toUpperCase()}),e.jsxs("div",{children:[e.jsx("p",{className:"text-sm font-bold text-white group-hover:text-[#135bec] transition-colors",children:d.event_name}),e.jsxs("div",{className:"flex items-center gap-2 mt-0.5",children:[e.jsx(mt,{className:"size-3 text-slate-600"}),e.jsxs("p",{className:"text-[10px] text-slate-500 font-mono",children:["/",d.event_slug]})]})]})]})}),e.jsx("td",{className:"px-6 py-5",children:e.jsxs("div",{className:"w-48",children:[e.jsxs("div",{className:"flex justify-between text-[10px] mb-1.5 font-bold",children:[e.jsxs("span",{className:"text-slate-400",children:[d.credits_used.toLocaleString()," / ",d.credits_allocated.toLocaleString()]}),e.jsxs("span",{className:`${y>90?"text-rose-500":"text-emerald-500"}`,children:[y,"%"]})]}),e.jsx("div",{className:"w-full h-1.5 bg-slate-800 rounded-full overflow-hidden p-[1px]",children:e.jsx(S.div,{initial:{width:0},animate:{width:`${y}%`},transition:{duration:1,ease:"easeOut"},className:`h-full ${y>90?"bg-rose-500":"bg-[#135bec]"} rounded-full shadow-[0_0_8px_rgba(19,91,236,0.5)]`})})]})}),e.jsx("td",{className:"px-6 py-5",children:e.jsxs("span",{className:`inline-flex items-center gap-1.5 px-3 py-1.5 rounded-full text-[10px] font-black uppercase tracking-wider ${d.is_active?"bg-emerald-500/10 text-emerald-500 border border-emerald-500/20":"bg-rose-500/10 text-rose-500 border border-rose-500/20"}`,children:[e.jsx("span",{className:`size-2 rounded-full ${d.is_active?"bg-emerald-500 animate-pulse":"bg-rose-500"}`}),d.is_active?"En LÃ­nea":"Pausado"]})}),e.jsx("td",{className:"px-6 py-5 text-right",children:e.jsxs("div",{className:"flex items-center justify-end gap-3",children:[e.jsx("button",{onClick:()=>g(d),className:"p-2.5 bg-emerald-500/10 hover:bg-emerald-500 border border-emerald-500/20 rounded-xl text-emerald-500 hover:text-white transition-all group/action",title:"Cargar CrÃ©ditos",children:e.jsx(ce,{className:"w-4 h-4 group-hover/action:scale-110 transition-transform"})}),e.jsx("button",{onClick:()=>{o(d),a("moderation")},className:"p-2.5 bg-indigo-500/10 hover:bg-indigo-500 border border-indigo-500/20 rounded-xl text-indigo-500 hover:text-white transition-all group/action",title:"ModeraciÃ³n de GalerÃ­a",children:e.jsx(rt,{className:"w-4 h-4 group-hover/action:scale-110 transition-transform"})}),e.jsx("button",{onClick:()=>l(d),className:"p-2.5 bg-slate-800/50 hover:bg-slate-800 border border-white/5 rounded-xl text-slate-400 hover:text-white transition-all group/action",title:"Editar Evento",children:e.jsx(le,{className:"w-4 h-4 group-hover/action:rotate-12 transition-transform"})}),e.jsx("button",{onClick:()=>window.open(`https://photobooth.creativa-labs.com/?event=${d.event_slug}`,"_blank"),className:"p-2.5 bg-slate-800/50 hover:bg-slate-800 border border-white/5 rounded-xl text-slate-400 hover:text-white transition-all group/action",title:"Ver Kiosco (PÃºblico)",children:e.jsx($e,{className:"w-4 h-4 group-hover/action:scale-110 transition-transform"})}),i&&d.client_email&&e.jsx("button",{onClick:()=>i(d.client_email),className:"p-2.5 bg-[#135bec]/10 hover:bg-[#135bec] border border-[#135bec]/20 rounded-xl text-[#135bec] hover:text-white transition-all group/action",title:"Gestionar Branding como Cliente",children:e.jsx(lt,{className:"w-4 h-4 group-hover/action:scale-110 transition-transform"})}),e.jsx("button",{onClick:()=>u({id:d.id,name:d.event_name}),className:"p-2.5 bg-rose-500/10 hover:bg-rose-500 border border-rose-500/20 rounded-xl text-rose-500 hover:text-white transition-all group/action",title:"Eliminar Instancia",children:e.jsx(ge,{className:"w-4 h-4 group-hover/action:scale-110 transition-transform"})})]})})]},d.id)}),n.length===0&&e.jsx("tr",{children:e.jsx("td",{colSpan:4,className:"p-20 text-center",children:e.jsxs("div",{className:"flex flex-col items-center",children:[e.jsx("div",{className:"size-16 rounded-2xl bg-slate-800/50 flex items-center justify-center mb-4",children:e.jsx(ie,{className:"size-8 text-slate-600 opacity-20"})}),e.jsx("p",{className:"text-slate-400 text-sm font-bold uppercase tracking-widest",children:"No hay eventos para mostrar"}),e.jsx("p",{className:"text-slate-600 text-[10px] mt-1",children:"Crea tu primera instancia para comenzar."})]})})})]})]})})]},"events"),Ct=({eventToModerate:s,setView:n,filteredPhotos:t,eventPhotos:r,moderationSearchTerm:c,setModerationSearchTerm:m,moderationDateFilter:p,setModerationDateFilter:g,showToast:o,handleDeletePhoto:a,moderationLoading:l,selectedPhotos:u,setSelectedPhotos:i,handleBulkDelete:d})=>{const y=async(f,N)=>{if(f.length===0)return o("No hay fotos para descargar","error");try{o("Preparando descarga ZIP...","info");const k=new it,C=k.folder(N);if(!C)throw new Error("No se pudo crear la carpeta en el ZIP");const L=f.map(async(q,P)=>{var O;try{const x=await(await fetch(q.image_url)).blob(),j=((O=q.image_url.split(".").pop())==null?void 0:O.split("?")[0])||"jpg";C.file(`photo-${P+1}.${j}`,x)}catch(h){console.error("Error al descargar foto para el ZIP:",h)}});await Promise.all(L);const W=await k.generateAsync({type:"blob"}),D=window.URL.createObjectURL(W),$=document.createElement("a");$.href=D,$.download=`${N}.zip`,$.click(),window.URL.revokeObjectURL(D),o("Archivo ZIP descargado con Ã©xito")}catch(k){console.error("Error al generar ZIP:",k),o("Error al generar el archivo ZIP","error")}};return e.jsxs(S.div,{initial:{opacity:0,scale:.95},animate:{opacity:1,scale:1},exit:{opacity:0,scale:1.05},className:"space-y-6",children:[e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{className:"flex items-center gap-4",children:[e.jsx("button",{onClick:()=>n("events"),className:"p-2.5 bg-slate-800 hover:bg-slate-700 rounded-xl text-white transition-all border border-white/5",children:e.jsx(Ae,{className:"w-5 h-5 rotate-180"})}),e.jsxs("div",{children:[e.jsxs("h2",{className:"text-2xl font-black text-white uppercase tracking-tighter",children:["GalerÃ­a: ",s==null?void 0:s.event_name]}),e.jsxs("div",{className:"flex items-center gap-2 mt-1",children:[e.jsx("span",{className:`size-2 rounded-full ${t.length>0?"bg-emerald-500 animate-pulse":"bg-slate-700"}`}),e.jsxs("p",{className:"text-slate-500 text-[10px] font-black uppercase tracking-widest",children:[t.length," de ",r.length," Fotos"]})]})]})]}),e.jsxs("div",{className:"flex items-center gap-4",children:[e.jsxs("div",{className:"flex items-center gap-3 bg-slate-900/80 p-1.5 rounded-2xl border border-white/5 shadow-inner",children:[e.jsxs("div",{className:"relative",children:[e.jsx(Ue,{className:"absolute left-3.5 top-1/2 -translate-y-1/2 size-3.5 text-slate-600"}),e.jsx("input",{type:"text",placeholder:"Buscar email o ID...",className:"bg-slate-950/50 border border-white/5 rounded-xl py-2.5 pl-10 pr-4 text-[10px] text-white focus:border-[#135bec] outline-none transition-all w-52 placeholder:text-slate-700 font-bold uppercase tracking-widest",value:c,onChange:f=>m(f.target.value)})]}),e.jsxs("div",{className:"relative",children:[e.jsx(ie,{className:"absolute left-3.5 top-1/2 -translate-y-1/2 size-3.5 text-slate-600"}),e.jsx("input",{type:"date",className:"bg-slate-950/50 border border-white/5 rounded-xl py-2.5 pl-10 pr-4 text-[10px] text-white focus:border-[#135bec] outline-none transition-all w-40 font-bold",value:p,onChange:f=>g(f.target.value)})]}),(c||p)&&e.jsx("button",{onClick:()=>{m(""),g("")},className:"p-2.5 hover:bg-white/5 text-slate-500 hover:text-white transition-all rounded-xl",children:e.jsx(Le,{className:"size-4"})})]}),e.jsx("div",{className:"w-px h-8 bg-white/5 mx-1"}),e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsxs("button",{onClick:()=>{const f=t.map(L=>L.image_url).join(`
`);if(f.length===0)return o("No hay links para exportar","error");const N=new Blob([f],{type:"text/plain"}),k=window.URL.createObjectURL(N),C=document.createElement("a");C.href=k,C.download=`links-${s==null?void 0:s.event_slug}-filtrados.txt`,C.click(),window.URL.revokeObjectURL(k),o("Links filtrados exportados")},className:"px-6 py-2.5 bg-slate-800 hover:bg-slate-700 text-white text-[10px] font-black rounded-xl border border-white/5 transition-all uppercase tracking-[2px] flex items-center gap-2",children:[e.jsx(je,{className:"size-4"}),"Exportar Links"]}),e.jsxs("button",{onClick:()=>y(t,`galeria-${s==null?void 0:s.event_slug}`),className:"px-6 py-2.5 bg-[#135bec] hover:bg-[#135bec]/90 text-white text-[10px] font-black rounded-xl shadow-lg border border-white/10 transition-all uppercase tracking-[2px] flex items-center gap-2",children:[e.jsx(bt,{className:"size-4"}),"Descargar Todo (ZIP)"]})]})]})]}),e.jsx(ae,{children:u.length>0&&e.jsxs(S.div,{initial:{y:100,opacity:0},animate:{y:0,opacity:1},exit:{y:100,opacity:0},className:"fixed bottom-10 left-1/2 -translate-x-1/2 z-[60] bg-slate-900/90 backdrop-blur-2xl border border-[#135bec]/30 rounded-2xl px-8 py-4 flex items-center gap-8 shadow-[0_20px_50px_rgba(0,0,0,0.5)]",children:[e.jsxs("div",{className:"flex flex-col",children:[e.jsx("span",{className:"text-[10px] font-black text-[#135bec] uppercase tracking-widest",children:"SelecciÃ³n Activa"}),e.jsxs("span",{className:"text-xl font-black text-white",children:[u.length," ",e.jsx("span",{className:"text-xs text-slate-500 font-medium",children:"Fotos"})]})]}),e.jsx("div",{className:"w-px h-10 bg-white/10"}),e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx("button",{onClick:()=>i([]),className:"px-4 py-2 text-[10px] font-black text-slate-400 uppercase tracking-widest hover:text-white transition-colors",children:"Cancelar"}),e.jsxs("button",{onClick:()=>{const f=r.filter(N=>u.includes(N.id));y(f,"seleccion-fotos")},className:"px-6 py-2.5 bg-white text-black text-[10px] font-black rounded-xl hover:bg-slate-200 transition-all uppercase tracking-[2px] flex items-center gap-2",children:[e.jsx(je,{className:"size-4"}),"Descargar ZIP"]}),e.jsxs("button",{onClick:d,className:"px-6 py-2.5 bg-rose-500 text-white text-[10px] font-black rounded-xl hover:bg-rose-600 transition-all uppercase tracking-[2px] flex items-center gap-2",children:[e.jsx(ge,{className:"size-4"}),"Eliminar Seleccionadas"]})]})]})}),l?e.jsxs("div",{className:"h-96 flex flex-col items-center justify-center gap-4",children:[e.jsx("div",{className:"size-12 border-4 border-[#135bec]/30 border-t-[#135bec] rounded-full animate-spin"}),e.jsx("p",{className:"text-slate-500 text-[10px] font-black uppercase tracking-widest",children:"Sincronizando GalerÃ­a..."})]}):e.jsxs("div",{className:"grid grid-cols-2 md:grid-cols-4 lg:grid-cols-5 xl:grid-cols-6 gap-4",children:[t.map(f=>{var N;return e.jsxs("div",{onClick:()=>{u.includes(f.id)?i(k=>k.filter(C=>C!==f.id)):i(k=>[...k,f.id])},className:`group relative aspect-[3/4] rounded-2xl overflow-hidden border transition-all duration-300 cursor-pointer shadow-xl ${u.includes(f.id)?"border-[#135bec] scale-[0.98] ring-4 ring-[#135bec]/20":"border-white/5 bg-slate-900"}`,children:[e.jsx("div",{className:`absolute top-4 left-4 z-20 size-5 rounded-md border flex items-center justify-center transition-all ${u.includes(f.id)?"bg-[#135bec] border-[#135bec] text-white":"bg-black/20 border-white/20 text-transparent opacity-0 group-hover:opacity-100"}`,children:e.jsx("span",{className:"text-[14px] font-black",children:"âœ“"})}),e.jsx("img",{src:f.image_url,alt:"Generation",className:`w-full h-full object-cover transition-transform duration-700 group-hover:scale-110 ${u.includes(f.id)?"opacity-50":""}`}),e.jsxs("div",{className:"absolute inset-x-0 bottom-0 bg-gradient-to-t from-black/90 via-black/50 to-transparent p-4 translate-y-2 group-hover:translate-y-0 transition-transform",children:[e.jsx("p",{className:"text-[8px] font-mono text-white/50 mb-0.5 truncate",children:f.id}),e.jsx("p",{className:"text-[10px] font-black text-white mb-3 truncate uppercase tracking-widest",children:((N=f.profiles)==null?void 0:N.email)||"AnÃ³nimo"}),e.jsxs("div",{className:"flex gap-2",children:[e.jsx("button",{onClick:k=>{k.stopPropagation(),a(f.id)},className:"p-2.5 bg-rose-500/20 hover:bg-rose-500 border border-rose-500/30 rounded-xl text-rose-500 hover:text-white transition-all group/del",title:"Eliminar de la galerÃ­a",children:e.jsx(ge,{className:"size-4 group-hover/del:scale-110 transition-transform"})}),e.jsxs("button",{onClick:k=>{k.stopPropagation(),window.open(f.image_url,"_blank")},className:"flex-1 py-2 bg-white/10 backdrop-blur-md border border-white/20 rounded-xl text-white text-[9px] font-black uppercase tracking-widest hover:bg-white/20 transition-all flex items-center justify-center gap-2",children:[e.jsx($e,{className:"size-3"}),"Ver Original"]})]})]})]},f.id)}),t.length===0&&e.jsxs("div",{className:"col-span-full h-64 flex flex-col items-center justify-center bg-slate-900/50 rounded-[32px] border border-dashed border-white/5",children:[e.jsx(Ne,{className:"size-8 text-slate-800 mb-4"}),e.jsx("p",{className:"text-slate-500 text-[10px] font-black uppercase tracking-widest",children:"No hay fotos en este evento"})]})]})]},"moderation")},St=({brandingConfig:s,setBrandingConfig:n,handleLogoUpload:t,handleUpdateBranding:r,isSavingBranding:c,toggleStylePreset:m,recentGlobalPhotos:p,events:g,setView:o})=>e.jsxs("div",{className:"grid grid-cols-1 xl:grid-cols-12 gap-8",children:[e.jsx("div",{className:"xl:col-span-8 space-y-8",children:e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-8",children:[e.jsxs("section",{className:"glass-card rounded-[32px] p-8 border border-white/5 bg-slate-900/50 backdrop-blur-xl shadow-2xl h-fit",children:[e.jsxs("div",{className:"flex items-center gap-3 mb-8",children:[e.jsx("div",{className:"p-3 bg-indigo-500/10 border border-indigo-500/20 rounded-xl text-indigo-500",children:e.jsx(st,{className:"w-6 h-6"})}),e.jsxs("div",{children:[e.jsx("h2",{className:"text-xl font-black text-white uppercase tracking-tighter",children:"Identidad Visual"}),e.jsx("p",{className:"text-slate-500 text-xs",children:"Personaliza tu panel de control."})]})]}),e.jsxs("div",{className:"space-y-8",children:[e.jsxs("div",{children:[e.jsx("label",{className:"text-[10px] font-black text-slate-500 uppercase tracking-[2px] block mb-4",children:"Logo Corporativo"}),e.jsxs("div",{className:"w-full border-2 border-dashed border-slate-800 rounded-2xl p-6 flex flex-col items-center justify-center bg-slate-950/50 hover:bg-slate-950 transition-all cursor-pointer group hover:border-[#135bec]/50 shadow-inner",onClick:()=>{var a;return(a=document.getElementById("brandingLogoInput"))==null?void 0:a.click()},children:[e.jsx("input",{type:"file",id:"brandingLogoInput",className:"hidden",accept:"image/*",onChange:t}),s.logo_url?e.jsxs("div",{className:"relative group/logo",children:[e.jsx("img",{src:s.logo_url,className:"h-12 object-contain mb-2 group-hover:opacity-50 transition-opacity",alt:"Logo"}),e.jsx("div",{className:"absolute inset-0 flex items-center justify-center opacity-0 group-hover/logo:opacity-100 transition-opacity",children:e.jsx(le,{className:"size-5 text-white"})})]}):e.jsxs("div",{className:"flex flex-col items-center",children:[e.jsx(ct,{className:"w-8 h-8 text-slate-700 group-hover:text-[#135bec] mb-3 transition-colors"}),e.jsx("p",{className:"text-[10px] text-slate-500 font-bold uppercase tracking-widest text-center",children:"Subir Identidad"})]})]})]}),e.jsxs("div",{className:"space-y-6",children:[e.jsxs("div",{children:[e.jsx("label",{className:"text-[10px] font-black text-slate-500 uppercase tracking-[2px] block mb-4",children:"Color de Acento"}),e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx("div",{className:"size-12 rounded-xl border-2 border-white/10 shadow-2xl cursor-pointer hover:scale-105 transition-all",style:{backgroundColor:s.primary_color},onClick:()=>{var a;return(a=document.getElementById("brandingColorPicker"))==null?void 0:a.click()}}),e.jsx("input",{id:"brandingColorPicker",type:"color",className:"sr-only",value:s.primary_color,onChange:a=>n({...s,primary_color:a.target.value})}),e.jsxs("div",{className:"flex-1 bg-slate-950 border border-slate-800 rounded-xl py-3 px-4 text-xs text-white font-mono flex items-center justify-between",children:[e.jsx("span",{children:s.primary_color.toUpperCase()}),e.jsx(le,{className:"size-3 text-slate-600"})]})]})]}),e.jsxs("div",{children:[e.jsx("label",{className:"text-[10px] font-black text-slate-500 uppercase tracking-[2px] block mb-4",children:"Radio de Bordes"}),e.jsxs("div",{className:"relative",children:[e.jsxs("select",{className:"w-full bg-slate-950 border border-slate-800 rounded-xl py-3 px-4 text-xs text-white focus:ring-1 focus:ring-[#135bec] outline-none appearance-none cursor-pointer pr-10",value:s.radius,onChange:a=>n({...s,radius:a.target.value}),children:[e.jsx("option",{value:"4px",children:"4px (Recto)"}),e.jsx("option",{value:"8px",children:"8px (Suave)"}),e.jsx("option",{value:"12px",children:"12px (Premium)"}),e.jsx("option",{value:"20px",children:"20px (Redondeado)"})]}),e.jsx("div",{className:"absolute right-4 top-1/2 -translate-y-1/2 pointer-events-none",children:e.jsx(Ae,{className:"size-3 text-slate-600"})})]})]})]}),e.jsxs("button",{onClick:r,disabled:c,className:`w-full py-4 bg-white text-slate-900 text-[10px] font-black rounded-2xl transition-all shadow-xl hover:shadow-2xl active:scale-[0.98] uppercase tracking-[3px] flex items-center justify-center gap-2 group ${c?"opacity-50 cursor-not-allowed":""}`,children:[c?e.jsx("div",{className:"size-4 border-2 border-slate-900 border-t-transparent rounded-full animate-spin"}):e.jsx(fe,{className:"size-4 group-hover:scale-110 transition-transform"}),c?"Sincronizando...":"Sincronizar Panel"]})]})]}),e.jsxs("div",{className:"glass-card rounded-[32px] p-8 border border-white/5 bg-slate-900/50 backdrop-blur-xl shadow-2xl relative overflow-hidden h-fit",children:[e.jsx("div",{className:"flex items-center justify-between mb-8 relative z-10",children:e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx("div",{className:"p-3 bg-[#135bec]/10 border border-[#135bec]/20 rounded-xl text-[#135bec]",children:e.jsx(I,{className:"w-6 h-6"})}),e.jsxs("div",{children:[e.jsx("h2",{className:"text-xl font-black text-white uppercase tracking-tighter",children:"Estilos IA"}),e.jsx("p",{className:"text-slate-500 text-xs",children:"Packs activos para clientes."})]})]})}),e.jsx("div",{className:"grid grid-cols-2 gap-4 relative z-10",children:H.map(a=>{const l=se.find(u=>u.subCategory===a)||se[0];return e.jsxs("label",{className:"relative block cursor-pointer group",children:[e.jsx("input",{type:"checkbox",checked:s.style_presets.includes(a),onChange:()=>m(a),className:"peer sr-only"}),e.jsxs("div",{className:`aspect-square rounded-2xl overflow-hidden relative border-2 transition-all duration-300 ${s.style_presets.includes(a)?"border-[#135bec] scale-[1.02] shadow-xl shadow-[#135bec]/20":"border-white/5 opacity-40 hover:border-white/20 hover:opacity-80"}`,children:[e.jsx("div",{className:"absolute inset-0 bg-gradient-to-t from-black/80 to-transparent z-10"}),e.jsx("img",{alt:a,className:"w-full h-full object-cover group-hover:scale-110 transition-transform duration-700",src:l.url}),e.jsx("div",{className:"absolute bottom-2 left-3 z-20",children:e.jsx("p",{className:"text-[8px] font-black uppercase text-white tracking-[1px] leading-tight",children:a})}),s.style_presets.includes(a)&&e.jsx("div",{className:"absolute top-2 right-2 z-20",children:e.jsx("div",{className:"bg-[#135bec] rounded-full p-1 shadow-xl border border-white/20",children:e.jsx(fe,{className:"w-2.5 h-2.5 text-white"})})})]})]},a)})})]})]})}),e.jsxs("div",{className:"xl:col-span-4 sticky top-8",children:[e.jsxs("div",{className:"flex flex-col items-center",children:[e.jsxs("div",{className:"mb-6 flex items-center gap-3",children:[e.jsx("div",{className:"size-1.5 rounded-full bg-emerald-500 animate-pulse"}),e.jsx("span",{className:"text-[10px] font-black text-slate-500 uppercase tracking-[4px]",children:"Live Preview (Kiosk)"})]}),e.jsxs("div",{className:"relative w-[280px] h-[580px] bg-slate-800 rounded-[50px] p-3 border-[6px] border-slate-700 shadow-2xl overflow-hidden shadow-black/60",children:[e.jsx("div",{className:"absolute top-0 left-1/2 -translate-x-1/2 w-32 h-6 bg-slate-700 rounded-b-2xl z-50"}),e.jsxs("div",{className:"w-full h-full bg-[#071121] rounded-[40px] overflow-hidden flex flex-col relative",children:[e.jsx("div",{className:"absolute inset-0 opacity-20",style:{background:`radial-gradient(circle at 50% 50%, ${s.primary_color}33 0%, transparent 70%)`}}),e.jsxs("div",{className:"p-6 flex flex-col items-center justify-center pt-10",children:[s.logo_url?e.jsx("img",{src:s.logo_url,className:"h-10 object-contain mb-4",alt:"Mockup Logo"}):e.jsx("div",{className:"h-10 w-32 bg-white/5 rounded-xl border border-white/10 flex items-center justify-center text-[8px] text-slate-600 font-black uppercase tracking-[2px]",children:"Your Logo Here"}),e.jsx("div",{className:"w-12 h-0.5",style:{background:`linear-gradient(90deg, transparent, ${s.primary_color}, transparent)`}})]}),e.jsxs("div",{className:"px-6 py-2 text-center",children:[e.jsx("h3",{className:"text-[14px] font-black text-white uppercase tracking-tighter italic",children:"Descubre tu Identidad"}),e.jsx("p",{className:"text-[8px] text-slate-500 uppercase font-black tracking-widest mt-1 opacity-60",children:"Selecciona un estandar de estilo"})]}),e.jsx("div",{className:"flex-1 overflow-y-auto px-6 py-4 no-scrollbar",children:e.jsxs("div",{className:"grid grid-cols-2 gap-3",children:[s.style_presets.slice(0,4).map((a,l)=>{const u=se.find(i=>i.subCategory===a)||se[0];return e.jsxs("div",{className:"aspect-[3/4] overflow-hidden relative border shadow-lg",style:{borderRadius:s.radius,borderColor:l===0?s.primary_color:"rgba(255,255,255,0.05)"},children:[e.jsx("div",{className:"absolute inset-0 bg-gradient-to-t from-black/60 to-transparent z-10"}),e.jsx("img",{src:u.url,className:"w-full h-full object-cover"}),e.jsx("div",{className:"absolute bottom-2 left-2 z-20",children:e.jsx("p",{className:"text-[7px] font-black text-white uppercase",children:a})})]},l)}),s.style_presets.length<4&&Array.from({length:4-s.style_presets.length}).map((a,l)=>e.jsx("div",{className:"aspect-[3/4] bg-white/5 border border-dashed border-white/10 flex items-center justify-center text-slate-800",style:{borderRadius:s.radius},children:e.jsx("span",{className:"text-sm",children:"+"})},l))]})}),e.jsx("div",{className:"p-6",children:e.jsx("div",{className:"w-full py-3 text-center text-white text-[9px] font-black uppercase tracking-[2px] shadow-lg shadow-black/20",style:{backgroundColor:s.primary_color,borderRadius:s.radius},children:"Comenzar Experiencia"})})]})]})]}),e.jsxs("div",{className:"mt-8",children:[e.jsxs("div",{className:"flex items-center justify-between mb-4 px-2",children:[e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx("div",{className:"size-8 rounded-lg bg-orange-500/10 flex items-center justify-center text-orange-500",children:e.jsx(I,{className:"size-4"})}),e.jsxs("div",{children:[e.jsx("h4",{className:"text-xs font-black text-white uppercase tracking-widest",children:"Global Live Feed"}),e.jsx("p",{className:"text-[9px] text-slate-500 font-bold uppercase tracking-[2px]",children:"Ãšltimas capturas en tus eventos"})]})]}),e.jsx("button",{onClick:()=>o("events"),className:"text-[9px] font-black text-[#135bec] uppercase tracking-widest hover:underline",children:"Ver todos los eventos"})]}),e.jsxs("div",{className:"relative group/feed",children:[e.jsx("div",{className:"flex gap-4 overflow-x-auto pb-6 pt-2 no-scrollbar scroll-smooth",children:p.length>0?p.map((a,l)=>{var u;return e.jsxs(S.div,{initial:{opacity:0,scale:.9},animate:{opacity:1,scale:1},transition:{delay:l*.1},className:"min-w-[140px] md:min-w-[180px] aspect-[3/4] rounded-2xl overflow-hidden border border-white/5 bg-slate-900 shadow-xl relative group/item",children:[e.jsx("img",{src:a.image_url,alt:"Recent",className:"w-full h-full object-cover grayscale-[0.5] group-hover/item:grayscale-0 transition-all duration-500"}),e.jsxs("div",{className:"absolute inset-x-0 bottom-0 p-3 bg-gradient-to-t from-black/80 to-transparent",children:[e.jsx("p",{className:"text-[7px] font-black text-white/50 uppercase tracking-widest mb-0.5",children:((u=g.find(i=>i.id===a.event_id))==null?void 0:u.event_name)||"Evento"}),e.jsxs("p",{className:"text-[8px] font-bold text-white uppercase",children:["Hace ",Math.floor((Date.now()-new Date(a.created_at).getTime())/6e4),"m"]})]})]},a.id)}):e.jsxs("div",{className:"w-full h-40 rounded-[32px] border border-dashed border-white/10 flex flex-col items-center justify-center text-slate-600",children:[e.jsx(X,{className:"size-8 mb-2 opacity-20"}),e.jsx("p",{className:"text-[10px] font-black uppercase tracking-[2px]",children:"Esperando actividad..."})]})}),e.jsx("div",{className:"absolute inset-y-0 left-0 w-20 bg-gradient-to-r from-[#0a0c0b]/50 to-transparent pointer-events-none opacity-0 group-hover/feed:opacity-100 transition-opacity"}),e.jsx("div",{className:"absolute inset-y-0 right-0 w-20 bg-gradient-to-l from-[#0a0c0b]/50 to-transparent pointer-events-none opacity-0 group-hover/feed:opacity-100 transition-opacity"})]})]})]})]}),zt=({availableCredits:s,partner:n,events:t,transactions:r,setShowTopUpModal:c})=>{var m;return e.jsxs(S.div,{initial:{opacity:0,scale:.95},animate:{opacity:1,scale:1},exit:{opacity:0,scale:1.05},className:"space-y-8",children:[e.jsxs("section",{className:"grid grid-cols-1 lg:grid-cols-3 gap-8",children:[e.jsxs("div",{className:"lg:col-span-2 glass-card rounded-3xl p-10 bg-gradient-to-br from-[#135bec] to-[#0a1f4d] border-none shadow-2xl shadow-[#135bec]/20 relative overflow-hidden",children:[e.jsx("div",{className:"absolute top-0 right-0 p-10 opacity-10",children:e.jsx(ot,{className:"size-64"})}),e.jsxs("div",{className:"relative z-10 flex flex-col h-full justify-between",children:[e.jsxs("div",{children:[e.jsx("p",{className:"text-white/60 text-[11px] font-black uppercase tracking-[3px] mb-2",children:"CrÃ©ditos Totales Disponibles"}),e.jsxs("h2",{className:"text-7xl font-black text-white tracking-tighter",children:[s.toLocaleString(),e.jsx("span",{className:"text-2xl text-white/40 ml-4 font-medium uppercase tracking-widest",children:"unidades"})]})]}),e.jsxs("div",{className:"mt-12 flex flex-wrap gap-8 items-end",children:[e.jsxs("div",{className:"space-y-1",children:[e.jsx("p",{className:"text-white/40 text-[10px] font-bold uppercase",children:"Consumo Total"}),e.jsxs("div",{className:"flex items-center gap-2 text-white",children:[e.jsx(be,{className:"size-5 text-emerald-400"}),e.jsx("span",{className:"text-2xl font-black",children:((m=n==null?void 0:n.credits_used)==null?void 0:m.toLocaleString())||0})]})]}),e.jsxs("div",{className:"space-y-1",children:[e.jsx("p",{className:"text-white/40 text-[10px] font-bold uppercase",children:"Eventos Activos"}),e.jsxs("div",{className:"flex items-center gap-2 text-white/80",children:[e.jsx(I,{className:"size-5 text-yellow-400"}),e.jsx("span",{className:"text-2xl font-black",children:t.filter(p=>p.is_active).length})]})]}),e.jsx("button",{onClick:()=>c(!0),className:"ml-auto px-8 py-4 bg-white text-[#135bec] font-black rounded-2xl hover:scale-105 transition-all text-xs uppercase tracking-[2px] shadow-xl",children:"Recargar CrÃ©ditos"})]})]})]}),e.jsxs("div",{className:"glass-card rounded-3xl p-8 border border-white/5 bg-slate-900/50 backdrop-blur-xl flex flex-col justify-between",children:[e.jsxs("div",{children:[e.jsxs("h3",{className:"text-lg font-black text-white uppercase tracking-tighter mb-6 flex items-center gap-2",children:[e.jsx(dt,{className:"size-5 text-[#135bec]"}),"Ãšltimas Recargas"]}),e.jsx("div",{className:"space-y-6 max-h-[400px] overflow-y-auto custom-scrollbar pr-2",children:r.length>0?r.map((p,g)=>e.jsxs("div",{className:"flex justify-between items-center bg-white/[0.02] p-4 rounded-2xl border border-white/5 group hover:border-[#135bec]/30 transition-all",children:[e.jsxs("div",{children:[e.jsxs("p",{className:"text-xs font-bold text-white",children:["+",p.amount.toLocaleString()," CrÃ©ditos"]}),e.jsx("p",{className:"text-[10px] text-slate-500 mt-1",children:new Date(p.created_at).toLocaleDateString()})]}),e.jsx("span",{className:`text-[9px] font-black uppercase px-2 py-1 rounded-lg ${p.type==="top-up"?"text-emerald-500 bg-emerald-500/10":"text-blue-500 bg-blue-500/10"}`,children:p.type==="top-up"?"Carga":"Ajuste"})]},p.id)):e.jsx("div",{className:"text-center py-10 opacity-40",children:e.jsx("p",{className:"text-[10px] font-bold uppercase tracking-widest",children:"Sin movimientos"})})})]}),e.jsxs("p",{className:"text-[10px] text-slate-600 text-center mt-6",children:[e.jsx(ve,{className:"size-3 inline mr-1"}),"Los crÃ©ditos no poseen fecha de vencimiento."]})]})]}),e.jsxs("section",{className:"glass-card rounded-[40px] p-10 border border-white/5 bg-slate-900/40 backdrop-blur-3xl",children:[e.jsxs("div",{className:"flex justify-between items-center mb-10",children:[e.jsxs("div",{children:[e.jsx("h3",{className:"text-2xl font-black text-white uppercase tracking-tighter",children:"AnalÃ­ticas de Consumo"}),e.jsx("p",{className:"text-slate-500 text-[9px] font-black uppercase tracking-[3px] mt-1",children:"Monitoreo de energÃ­a AI por evento activo"})]}),e.jsx("div",{className:"flex gap-2",children:e.jsxs("div",{className:"px-3 py-1 bg-emerald-500/10 border border-emerald-500/20 rounded-full flex items-center gap-2",children:[e.jsx("div",{className:"size-1.5 bg-emerald-500 rounded-full animate-pulse"}),e.jsx("span",{className:"text-[9px] font-black text-emerald-500 uppercase",children:"Live Metrics"})]})})]}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 xl:grid-cols-4 gap-8",children:[t.map((p,g)=>{var l;const o=Math.min(100,(p.credits_used||0)/(p.credits_allocated||1)*100),a=[20,45,30,60,40,75,o].map((u,i)=>`${i*20},${80-u*.6}`).join(" ");return e.jsx(S.div,{initial:{opacity:0,scale:.95},animate:{opacity:1,scale:1},transition:{delay:g*.05},className:"group relative h-full",children:e.jsxs("div",{className:"p-8 rounded-[32px] bg-gradient-to-br from-white/[0.03] to-transparent border border-white/5 group-hover:border-[#135bec]/40 transition-all overflow-hidden h-full flex flex-col",children:[e.jsx("div",{className:"absolute inset-x-0 bottom-0 h-24 opacity-20 pointer-events-none",children:e.jsxs("svg",{className:"w-full h-full",preserveAspectRatio:"none",viewBox:"0 0 120 80",children:[e.jsx("defs",{children:e.jsxs("linearGradient",{id:`grad-${g}`,x1:"0%",y1:"0%",x2:"0%",y2:"100%",children:[e.jsx("stop",{offset:"0%",stopColor:"#135bec",stopOpacity:"0.5"}),e.jsx("stop",{offset:"100%",stopColor:"#135bec",stopOpacity:"0"})]})}),e.jsx("path",{d:`M0,80 L${a} L120,80 Z`,fill:`url(#grad-${g})`,className:"group-hover:opacity-100 transition-opacity"}),e.jsx(S.path,{d:`M0,${80-20*.6} L${a}`,fill:"none",stroke:"#135bec",strokeWidth:"2",initial:{pathLength:0},animate:{pathLength:1},transition:{duration:1.5,delay:.5}})]})}),e.jsxs("div",{className:"relative z-10 flex flex-col h-full",children:[e.jsxs("div",{className:"flex justify-between items-start mb-6",children:[e.jsx("div",{className:"p-2.5 bg-white/5 rounded-xl",children:e.jsx(be,{className:`size-4 ${o>80?"text-amber-500":"text-emerald-500"}`})}),e.jsx("p",{className:"text-[10px] font-black text-white/20 uppercase tracking-[2px]",children:p.event_slug})]}),e.jsx("h4",{className:"text-[11px] font-black text-white uppercase tracking-widest mb-1 truncate group-hover:text-[#135bec] transition-colors",children:p.event_name}),e.jsxs("div",{className:"mt-8",children:[e.jsxs("div",{className:"flex items-baseline gap-2",children:[e.jsx("span",{className:"text-3xl font-black text-white",children:((l=p.credits_used)==null?void 0:l.toLocaleString())||0}),e.jsx("span",{className:"text-[10px] font-bold text-slate-500 uppercase tracking-widest",children:"Usados"})]}),e.jsx("div",{className:"mt-4 w-full bg-white/5 h-1.5 rounded-full overflow-hidden",children:e.jsx(S.div,{initial:{width:0},animate:{width:`${o}%`},className:`h-full rounded-full ${o>90?"bg-rose-500":o>70?"bg-amber-500":"bg-[#135bec]"}`})}),e.jsxs("div",{className:"flex justify-between mt-3",children:[e.jsxs("span",{className:"text-[9px] font-black text-slate-500 uppercase tracking-widest",children:[Math.round(o),"% Cap"]}),e.jsxs("span",{className:"text-[9px] font-black text-white/30 uppercase tracking-widest",children:["Limite: ",p.credits_allocated]})]})]})]})]})},p.id)}),t.length===0&&e.jsxs("div",{className:"col-span-full py-20 text-center border-2 border-dashed border-white/5 rounded-[40px]",children:[e.jsx("div",{className:"size-16 bg-white/5 rounded-full flex items-center justify-center mx-auto mb-4",children:e.jsx(ve,{className:"size-8 text-slate-600"})}),e.jsx("p",{className:"text-xs font-black text-slate-600 uppercase tracking-[3px]",children:"Sin actividad de consumo para reportar"})]})]})]})]},"wallet")},Lt=({isOpen:s,onClose:n,newEvent:t,setNewEvent:r,clients:c,partner:m,brandingConfig:p,getClientBalance:g,onEventCreate:o,loading:a})=>{var l,u;return e.jsx(R,{isOpen:s,onClose:n,title:"Crear Evento",description:"Nueva instancia",children:e.jsxs("form",{onSubmit:o,className:"p-7 space-y-6",children:[e.jsxs("div",{className:"space-y-4",children:[e.jsxs("div",{children:[e.jsx("label",{className:"text-[10px] font-black uppercase tracking-[2px] text-slate-500 mb-2 block",children:"Nombre del Evento"}),e.jsx("input",{required:!0,type:"text",placeholder:"Nombre comercial",className:"w-full bg-[#0a0a0b] border border-white/10 rounded-xl px-5 py-4 text-white focus:border-[#135bec] outline-none transition-all placeholder:text-slate-800",value:t.name,onChange:i=>r({...t,name:i.target.value})})]}),e.jsxs("div",{children:[e.jsx("label",{className:"text-[10px] font-black uppercase tracking-[2px] text-slate-500 mb-2 block",children:"Asignar a Cliente"}),e.jsxs("div",{className:"relative",children:[e.jsx(re,{className:"absolute left-4 top-1/2 -translate-y-1/2 text-slate-700 size-4"}),e.jsxs("select",{required:!0,className:"w-full bg-[#0a0a0b] border border-white/10 rounded-xl pl-11 pr-5 py-4 text-white focus:border-[#135bec] outline-none transition-all text-xs appearance-none",value:t.client_email,onChange:i=>{var y;const d=c.find(f=>f.email===i.target.value);r({...t,client_email:i.target.value,selected_styles:(d==null?void 0:d.contracted_styles)||(((y=p.style_presets)==null?void 0:y.length)>0?p.style_presets:H)})},children:[e.jsx("option",{value:"",children:"Consumo Directo (Mayorista)"}),c.map(i=>e.jsxs("option",{value:i.email,children:[i.name," (",i.email,")"]},i.id))]}),e.jsx(nt,{className:"absolute right-4 top-1/2 -translate-y-1/2 text-slate-700 size-4 rotate-90"})]})]}),e.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[e.jsxs("div",{children:[e.jsx("label",{className:"text-[10px] font-black uppercase tracking-[2px] text-slate-500 mb-2 block",children:"Personalizado"}),e.jsx("input",{type:"text",placeholder:"slug",className:"w-full bg-[#0a0a0b] border border-white/10 rounded-xl px-4 py-3 text-white focus:border-[#135bec] outline-none transition-all text-xs font-mono",value:t.slug,onChange:i=>r({...t,slug:i.target.value.toLowerCase().replace(/\s+/g,"-")})})]}),e.jsxs("div",{children:[e.jsx("label",{className:"text-[10px] font-black uppercase tracking-[2px] text-slate-500 mb-2 block",children:"CrÃ©ditos"}),e.jsxs("div",{className:"relative",children:[e.jsx(ce,{className:"absolute left-4 top-1/2 -translate-y-1/2 text-[#135bec] size-4"}),e.jsx("input",{required:!0,type:"number",className:"w-full bg-[#0a0a0b] border border-white/10 rounded-xl pl-11 pr-5 py-3 text-white focus:border-[#135bec] outline-none transition-all text-xs font-bold",value:t.credits,onChange:i=>r({...t,credits:Number(i.target.value)})})]})]})]}),e.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[e.jsxs("div",{children:[e.jsx("label",{className:"text-[10px] font-black uppercase tracking-[2px] text-slate-500 mb-2 block",children:"Inicio"}),e.jsx("input",{required:!0,type:"date",className:"w-full bg-[#0a0a0b] border border-white/10 rounded-xl px-4 py-3 text-white focus:border-[#135bec] outline-none transition-all text-xs",value:t.start_date,onChange:i=>r({...t,start_date:i.target.value})})]}),e.jsxs("div",{children:[e.jsx("label",{className:"text-[10px] font-black uppercase tracking-[2px] text-slate-500 mb-2 block",children:"Fin"}),e.jsx("input",{required:!0,type:"date",className:"w-full bg-[#0a0a0b] border border-white/10 rounded-xl px-4 py-3 text-white focus:border-[#135bec] outline-none transition-all text-xs",value:t.end_date,onChange:i=>r({...t,end_date:i.target.value})})]})]}),e.jsxs("div",{className:"space-y-3",children:[e.jsx("label",{className:"text-[10px] font-black uppercase tracking-[2px] text-slate-500 block",children:"Estilos para este Evento"}),e.jsx("div",{className:"grid grid-cols-3 gap-2",children:(t.client_email&&((l=c.find(i=>i.email===t.client_email))==null?void 0:l.contracted_styles)||H).map(i=>{const d=t.selected_styles.includes(i);return e.jsx("button",{type:"button",onClick:()=>{const y=d?t.selected_styles.filter(f=>f!==i):[...t.selected_styles,i];r({...t,selected_styles:y})},className:`py-2 px-1 rounded-lg border text-[8px] font-bold uppercase transition-all ${d?"bg-[#135bec]/20 border-[#135bec] text-white":"bg-white/5 border-white/5 text-slate-500"}`,children:i},i)})})]}),e.jsxs("div",{className:"p-4 bg-[#135bec]/5 border border-[#135bec]/10 rounded-xl flex items-center gap-4",children:[e.jsx("div",{className:"size-8 rounded-lg bg-[#135bec]/10 flex items-center justify-center text-[#135bec]",children:e.jsx(at,{className:"size-4"})}),e.jsx("div",{children:t.client_email&&c.find(i=>i.email===t.client_email)?e.jsxs(e.Fragment,{children:[e.jsx("p",{className:"text-[9px] font-bold text-slate-500 uppercase tracking-widest leading-none",children:"Saldo Cliente"}),e.jsxs("p",{className:"text-[11px] text-slate-400 mt-1 leading-tight",children:["Se utilizarÃ¡n ",t.credits," del saldo de ",(u=c.find(i=>i.email===t.client_email))==null?void 0:u.name," (",g(t.client_email)," disponibles)."]})]}):e.jsxs(e.Fragment,{children:[e.jsx("p",{className:"text-[9px] font-bold text-slate-500 uppercase tracking-widest leading-none",children:"VerificaciÃ³n de Balance"}),e.jsxs("p",{className:"text-[11px] text-slate-400 mt-1 leading-tight",children:["Se deducirÃ¡n ",t.credits," crÃ©ditos de tu balance mayorista (",m?m.credits_total-m.credits_used:0," disponibles)."]})]})})]})]}),e.jsx("button",{disabled:a,type:"submit",className:"w-full py-5 bg-[#135bec] hover:bg-[#135bec]/90 text-white text-[11px] font-black rounded-xl transition-all shadow-xl shadow-[#135bec]/20 uppercase tracking-widest disabled:opacity-50 disabled:cursor-not-allowed group/btn",children:a?"Creando...":e.jsxs("span",{className:"flex items-center justify-center gap-2",children:["Activar Instancia de Evento",e.jsx(I,{className:"size-4 group-hover:scale-110 transition-transform"})]})})]})})},Et=({isOpen:s,onClose:n,editingEvent:t,setEditingEvent:r,clients:c,brandingConfig:m,onEventUpdate:p,loading:g})=>{var o,a;return t?e.jsx(R,{isOpen:s,onClose:n,title:"Editar Evento",description:"Modificar parÃ¡metros",children:e.jsxs("form",{onSubmit:p,className:"p-7 space-y-6",children:[e.jsxs("div",{className:"space-y-4",children:[e.jsxs("div",{children:[e.jsx("label",{className:"text-[10px] font-black uppercase tracking-[2px] text-slate-500 mb-2 block",children:"Nombre del Evento"}),e.jsx("input",{required:!0,type:"text",className:"w-full bg-[#0a0a0b] border border-white/10 rounded-xl px-5 py-4 text-white focus:border-[#135bec] outline-none transition-all placeholder:text-slate-800",value:t.event_name,onChange:l=>r({...t,event_name:l.target.value})})]}),e.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[e.jsxs("div",{children:[e.jsx("label",{className:"text-[10px] font-black uppercase tracking-[2px] text-slate-500 mb-2 block",children:"Inicio"}),e.jsx("input",{required:!0,type:"date",className:"w-full bg-[#0a0a0b] border border-white/10 rounded-xl px-4 py-3 text-white focus:border-[#135bec] outline-none transition-all text-xs",value:t.start_date?new Date(t.start_date).toISOString().split("T")[0]:"",onChange:l=>r({...t,start_date:l.target.value})})]}),e.jsxs("div",{children:[e.jsx("label",{className:"text-[10px] font-black uppercase tracking-[2px] text-slate-500 mb-2 block",children:"Fin"}),e.jsx("input",{required:!0,type:"date",className:"w-full bg-[#0a0a0b] border border-white/10 rounded-xl px-4 py-3 text-white focus:border-[#135bec] outline-none transition-all text-xs",value:t.end_date?new Date(t.end_date).toISOString().split("T")[0]:"",onChange:l=>r({...t,end_date:l.target.value})})]})]}),e.jsxs("div",{className:"space-y-3",children:[e.jsx("label",{className:"text-[10px] font-black uppercase tracking-[2px] text-slate-500 block",children:"Estilos para este Evento"}),e.jsx("div",{className:"grid grid-cols-3 gap-2",children:(t.client_id&&((o=c.find(l=>l.id===t.client_id))==null?void 0:o.contracted_styles)||(((a=m.style_presets)==null?void 0:a.length)>0?m.style_presets:H)).map(l=>{var i;const u=(i=t.selected_styles)==null?void 0:i.includes(l);return e.jsx("button",{type:"button",onClick:()=>{const d=u?t.selected_styles.filter(y=>y!==l):[...t.selected_styles||[],l];r({...t,selected_styles:d})},className:`py-2 px-1 rounded-lg border text-[8px] font-bold uppercase transition-all ${u?"bg-[#135bec]/20 border-[#135bec] text-white":"bg-white/5 border-white/5 text-slate-500"}`,children:l},l)})})]}),e.jsxs("div",{className:"flex items-center gap-3 p-4 bg-white/5 rounded-2xl border border-white/5",children:[e.jsx("div",{className:`size-10 rounded-xl flex items-center justify-center ${t.is_active?"bg-emerald-500/10 text-emerald-500":"bg-rose-500/10 text-rose-500"}`,children:e.jsx(I,{className:"size-5"})}),e.jsxs("div",{className:"flex-1",children:[e.jsx("p",{className:"text-[10px] font-black uppercase text-white tracking-widest leading-none",children:"Estado"}),e.jsx("p",{className:"text-[9px] text-slate-500 uppercase mt-1 leading-none",children:t.is_active?"En LÃ­nea":"Inactivo"})]}),e.jsx("button",{type:"button",onClick:()=>r({...t,is_active:!t.is_active}),className:`px-4 py-2 rounded-xl text-[10px] font-black uppercase transition-all ${t.is_active?"bg-rose-500/10 text-rose-500 hover:bg-rose-500 hover:text-white":"bg-emerald-500/10 text-emerald-500 hover:bg-emerald-500 hover:text-white"}`,children:t.is_active?"Pausar":"Activar"})]})]}),e.jsx("button",{disabled:g,type:"submit",className:"w-full py-5 bg-[#135bec] hover:bg-[#135bec]/90 text-white text-[11px] font-black rounded-xl transition-all shadow-xl shadow-[#135bec]/20 uppercase tracking-[3px] disabled:opacity-50 disabled:cursor-not-allowed",children:g?"Sincronizando...":"Guardar Cambios"})]})}):null},$t=({isOpen:s,onClose:n,editingClient:t,newClient:r,setNewClient:c,setEditingClient:m,onClientCreate:p,onClientUpdate:g,loading:o})=>{const a=!!t;return e.jsx(R,{isOpen:s,onClose:n,title:a?"Editar Cliente":"Nuevo Cliente",description:"Cuenta corporativa",children:e.jsxs("form",{onSubmit:l=>{l.preventDefault(),a?g(t):p(r)},className:"space-y-6",children:[e.jsxs("div",{className:"space-y-4",children:[e.jsxs("div",{children:[e.jsx("label",{className:"text-[10px] font-black uppercase tracking-[2px] text-slate-500 mb-2 block",children:"Nombre de la Empresa"}),e.jsx("input",{required:!0,type:"text",className:"w-full bg-[#0a0a0b] border border-white/10 rounded-xl px-5 py-4 text-white focus:border-[#135bec] outline-none transition-all",value:a?t.name:r.name,onChange:l=>a?m({...t,name:l.target.value}):c({...r,name:l.target.value})})]}),e.jsxs("div",{children:[e.jsx("label",{className:"text-[10px] font-black uppercase tracking-[2px] text-slate-500 mb-2 block",children:"Email de la Cuenta"}),e.jsx("input",{required:!0,type:"email",className:"w-full bg-[#0a0a0b] border border-white/10 rounded-xl px-5 py-4 text-white focus:border-[#135bec] outline-none transition-all text-xs",value:a?t.email:r.email,onChange:l=>a?m({...t,email:l.target.value}):c({...r,email:l.target.value})})]}),e.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[e.jsxs("div",{children:[e.jsx("label",{className:"text-[10px] font-black uppercase tracking-[2px] text-slate-500 mb-2 block",children:"Persona de Contacto"}),e.jsx("input",{type:"text",className:"w-full bg-[#0a0a0b] border border-white/10 rounded-xl px-4 py-3 text-white focus:border-[#135bec] outline-none transition-all text-xs",value:a?t.contact_person:r.contact_person,onChange:l=>a?m({...t,contact_person:l.target.value}):c({...r,contact_person:l.target.value})})]}),e.jsxs("div",{children:[e.jsx("label",{className:"text-[10px] font-black uppercase tracking-[2px] text-slate-500 mb-2 block",children:"TelÃ©fono"}),e.jsx("input",{type:"text",className:"w-full bg-[#0a0a0b] border border-white/10 rounded-xl px-4 py-3 text-white focus:border-[#135bec] outline-none transition-all text-xs",value:a?t.phone:r.phone,onChange:l=>a?m({...t,phone:l.target.value}):c({...r,phone:l.target.value})})]})]}),e.jsxs("div",{children:[e.jsx("label",{className:"text-[10px] font-black uppercase tracking-[2px] text-slate-500 mb-3 block",children:"Estilos Contratados"}),e.jsx("div",{className:"grid grid-cols-3 gap-2",children:H.map(l=>{const u=a?t.contracted_styles:r.contracted_styles,i=u==null?void 0:u.includes(l);return e.jsx("button",{type:"button",onClick:()=>{const d=i?u.filter(y=>y!==l):[...u||[],l];a?m({...t,contracted_styles:d}):c({...r,contracted_styles:d})},className:`py-2 px-1 rounded-lg border text-[8px] font-bold uppercase tracking-wider transition-all ${i?"bg-[#135bec]/20 border-[#135bec] text-white":"bg-white/5 border-white/5 text-slate-500"}`,children:l},l)})})]})]}),e.jsx("button",{disabled:o,type:"submit",className:"w-full py-5 bg-[#135bec] hover:bg-[#135bec]/90 text-white text-[11px] font-black rounded-xl transition-all shadow-xl shadow-[#135bec]/20 uppercase tracking-widest disabled:opacity-50",children:o?"Sincronizando...":a?"Guardar Cambios":"Registrar Cliente"})]})})},Pt=({isOpen:s,onClose:n,client:t,amount:r,setAmount:c,partner:m,onTopUp:p,loading:g})=>t?e.jsx(R,{isOpen:s,onClose:n,title:"Asignar Saldo",description:t.name||"",maxWidth:"max-w-sm",children:e.jsxs("div",{className:"space-y-6",children:[e.jsxs("div",{children:[e.jsx("label",{className:"text-[10px] font-black uppercase tracking-[2px] text-slate-500 mb-2 block",children:"Cantidad a Transferir"}),e.jsxs("div",{className:"relative",children:[e.jsx(ce,{className:"absolute left-4 top-1/2 -translate-y-1/2 text-emerald-500 size-4"}),e.jsx("input",{type:"number",className:"w-full bg-[#0a0a0b] border border-white/10 rounded-xl pl-11 pr-5 py-4 text-white focus:border-emerald-500 outline-none transition-all font-bold text-center text-xl",value:r,onChange:o=>c(Number(o.target.value))})]}),e.jsxs("div",{className:"flex flex-col gap-2 mt-4 p-4 bg-white/5 rounded-xl border border-white/5",children:[e.jsxs("p",{className:"text-[9px] text-slate-500 uppercase tracking-widest flex justify-between",children:["Tu Disponible: ",e.jsx("span",{className:"text-white",children:(((m==null?void 0:m.credits_total)||0)-((m==null?void 0:m.credits_used)||0)).toLocaleString()})]}),e.jsxs("p",{className:"text-[9px] text-slate-500 uppercase tracking-widest flex justify-between",children:["Nuevo Saldo Cliente: ",e.jsx("span",{className:"text-emerald-500",children:((t.credits_total||0)+r).toLocaleString()})]})]})]}),e.jsx("button",{disabled:g||r<=0,onClick:p,className:"w-full py-5 bg-emerald-500 hover:bg-emerald-400 text-[#071121] text-[11px] font-black rounded-xl transition-all shadow-xl shadow-emerald-500/20 uppercase tracking-[3px] disabled:opacity-30 disabled:grayscale",children:g?"Transfiriendo...":"Confirmar AsignaciÃ³n"})]})}):null,Ut=({isOpen:s,onClose:n,event:t,amount:r,setAmount:c,availableCredits:m,onTopUp:p,loading:g})=>t?e.jsx(R,{isOpen:s,onClose:n,title:"Recargar Evento",description:t.event_name||"",maxWidth:"max-w-sm",children:e.jsxs("div",{className:"space-y-6",children:[e.jsxs("div",{children:[e.jsx("label",{className:"text-[10px] font-black uppercase tracking-[2px] text-slate-500 mb-2 block",children:"Cantidad de CrÃ©ditos"}),e.jsxs("div",{className:"relative",children:[e.jsx(ce,{className:"absolute left-4 top-1/2 -translate-y-1/2 text-emerald-500 size-4"}),e.jsx("input",{type:"number",className:"w-full bg-[#0a0a0b] border border-white/10 rounded-xl pl-11 pr-5 py-4 text-white focus:border-emerald-500 outline-none transition-all font-bold text-center text-xl",value:r,onChange:o=>c(Number(o.target.value))})]}),e.jsxs("p",{className:"text-[9px] text-slate-500 mt-3 text-center uppercase tracking-widest",children:["Disponibles: ",e.jsx("span",{className:"text-white",children:m.toLocaleString()})]})]}),e.jsx("button",{disabled:g||r<=0||r>m,onClick:p,className:"w-full py-5 bg-emerald-500 hover:bg-emerald-400 text-[#071121] text-[11px] font-black rounded-xl transition-all shadow-xl shadow-emerald-500/20 uppercase tracking-[3px] disabled:opacity-30 disabled:grayscale",children:g?"Procesando...":"Confirmar Transferencia"})]})}):null,At=({isOpen:s,onClose:n,eventToDelete:t,onConfirm:r})=>e.jsx(R,{isOpen:s,onClose:n,title:"Â¿Eliminar Evento?",description:"Esta acciÃ³n es permanente",children:e.jsxs("div",{className:"text-center",children:[e.jsx("div",{className:"size-20 bg-rose-500/10 rounded-full flex items-center justify-center mx-auto mb-6 border border-rose-500/20",children:e.jsx(Ne,{className:"size-10 text-rose-500"})}),e.jsxs("p",{className:"text-slate-400 text-sm leading-relaxed mb-8",children:["Se eliminarÃ¡ el evento ",e.jsxs("span",{className:"text-white font-bold",children:['"',t==null?void 0:t.event_name,'"']})," y todos sus datos asociados."]}),e.jsxs("div",{className:"flex gap-3",children:[e.jsx("button",{onClick:n,className:"flex-1 py-4 bg-slate-800 hover:bg-slate-700 text-slate-300 text-[10px] font-black rounded-xl transition-all uppercase tracking-[2px]",children:"Cancelar"}),e.jsx("button",{onClick:r,className:"flex-1 py-4 bg-rose-500 hover:bg-rose-600 text-white text-[10px] font-black rounded-xl transition-all shadow-lg shadow-rose-500/20 uppercase tracking-[2px]",children:"Confirmar Baja"})]})]})}),Zt=({user:s,profile:n,onBack:t,initialView:r="overview",onProxyClient:c})=>{const[m,p]=v.useState({message:"",type:null}),g=v.useCallback((_,z="success")=>{p({message:_,type:z}),setTimeout(()=>p({message:"",type:null}),4e3)},[]),{loading:o,partner:a,events:l,transactions:u,clients:i,generationsData:d,recentGlobalPhotos:y,fetchPartnerData:f,getClientBalance:N,handleCreateEvent:k,handleUpdateEvent:C,handleDeleteEvent:L,handleCreateClient:W,handleUpdateClient:D,handleClientTopUp:$,handleTopUpEvent:q}=jt({profile:n,showToast:g}),{brandingConfig:P,setBrandingConfig:O,isSaving:h,isUploading:x,toggleStylePreset:j,handleUpdateBranding:b,handleLogoUpload:B}=vt({partner:a,initialConfig:a==null?void 0:a.config,showToast:g}),{eventPhotos:ne,loading:J,fetchEventPhotos:U,handleDeletePhoto:A,handleBulkDelete:oe,selectedPhotos:Me,setSelectedPhotos:Re}=Nt({showToast:g}),[E,G]=v.useState(r),[we,ye]=v.useState(""),[De,It]=v.useState(!1),[qe,de]=v.useState(!1),[Z,K]=v.useState(null),[Y,xe]=v.useState(null),[ke,Oe]=v.useState(100),[Q,pe]=v.useState(null),[T,Be]=v.useState(null),[Ge,me]=v.useState(!1),[ee,te]=v.useState(null),[V,ue]=v.useState(null),[_e,Ze]=v.useState(1e3),[Ce,Se]=v.useState({name:"",slug:"",client_email:"",credits:500,start_date:new Date().toISOString().split("T")[0],end_date:new Date(Date.now()+10080*60*1e3).toISOString().split("T")[0],selected_styles:[]}),[Te,Ve]=v.useState({name:"",email:"",contact_person:"",phone:"",contracted_styles:[]}),F=o||De||h||x||J;v.useEffect(()=>{const _=new URLSearchParams(window.location.search),z=_.get("status")||_.get("collection_status");if(z==="approved"||z==="success"){g("Â¡Recarga acreditada con Ã©xito! ðŸŽ‰","success");const he=window.location.pathname;window.history.replaceState({},document.title,he),f()}else if(z==="failure"){g("El pago no pudo procesarse. Reintenta.","error");const he=window.location.pathname;window.history.replaceState({},document.title,he)}},[f,g]),v.useEffect(()=>{G(r)},[r]),v.useEffect(()=>{T&&U(T.id)},[T,U]),v.useEffect(()=>{f()},[n.partner_id,f]);const Fe=async _=>{await W(_)&&me(!1)},He=async _=>{if(!ee)return;await D(ee.id,_)&&te(null)},We=async _=>{_.preventDefault(),await k(Ce)&&(de(!1),Se({name:"",slug:"",client_email:"",credits:500,start_date:"",end_date:"",selected_styles:[]}))},Je=async _=>{if(_.preventDefault(),!Z)return;await C(Z.id,Z)&&K(null)},Ke=async()=>{if(!V)return;await $(V.id,V.name,_e)&&ue(null)},Xe=async()=>{if(!Y)return;await q(Y,ke)&&xe(null)},Ye=async()=>{if(!Q)return;await L(Q.id)&&pe(null)};return e.jsxs("div",{className:"min-h-screen bg-[#071121] text-white font-['Outfit'] selection:bg-[#135bec]/30 p-4 md:p-8",children:[e.jsxs("div",{className:"max-w-7xl mx-auto space-y-8",children:[e.jsxs("button",{onClick:t,className:"group flex items-center gap-3 text-slate-500 hover:text-white transition-all text-[11px] font-black uppercase tracking-[3px]",children:[e.jsx("div",{className:"size-8 rounded-full border border-white/5 flex items-center justify-center group-hover:bg-white/5 transition-all",children:e.jsx(Pe,{className:"size-4 group-hover:-translate-x-1 transition-transform"})}),"Volver al Inicio"]}),e.jsx(wt,{partnerName:a==null?void 0:a.name,view:E,setView:G}),e.jsx("main",{children:e.jsxs(ae,{mode:"wait",children:[E==="overview"&&e.jsx(yt,{partner:a,events:l,generationsData:d}),E==="clients"&&e.jsx(kt,{clients:i,searchTerm:we,setSearchTerm:ye,setShowCreateClientModal:me,setEditingClient:te,setShowClientTopUpModal:ue,onProxyClient:c,events:l}),E==="events"&&e.jsx(_t,{events:l,searchTerm:we,setSearchTerm:ye,setShowCreateEventModal:de,setEditingEvent:K,setEventToTopUp:xe,setEventToDelete:pe,setEventToModerate:_=>{Be(_),G("moderation")}}),E==="wallet"&&e.jsx(zt,{availableCredits:((a==null?void 0:a.credits_total)||0)-((a==null?void 0:a.credits_used)||0),partner:a,events:l,transactions:u,setShowTopUpModal:()=>G("wallet")}),E==="branding"&&e.jsx(St,{brandingConfig:P,setBrandingConfig:O,isSaving:h,isUploading:x,toggleStylePreset:j,handleUpdateBranding:b,handleLogoUpload:B,recentGlobalPhotos:y}),E==="moderation"&&T&&e.jsx(Ct,{event:T,photos:ne,setPhotos:setEventPhotos,onBack:()=>G("events"),onDeletePhoto:A,onBulkDelete:oe,loading:J,selectedPhotos:Me,setSelectedPhotos:Re})]})})]}),e.jsxs(ae,{children:[e.jsx(Lt,{isOpen:qe,onClose:()=>de(!1),newEvent:Ce,setNewEvent:Se,clients:i,partner:a,brandingConfig:P,getClientBalance:N,onEventCreate:We,loading:F}),e.jsx(Et,{isOpen:!!Z,onClose:()=>K(null),editingEvent:Z,setEditingEvent:K,clients:i,brandingConfig:P,onEventUpdate:Je,loading:F}),e.jsx($t,{isOpen:Ge||!!ee,onClose:()=>{me(!1),te(null)},editingClient:ee,newClient:Te,setNewClient:Ve,setEditingClient:te,onClientCreate:Fe,onClientUpdate:He,loading:F}),e.jsx(Pt,{isOpen:!!V,onClose:()=>ue(null),client:V,amount:_e,setAmount:Ze,partner:a,onTopUp:Ke,loading:F}),e.jsx(Ut,{isOpen:!!Y,onClose:()=>xe(null),event:Y,amount:ke,setAmount:Oe,availableCredits:((a==null?void 0:a.credits_total)||0)-((a==null?void 0:a.credits_used)||0),onTopUp:Xe,loading:F}),e.jsx(At,{isOpen:!!Q,onClose:()=>pe(null),eventToDelete:Q,onConfirm:Ye})]}),e.jsx(ae,{children:m.type&&e.jsx(S.div,{initial:{opacity:0,y:50,scale:.9},animate:{opacity:1,y:0,scale:1},exit:{opacity:0,y:20,scale:.9},className:"fixed bottom-8 right-8 z-[100]",children:e.jsxs("div",{className:`flex items-center gap-4 px-6 py-4 rounded-2xl border backdrop-blur-xl shadow-2xl ${m.type==="success"?"bg-emerald-500/10 border-emerald-500/20 text-emerald-500":m.type==="error"?"bg-rose-500/10 border-rose-500/20 text-rose-500":"bg-[#135bec]/10 border-[#135bec]/20 text-blue-400"}`,children:[m.type==="success"?e.jsx(fe,{className:"size-5"}):m.type==="error"?e.jsx(Ne,{className:"size-5"}):e.jsx(ve,{className:"size-5"}),e.jsx("p",{className:"text-sm font-bold",children:m.message}),e.jsx("button",{onClick:()=>p({message:"",type:null}),className:"ml-2 opacity-50 hover:opacity-100",children:e.jsx(Le,{className:"size-4"})})]})})})]})};export{Zt as PartnerDashboard};
