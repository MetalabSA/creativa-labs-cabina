import{c as j,b as o,s as d,j as e,D as Q,l as Z,Z as K,P as X,X as Y,M as ee,n as te,A as se,S as q,e as ae,I as R,d as le,o as re,R as ce}from"./constants-Dkj4gUjv.js";/**
 * @license lucide-react v0.554.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ie=[["path",{d:"M21 16V8a2 2 0 0 0-1-1.73l-7-4a2 2 0 0 0-2 0l-7 4A2 2 0 0 0 3 8v8a2 2 0 0 0 1 1.73l7 4a2 2 0 0 0 2 0l7-4A2 2 0 0 0 21 16z",key:"yt0hxn"}],["circle",{cx:"12",cy:"12",r:"4",key:"4exip2"}]],O=j("bolt",ie);/**
 * @license lucide-react v0.554.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ne=[["path",{d:"M8 2v4",key:"1cmpym"}],["path",{d:"M16 2v4",key:"4m81vk"}],["rect",{width:"18",height:"18",x:"3",y:"4",rx:"2",key:"1hopcy"}],["path",{d:"M3 10h18",key:"8toen8"}]],I=j("calendar",ne);/**
 * @license lucide-react v0.554.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const oe=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"m9 12 2 2 4-4",key:"dzmm74"}]],B=j("circle-check",oe);/**
 * @license lucide-react v0.554.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const de=[["path",{d:"M15 3h6v6",key:"1q9fwt"}],["path",{d:"M10 14 21 3",key:"gplh6r"}],["path",{d:"M18 13v6a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V8a2 2 0 0 1 2-2h6",key:"a6xqqp"}]],xe=j("external-link",de);/**
 * @license lucide-react v0.554.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const he=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M12 2a14.5 14.5 0 0 0 0 20 14.5 14.5 0 0 0 0-20",key:"13o1zl"}],["path",{d:"M2 12h20",key:"9i4pu4"}]],me=j("globe",he);/**
 * @license lucide-react v0.554.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const pe=[["rect",{width:"7",height:"9",x:"3",y:"3",rx:"1",key:"10lvy0"}],["rect",{width:"7",height:"5",x:"14",y:"3",rx:"1",key:"16une8"}],["rect",{width:"7",height:"9",x:"14",y:"12",rx:"1",key:"1hutg5"}],["rect",{width:"7",height:"5",x:"3",y:"16",rx:"1",key:"ldoo1y"}]],be=j("layout-dashboard",pe);/**
 * @license lucide-react v0.554.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ue=[["path",{d:"M12 22a1 1 0 0 1 0-20 10 9 0 0 1 10 9 5 5 0 0 1-5 5h-2.25a1.75 1.75 0 0 0-1.4 2.8l.3.4a1.75 1.75 0 0 1-1.4 2.8z",key:"e79jfc"}],["circle",{cx:"13.5",cy:"6.5",r:".5",fill:"currentColor",key:"1okk4w"}],["circle",{cx:"17.5",cy:"10.5",r:".5",fill:"currentColor",key:"f64h9f"}],["circle",{cx:"6.5",cy:"12.5",r:".5",fill:"currentColor",key:"qy21gx"}],["circle",{cx:"8.5",cy:"7.5",r:".5",fill:"currentColor",key:"fotxhn"}]],ge=j("palette",ue);/**
 * @license lucide-react v0.554.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const fe=[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"M12 5v14",key:"s699le"}]],je=j("plus",fe);/**
 * @license lucide-react v0.554.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ve=[["circle",{cx:"8",cy:"21",r:"1",key:"jimo8o"}],["circle",{cx:"19",cy:"21",r:"1",key:"13723u"}],["path",{d:"M2.05 2.05h2l2.66 12.42a2 2 0 0 0 2 1.58h9.78a2 2 0 0 0 1.95-1.57l1.65-7.43H5.12",key:"9zh506"}]],V=j("shopping-cart",ve);/**
 * @license lucide-react v0.554.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ne=[["path",{d:"M10 11v6",key:"nco0om"}],["path",{d:"M14 11v6",key:"outv1u"}],["path",{d:"M19 6v14a2 2 0 0 1-2 2H7a2 2 0 0 1-2-2V6",key:"miytrc"}],["path",{d:"M3 6h18",key:"d0wm0j"}],["path",{d:"M8 6V4a2 2 0 0 1 2-2h4a2 2 0 0 1 2 2v2",key:"e791ji"}]],we=j("trash-2",Ne);/**
 * @license lucide-react v0.554.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ye=[["path",{d:"M12 3v12",key:"1x0j5s"}],["path",{d:"m17 8-5-5-5 5",key:"7q97r8"}],["path",{d:"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4",key:"ih7n3h"}]],ke=j("upload",ye);/**
 * @license lucide-react v0.554.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const _e=[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["path",{d:"M16 3.128a4 4 0 0 1 0 7.744",key:"16gr8j"}],["path",{d:"M22 21v-2a4 4 0 0 0-3-3.87",key:"kshegd"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}]],W=j("users",_e);/**
 * @license lucide-react v0.554.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ce=[["path",{d:"M19 7V4a1 1 0 0 0-1-1H5a2 2 0 0 0 0 4h15a1 1 0 0 1 1 1v4h-3a2 2 0 0 0 0 4h3a1 1 0 0 0 1-1v-2a1 1 0 0 0-1-1",key:"18etb6"}],["path",{d:"M3 5v14a2 2 0 0 0 2 2h15a1 1 0 0 0 1-1v-4",key:"xoc0q4"}]],F=j("wallet",Ce),T=({user:y,profile:u,onBack:s,initialView:S="overview"})=>{const[_,m]=o.useState(!0),[a,w]=o.useState(null),[v,x]=o.useState([]),[c,g]=o.useState(""),[p,h]=o.useState(!1),[r,b]=o.useState({primary_color:"#135bec",logo_url:"",radius:"12px",style_presets:["Superhéroes","John Wick","Urbano"]}),[i,f]=o.useState({name:"",slug:"",client_email:"",credits:500,start_date:new Date().toISOString().split("T")[0],end_date:new Date(Date.now()+10080*60*1e3).toISOString().split("T")[0]});o.useEffect(()=>{D()},[u.partner_id]);const D=async()=>{try{if(m(!0),!u.partner_id){m(!1);return}const[t,n]=await Promise.all([d.from("partners").select("*").eq("id",u.partner_id).single(),d.from("events").select("*").eq("partner_id",u.partner_id).order("created_at",{ascending:!1})]);if(t.error)throw t.error;w(t.data),t.data.config&&b({primary_color:t.data.config.primary_color||"#135bec",logo_url:t.data.config.logo_url||"",radius:t.data.config.radius||"12px",style_presets:t.data.config.style_presets||["Superhéroes","John Wick","Urbano"]}),x(n.data||[])}catch(t){console.error("Error fetching partner data:",t)}finally{m(!1)}},E=async()=>{if(a)try{const{error:t}=await d.from("partners").update({config:r}).eq("id",a.id);if(t)throw t;w({...a,config:r}),alert("Configuración de marca guardada")}catch(t){console.error("Error updating branding:",t)}},L=async t=>{if(!t.target.files||t.target.files.length===0)return;const n=t.target.files[0],C=n.name.split(".").pop(),N=`${a==null?void 0:a.id}-${Date.now()}.${C}`;try{m(!0);const{error:k}=await d.storage.from("logos").upload(N,n);if(k){const{error:U}=await d.storage.from("public").upload(`logos/${N}`,n);if(U)throw k;const{data:J}=d.storage.from("public").getPublicUrl(`logos/${N}`);b({...r,logo_url:J.publicUrl})}else{const{data:U}=d.storage.from("logos").getPublicUrl(N);b({...r,logo_url:U.publicUrl})}}catch(k){console.error("Error uploading logo:",k),alert("Error al subir logo: "+k.message)}finally{m(!1)}},M=async t=>{if(t.preventDefault(),!a)return;const n=Number(i.credits);if(n>a.credits_total-a.credits_used){alert("Créditos insuficientes en tu balance mayorista.");return}try{m(!0);const{data:C,error:N}=await d.from("events").insert([{partner_id:a.id,event_name:i.name,client_email:i.client_email,event_slug:i.slug||i.name.toLowerCase().replace(/\s+/g,"-"),credits_allocated:n,credits_used:0,start_date:new Date(i.start_date).toISOString(),end_date:new Date(i.end_date).toISOString(),is_active:!0,selected_styles:r.style_presets}]).select();if(N)throw N;const{error:k}=await d.from("partners").update({credits_used:a.credits_used+n}).eq("id",a.id);if(k)throw k;h(!1),f({name:"",slug:"",client_email:"",credits:500,start_date:"",end_date:""}),D()}catch(C){console.error("Error creating event:",C),alert("Error al crear el evento. El slug podría estar duplicado.")}finally{m(!1)}},z=async t=>{if(confirm("¿Estás seguro de eliminar este evento?"))try{const{error:n}=await d.from("events").delete().eq("id",t);if(n)throw n;D()}catch(n){console.error("Error deleting event:",n)}},$=t=>{const n=r.style_presets.includes(t)?r.style_presets.filter(C=>C!==t):[...r.style_presets,t];b({...r,style_presets:n})},l=o.useMemo(()=>v.filter(t=>t.event_name.toLowerCase().includes(c.toLowerCase())||t.event_slug.toLowerCase().includes(c.toLowerCase())),[v,c]);if(_&&!a)return e.jsxs("div",{className:"flex flex-col items-center justify-center min-h-[400px] text-white space-y-4",children:[e.jsx("div",{className:"size-12 border-4 border-[#135bec] border-t-transparent rounded-full animate-spin"}),e.jsx("p",{className:"font-bold tracking-widest text-[10px] uppercase opacity-50",children:"Sincronizando con la red..."})]});const P=((a==null?void 0:a.credits_total)||0)-((a==null?void 0:a.credits_used)||0),A=a!=null&&a.credits_total?Math.round(a.credits_used/a.credits_total*100):0;return e.jsxs("div",{className:"space-y-8 animate-fade-in text-slate-100",children:[e.jsxs("header",{className:"flex flex-wrap items-center justify-between gap-4",children:[e.jsxs("div",{children:[e.jsx("h1",{className:"text-3xl font-black tracking-tight text-white mb-1",children:"Partner Dashboard"}),e.jsx("p",{className:"text-slate-400 text-sm",children:"Gestiona tus eventos, créditos y personalización de marca."})]}),e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsxs("button",{className:"flex items-center gap-2 px-5 py-2.5 bg-slate-800 hover:bg-slate-700 border border-slate-700 rounded-lg text-sm font-semibold text-white transition-all",children:[e.jsx(Q,{className:"w-5 h-5 transition-transform group-hover:translate-y-0.5"}),"Reportes"]}),e.jsxs("button",{onClick:()=>h(!0),className:"flex items-center gap-2 px-6 py-2.5 bg-[#135bec] hover:bg-[#135bec]/90 rounded-lg text-sm font-bold text-white shadow-lg shadow-[#135bec]/25 transition-all group",children:[e.jsx(je,{className:"w-5 h-5 group-hover:rotate-90 transition-transform"}),"Activar Instancia"]})]})]}),e.jsxs("section",{className:"grid grid-cols-1 md:grid-cols-3 gap-6",children:[e.jsxs("div",{className:"glass-card rounded-xl p-6 flex flex-col justify-between group overflow-hidden relative",children:[e.jsx("div",{className:"absolute -right-4 -top-4 opacity-[0.03] group-hover:opacity-[0.07] transition-opacity",children:e.jsx(F,{className:"size-32"})}),e.jsxs("div",{className:"flex justify-between items-start mb-4 relative z-10",children:[e.jsxs("div",{children:[e.jsx("p",{className:"text-slate-400 text-xs font-bold uppercase tracking-wider mb-1",children:"Créditos Disponibles"}),e.jsx("h3",{className:"text-3xl font-black text-white",children:P.toLocaleString()})]}),e.jsx("div",{className:"p-2 bg-[#135bec]/20 rounded-lg text-[#135bec]",children:e.jsx(F,{className:"w-6 h-6"})})]}),e.jsxs("div",{className:"space-y-2 relative z-10",children:[e.jsxs("div",{className:"flex justify-between text-[11px] font-bold",children:[e.jsx("span",{className:"text-slate-500 uppercase tracking-widest",children:"CONSUMO"}),e.jsxs("span",{className:"text-[#135bec]",children:[A,"% USADO"]})]}),e.jsx("div",{className:"w-full bg-slate-800 h-2 rounded-full overflow-hidden",children:e.jsx("div",{className:"bg-[#135bec] h-full rounded-full shadow-[0_0_8px_rgba(19,91,236,0.5)] transition-all duration-1000",style:{width:`${A}%`}})}),e.jsxs("p",{className:"text-[10px] text-slate-500 italic text-right",children:[a==null?void 0:a.credits_used," usados de ",a==null?void 0:a.credits_total]})]})]}),e.jsxs("div",{className:"glass-card rounded-xl p-6 flex flex-col justify-between group overflow-hidden relative",children:[e.jsx("div",{className:"absolute -right-4 -top-4 opacity-[0.03] group-hover:opacity-[0.07] transition-opacity",children:e.jsx(I,{className:"size-32"})}),e.jsxs("div",{className:"flex justify-between items-start mb-4 relative z-10",children:[e.jsxs("div",{children:[e.jsx("p",{className:"text-slate-400 text-xs font-bold uppercase tracking-wider mb-1",children:"Eventos Activos"}),e.jsx("h3",{className:"text-3xl font-black text-white",children:v.filter(t=>t.is_active).length})]}),e.jsx("div",{className:"p-2 bg-emerald-500/20 rounded-lg text-emerald-500",children:e.jsx(O,{className:"w-6 h-6"})})]}),e.jsxs("div",{className:"flex items-center gap-2 relative z-10",children:[e.jsxs("div",{className:"flex -space-x-2",children:[v.slice(0,3).map((t,n)=>e.jsx("div",{className:"w-7 h-7 rounded-full border-2 border-slate-900 bg-[#135bec] flex items-center justify-center text-[8px] font-black",children:t.event_name.substring(0,1).toUpperCase()},n)),v.length>3&&e.jsxs("div",{className:"w-7 h-7 rounded-full border-2 border-slate-900 bg-slate-700 flex items-center justify-center text-[8px] font-black",children:["+",v.length-3]})]}),e.jsx("span",{className:"text-xs text-slate-400 font-medium",children:"Eventos en curso"})]})]}),e.jsxs("div",{className:"glass-card rounded-xl p-6 flex flex-col justify-between border-[#135bec]/30 relative overflow-hidden group",children:[e.jsx("div",{className:"absolute top-0 right-0 p-8 opacity-10 group-hover:scale-110 transition-transform",children:e.jsx(V,{className:"w-24 h-24 text-[#135bec]"})}),e.jsxs("div",{className:"relative z-10",children:[e.jsx("p",{className:"text-slate-400 text-xs font-bold uppercase tracking-wider mb-1",children:"Cargar Créditos"}),e.jsxs("h3",{className:"text-xl font-bold text-white mb-4 leading-tight",children:["¿Te quedas sin créditos?",e.jsx("br",{}),"Recarga al instante."]}),e.jsx("button",{onClick:()=>alert("Para recargar créditos, por favor contacta a tu ejecutivo de cuenta o solicita una recarga desde el canal de soporte."),className:"px-4 py-2 bg-white text-slate-900 rounded-lg text-xs font-black uppercase tracking-wide hover:bg-[#135bec] hover:text-white transition-all shadow-xl shadow-white/5",children:"Recargar Pack"})]})]})]}),e.jsxs("div",{className:"grid grid-cols-1 xl:grid-cols-3 gap-8",children:[e.jsxs("div",{className:"xl:col-span-2 space-y-4",children:[e.jsxs("div",{className:"flex items-center justify-between px-2",children:[e.jsx("h2",{className:"text-xl font-black text-white uppercase tracking-tighter",children:"Listado de Eventos"}),e.jsxs("div",{className:"relative group",children:[e.jsx(Z,{className:"w-4 h-4 absolute left-3 top-1/2 -translate-y-1/2 text-slate-500 group-focus-within:text-[#135bec] transition-colors"}),e.jsx("input",{type:"text",placeholder:"Buscar evento...",value:c,onChange:t=>g(t.target.value),className:"bg-slate-900/50 border border-slate-800 rounded-lg pl-9 pr-4 py-2 text-xs text-white focus:ring-[#135bec] focus:border-[#135bec] w-56 transition-all outline-none"})]})]}),e.jsx("div",{className:"glass-card rounded-xl overflow-hidden border border-white/5",children:e.jsxs("table",{className:"w-full text-left border-collapse",children:[e.jsx("thead",{className:"bg-white/[0.02] border-b border-white/5",children:e.jsxs("tr",{children:[e.jsx("th",{className:"px-6 py-4 text-xs font-black text-slate-500 uppercase tracking-widest",children:"Nombre del Evento"}),e.jsx("th",{className:"px-6 py-4 text-xs font-black text-slate-500 uppercase tracking-widest",children:"Consumo"}),e.jsx("th",{className:"px-6 py-4 text-xs font-black text-slate-500 uppercase tracking-widest",children:"Estado"}),e.jsx("th",{className:"px-6 py-4 text-xs font-black text-slate-500 uppercase tracking-widest text-right",children:"Acciones"})]})}),e.jsxs("tbody",{className:"divide-y divide-white/5",children:[l.map(t=>{const n=t.credits_allocated?Math.min(100,Math.round(t.credits_used/t.credits_allocated*100)):0;return e.jsxs("tr",{className:"hover:bg-white/[0.02] transition-colors group",children:[e.jsx("td",{className:"px-6 py-5",children:e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx("div",{className:"size-10 rounded-lg bg-[#135bec]/10 border border-[#135bec]/20 flex items-center justify-center text-[#135bec] font-black text-xs",children:t.event_name.substring(0,2).toUpperCase()}),e.jsxs("div",{children:[e.jsx("p",{className:"text-sm font-bold text-white group-hover:text-[#135bec] transition-colors",children:t.event_name}),e.jsxs("div",{className:"flex items-center gap-2 mt-0.5",children:[e.jsx(me,{className:"size-3 text-slate-600"}),e.jsxs("p",{className:"text-[10px] text-slate-500 font-mono",children:["/",t.event_slug]})]})]})]})}),e.jsx("td",{className:"px-6 py-5",children:e.jsxs("div",{className:"w-32",children:[e.jsxs("div",{className:"flex justify-between text-[10px] mb-1 font-bold",children:[e.jsxs("span",{className:"text-slate-400",children:[t.credits_used," / ",t.credits_allocated]}),e.jsxs("span",{className:`${n>90?"text-rose-500":"text-emerald-500"}`,children:[n,"%"]})]}),e.jsx("div",{className:"w-full h-1.5 bg-slate-800 rounded-full overflow-hidden",children:e.jsx("div",{className:`h-full ${n>90?"bg-rose-500":"bg-[#135bec]"} rounded-full transition-all duration-700`,style:{width:`${n}%`}})})]})}),e.jsx("td",{className:"px-6 py-5",children:e.jsxs("span",{className:`inline-flex items-center gap-1.5 px-2.5 py-1 rounded-full text-[10px] font-black uppercase tracking-wider ${t.is_active?"bg-emerald-500/10 text-emerald-500":"bg-rose-500/10 text-rose-500"}`,children:[e.jsx("span",{className:`size-1.5 rounded-full ${t.is_active?"bg-emerald-500 animate-pulse":"bg-rose-500"}`}),t.is_active?"Activo":"Pausado"]})}),e.jsx("td",{className:"px-6 py-5 text-right",children:e.jsxs("div",{className:"flex items-center justify-end gap-2",children:[e.jsx("button",{onClick:()=>window.open(`https://photobooth.creativa-labs.com/?event=${t.event_slug}`,"_blank"),className:"p-2 hover:bg-slate-800 rounded-lg text-slate-500 hover:text-white transition-all outline-none",title:"Ver Evento",children:e.jsx(xe,{className:"w-4 h-4"})}),e.jsx("button",{onClick:()=>z(t.id),className:"p-2 hover:bg-rose-500/10 rounded-lg text-slate-500 hover:text-rose-500 transition-all outline-none",children:e.jsx(we,{className:"w-4 h-4"})}),e.jsx("button",{className:"px-4 py-1.5 bg-slate-800 hover:bg-slate-700 text-[10px] font-black rounded-lg text-white transition-all uppercase tracking-widest border border-white/5",children:"Gestionar"})]})})]},t.id)}),l.length===0&&e.jsx("tr",{children:e.jsxs("td",{colSpan:4,className:"p-12 text-center",children:[e.jsx(I,{className:"size-12 text-slate-800 mx-auto mb-3 opacity-20"}),e.jsx("p",{className:"text-slate-500 text-sm font-medium",children:"No se encontraron eventos."})]})})]})]})})]}),e.jsxs("div",{className:"space-y-8",children:[e.jsxs("div",{className:"glass-card rounded-xl p-6 border border-white/5",children:[e.jsxs("div",{className:"flex items-center gap-2 mb-6",children:[e.jsx(W,{className:"size-5 text-[#135bec]"}),e.jsx("h2",{className:"text-lg font-black text-white uppercase tracking-tight",children:"Clientes & Marca"})]}),e.jsxs("div",{className:"space-y-6",children:[e.jsxs("div",{children:[e.jsx("label",{className:"text-[10px] font-black text-slate-500 uppercase tracking-[2px] block mb-3",children:"Logo del Revendedor"}),e.jsxs("div",{className:"w-full border-2 border-dashed border-slate-800 rounded-xl p-6 flex flex-col items-center justify-center bg-slate-900/40 hover:bg-slate-900 transition-all cursor-pointer group hover:border-[#135bec]/50",onClick:()=>{var t;return(t=document.getElementById("logoInput"))==null?void 0:t.click()},children:[e.jsx("input",{type:"file",id:"logoInput",className:"hidden",accept:"image/*",onChange:L}),r.logo_url?e.jsx("img",{src:r.logo_url,className:"h-12 object-contain mb-2",alt:"Logo"}):e.jsx(ke,{className:"w-8 h-8 text-slate-600 group-hover:text-[#135bec] mb-2 transition-colors"}),e.jsx("p",{className:"text-[10px] text-slate-500 font-bold uppercase tracking-widest",children:"Subir Identidad"}),e.jsx("p",{className:"text-[9px] text-slate-600 mt-1 font-mono",children:"PNG / SVG recomendado"})]})]}),e.jsxs("div",{className:"flex items-center justify-between gap-4",children:[e.jsxs("div",{className:"flex-1",children:[e.jsx("label",{className:"text-[10px] font-black text-slate-500 uppercase tracking-[2px] block mb-3",children:"Color de Acento"}),e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx("div",{className:"size-10 rounded-lg bg-[#135bec] border-2 border-white/10 shadow-xl cursor-pointer hover:scale-110 transition-transform",style:{backgroundColor:r.primary_color},onClick:()=>{var t;return(t=document.getElementById("colorPickerInput"))==null?void 0:t.click()}}),e.jsx("input",{id:"colorPickerInput",type:"color",className:"sr-only",value:r.primary_color,onChange:t=>b({...r,primary_color:t.target.value})}),e.jsx("input",{className:"flex-1 bg-slate-900 border border-slate-800 rounded-lg py-2.5 px-4 text-xs text-white font-mono focus:ring-[#135bec] focus:border-[#135bec] outline-none transition-all",type:"text",value:r.primary_color,onChange:t=>b({...r,primary_color:t.target.value})})]})]}),e.jsxs("div",{className:"w-20",children:[e.jsx("label",{className:"text-[10px] font-black text-slate-500 uppercase tracking-[2px] block mb-3",children:"Radius"}),e.jsxs("select",{className:"w-full bg-slate-900 border border-slate-800 rounded-lg py-2.5 px-2 text-xs text-white focus:ring-[#135bec] outline-none",value:r.radius,onChange:t=>b({...r,radius:t.target.value}),children:[e.jsx("option",{value:"4px",children:"4px"}),e.jsx("option",{value:"8px",children:"8px"}),e.jsx("option",{value:"12px",children:"12px"}),e.jsx("option",{value:"20px",children:"20px"})]})]})]}),e.jsx("button",{onClick:E,className:"w-full py-3.5 bg-slate-100 hover:bg-white text-slate-900 text-[10px] font-black rounded-xl transition-all shadow-xl shadow-white/5 uppercase tracking-[2px]",children:"Guardar Cambios"})]})]}),e.jsxs("div",{className:"glass-card rounded-xl p-6 border border-white/5",children:[e.jsxs("div",{className:"flex items-center justify-between mb-6",children:[e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx(K,{className:"size-5 text-[#135bec]"}),e.jsx("h2",{className:"text-lg font-black text-white uppercase tracking-tight",children:"Pack de Diseños"})]}),e.jsxs("span",{className:"text-[10px] font-black px-2 py-1 bg-[#135bec]/10 text-[#135bec] rounded-md border border-[#135bec]/20",children:[r.style_presets.length," ACTIVOS"]})]}),e.jsx("div",{className:"grid grid-cols-2 gap-3",children:X.map(t=>e.jsxs("label",{className:"relative block cursor-pointer group",children:[e.jsx("input",{type:"checkbox",checked:r.style_presets.includes(t),onChange:()=>$(t),className:"peer sr-only"}),e.jsxs("div",{className:`h-24 rounded-xl overflow-hidden relative border-2 transition-all duration-300 ${r.style_presets.includes(t)?"border-[#135bec] scale-[1.02] shadow-lg shadow-[#135bec]/20":"border-white/5 opacity-40 hover:opacity-100"}`,children:[e.jsx("div",{className:"absolute inset-0 bg-gradient-to-t from-black/90 via-black/20 to-transparent z-10"}),e.jsx("img",{alt:t,className:"w-full h-full object-cover group-hover:scale-110 transition-transform duration-700",src:"https://images.unsplash.com/photo-1550989460-0adf9ea622e2?q=80&w=280&auto=format&fit=crop"}),e.jsx("span",{className:"absolute bottom-2.5 left-2.5 z-20 text-[9px] font-black uppercase text-white tracking-[1px] leading-tight",children:t}),e.jsx("div",{className:"absolute top-2 right-2 z-20 opacity-0 peer-checked:opacity-100 transition-all transform scale-50 peer-checked:scale-100",children:e.jsx("div",{className:"bg-[#135bec] rounded-full p-1 shadow-lg",children:e.jsx(B,{className:"w-3 h-3 text-white"})})})]})]},t))}),e.jsxs("p",{className:"mt-6 text-[10px] text-slate-500 font-medium text-center leading-relaxed",children:[e.jsx(O,{className:"size-3 inline mr-1 text-[#135bec]"}),"Estos estilos estarán disponibles para tus clientes finales en sus eventos."]})]})]})]}),p&&e.jsx("div",{className:"fixed inset-0 z-50 flex items-center justify-center p-4 bg-black/80 backdrop-blur-xl",children:e.jsxs("div",{className:"glass-card w-full max-w-lg bg-slate-900 border border-white/10 rounded-2xl shadow-2xl overflow-hidden animate-in fade-in zoom-in duration-300",children:[e.jsxs("div",{className:"flex items-center justify-between p-7 border-b border-white/5",children:[e.jsxs("div",{children:[e.jsx("h3",{className:"text-xl font-black text-white uppercase tracking-tighter",children:"Crear Nuevo Evento"}),e.jsx("p",{className:"text-xs text-slate-500 mt-1 uppercase tracking-widest font-bold",children:"Configuración de instancia"})]}),e.jsx("button",{onClick:()=>h(!1),className:"size-10 flex items-center justify-center rounded-xl bg-slate-800 text-slate-500 hover:text-white transition-all",children:e.jsx(Y,{className:"w-6 h-6"})})]}),e.jsxs("form",{onSubmit:M,className:"p-7 space-y-6",children:[e.jsxs("div",{className:"space-y-4",children:[e.jsxs("div",{children:[e.jsx("label",{className:"text-[10px] font-black uppercase tracking-[2px] text-slate-500 mb-2 block",children:"Nombre del Evento"}),e.jsx("input",{required:!0,type:"text",placeholder:"Ej: Boda de Lucía y Marcos",className:"w-full bg-[#0a0a0b] border border-white/10 rounded-xl px-5 py-4 text-white focus:border-[#135bec] outline-none transition-all placeholder:text-slate-800",value:i.name,onChange:t=>f({...i,name:t.target.value})})]}),e.jsxs("div",{children:[e.jsx("label",{className:"text-[10px] font-black uppercase tracking-[2px] text-slate-500 mb-2 block",children:"Email del Cliente (Asignación)"}),e.jsxs("div",{className:"relative",children:[e.jsx(ee,{className:"absolute left-4 top-1/2 -translate-y-1/2 text-slate-700 size-4"}),e.jsx("input",{required:!0,type:"email",placeholder:"cliente@ejemplo.com",className:"w-full bg-[#0a0a0b] border border-white/10 rounded-xl pl-11 pr-5 py-4 text-white focus:border-[#135bec] outline-none transition-all placeholder:text-slate-800 text-xs",value:i.client_email,onChange:t=>f({...i,client_email:t.target.value.toLowerCase()})})]}),e.jsx("p",{className:"text-[9px] text-slate-500 mt-1.5 ml-1",children:"Este email se usará para que el cliente acceda a su panel."})]}),e.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[e.jsxs("div",{children:[e.jsx("label",{className:"text-[10px] font-black uppercase tracking-[2px] text-slate-500 mb-2 block",children:"Slug Personalizado"}),e.jsxs("div",{className:"relative",children:[e.jsx("span",{className:"absolute left-4 top-1/2 -translate-y-1/2 text-slate-700 text-xs font-mono",children:"/"}),e.jsx("input",{type:"text",placeholder:"boda-lucia",className:"w-full bg-[#0a0a0b] border border-white/10 rounded-xl pl-8 pr-5 py-4 text-white focus:border-[#135bec] outline-none transition-all placeholder:text-slate-800 font-mono text-xs",value:i.slug,onChange:t=>f({...i,slug:t.target.value.toLowerCase().replace(/\s+/g,"-")})})]})]}),e.jsxs("div",{children:[e.jsx("label",{className:"text-[10px] font-black uppercase tracking-[2px] text-slate-500 mb-2 block",children:"Carga de Créditos"}),e.jsxs("div",{className:"relative",children:[e.jsx(V,{className:"absolute left-4 top-1/2 -translate-y-1/2 text-[#135bec] size-4"}),e.jsx("input",{required:!0,type:"number",className:"w-full bg-[#0a0a0b] border border-white/10 rounded-xl pl-11 pr-5 py-4 text-white focus:border-[#135bec] outline-none transition-all font-bold",value:i.credits,onChange:t=>f({...i,credits:Number(t.target.value)})})]})]})]}),e.jsxs("div",{className:"grid grid-cols-2 gap-4 pt-2",children:[e.jsxs("div",{children:[e.jsx("label",{className:"text-[10px] font-black uppercase tracking-[2px] text-slate-500 mb-2 block",children:"Inicio"}),e.jsx("input",{type:"date",className:"w-full bg-[#0a0a0b] border border-white/10 rounded-xl px-5 py-4 text-white focus:border-[#135bec] outline-none transition-all text-xs",value:i.start_date,onChange:t=>f({...i,start_date:t.target.value})})]}),e.jsxs("div",{children:[e.jsx("label",{className:"text-[10px] font-black uppercase tracking-[2px] text-slate-500 mb-2 block",children:"Finalización"}),e.jsx("input",{type:"date",className:"w-full bg-[#0a0a0b] border border-white/10 rounded-xl px-5 py-4 text-white focus:border-[#135bec] outline-none transition-all text-xs",value:i.end_date,onChange:t=>f({...i,end_date:t.target.value})})]})]})]}),e.jsxs("div",{className:"bg-[#135bec]/5 border border-[#135bec]/20 rounded-xl p-4 flex items-start gap-4",children:[e.jsx("div",{className:"p-2 bg-[#135bec] rounded-lg text-white",children:e.jsx(B,{className:"size-4"})}),e.jsxs("div",{children:[e.jsx("p",{className:"text-[10px] font-black text-white uppercase tracking-widest",children:"Verificación de Balance"}),e.jsxs("p",{className:"text-[11px] text-slate-400 mt-1",children:["Se deducirán ",i.credits," créditos de tu balance mayorista (",P," disponibles)."]})]})]}),e.jsx("button",{type:"submit",disabled:_,className:"w-full py-5 bg-[#135bec] hover:bg-[#135bec]/90 text-white font-black rounded-2xl shadow-2xl shadow-[#135bec]/30 transition-all uppercase tracking-[3px] text-xs",children:_?"Sincronizando...":"Activar Instancia de Evento"})]})]})})]})},G=({IDENTITIES:y,onBack:u})=>{const[s,S]=o.useState([]),[_,m]=o.useState(!0),[a,w]=o.useState({totalGenerations:0,totalPartners:0,totalCreditsSold:0,activeEvents:0});o.useEffect(()=>{v()},[]);const v=async()=>{var x;try{m(!0);const[c,g]=await Promise.all([d.from("partners").select("*"),d.from("events").select("*")]);if(c.error)throw c.error;const p=c.data||[];S(p);const h=p.reduce((i,f)=>i+(f.credits_total||0),0),r=p.reduce((i,f)=>i+(f.credits_used||0),0),b=((x=g.data)==null?void 0:x.filter(i=>i.is_active).length)||0;w({totalGenerations:r,totalPartners:p.length,totalCreditsSold:h,activeEvents:b})}catch(c){console.error("Error fetching admin data:",c)}finally{m(!1)}};return e.jsxs("div",{className:"flex h-screen overflow-hidden bg-[#0a0c0b] text-slate-100 font-sans",children:[e.jsxs("aside",{className:"w-64 border-r border-[#1f2b24] bg-[#0a0c0b] hidden md:flex flex-col",children:[e.jsxs("div",{className:"p-6 border-b border-[#1f2b24] flex items-center gap-3",children:[e.jsx("div",{className:"w-8 h-8 bg-[#13ec80] rounded flex items-center justify-center text-[#0a0c0b]",children:e.jsx("span",{className:"material-symbols-outlined !text-[20px] font-bold",children:"visibility"})}),e.jsxs("div",{children:[e.jsx("h1",{className:"text-sm font-bold tracking-tight text-white uppercase",children:"Eagle-Eye"}),e.jsx("p",{className:"text-[10px] text-[#13ec80]/70 uppercase font-medium tracking-[0.2em]",children:"Master Admin"})]})]}),e.jsxs("nav",{className:"flex-1 p-4 flex flex-col gap-1 overflow-y-auto custom-scrollbar",children:[e.jsx("p",{className:"px-3 py-2 text-[10px] font-bold text-slate-500 uppercase tracking-widest",children:"General"}),e.jsxs("a",{className:"flex items-center gap-3 px-3 py-2 rounded-lg bg-[#13ec80]/10 text-[#13ec80] border border-[#13ec80]/20 cursor-pointer",children:[e.jsx("span",{className:"material-symbols-outlined",children:"dashboard"}),e.jsx("span",{className:"text-sm font-medium",children:"Overview"})]}),e.jsxs("a",{className:"flex items-center gap-3 px-3 py-2 rounded-lg text-slate-400 hover:text-white hover:bg-white/5 transition-colors cursor-pointer",children:[e.jsx("span",{className:"material-symbols-outlined",children:"corporate_fare"}),e.jsx("span",{className:"text-sm font-medium",children:"Partners"})]}),e.jsxs("a",{className:"flex items-center gap-3 px-3 py-2 rounded-lg text-slate-400 hover:text-white hover:bg-white/5 transition-colors cursor-pointer",children:[e.jsx("span",{className:"material-symbols-outlined",children:"auto_fix_high"}),e.jsx("span",{className:"text-sm font-medium",children:"AI Style Engine"})]}),e.jsxs("a",{className:"flex items-center gap-3 px-3 py-2 rounded-lg text-slate-400 hover:text-white hover:bg-white/5 transition-colors cursor-pointer",children:[e.jsx("span",{className:"material-symbols-outlined",children:"payments"}),e.jsx("span",{className:"text-sm font-medium",children:"Ledger"})]})]}),e.jsx("div",{className:"p-4 border-t border-[#1f2b24] bg-[#121413]/50",children:e.jsxs("div",{className:"flex items-center gap-3 mb-4",children:[e.jsx("div",{className:"w-8 h-8 rounded-full bg-[#13ec80]/20 flex items-center justify-center border border-[#13ec80]/40",children:e.jsx("span",{className:"material-symbols-outlined text-[#13ec80] !text-[18px]",children:"person"})}),e.jsxs("div",{className:"flex-1 min-w-0",children:[e.jsx("p",{className:"text-xs font-bold text-white truncate",children:"Admin_Root"}),e.jsx("p",{className:"text-[10px] text-slate-500 truncate",children:"Platform Owner"})]}),e.jsx("button",{onClick:u,className:"material-symbols-outlined text-slate-500 cursor-pointer hover:text-white",title:"Logout",children:"logout"})]})})]}),e.jsxs("main",{className:"flex-1 flex flex-col min-w-0 bg-[#0a0c0b]",children:[e.jsxs("header",{className:"h-16 border-b border-[#1f2b24] flex items-center justify-between px-8 bg-[#121413]/30 backdrop-blur-md sticky top-0 z-10",children:[e.jsxs("div",{className:"flex-1 max-w-2xl relative",children:[e.jsx("span",{className:"material-symbols-outlined absolute left-3 top-1/2 -translate-y-1/2 text-slate-500 !text-[18px]",children:"search"}),e.jsx("input",{className:"w-full bg-[#121413] border border-[#1f2b24] rounded-lg pl-10 pr-4 py-2 text-sm text-slate-200 focus:ring-1 focus:ring-[#13ec80] focus:border-[#13ec80] placeholder-slate-600 transition-all outline-none",placeholder:"Search partner slugs, admin emails, or global event IDs...",type:"text"})]}),e.jsxs("div",{className:"flex items-center gap-4 ml-6",children:[e.jsxs("div",{className:"flex flex-col items-end",children:[e.jsx("p",{className:"text-[10px] font-bold text-slate-500 uppercase",children:"System Time"}),e.jsxs("p",{className:"text-xs font-mono text-[#13ec80] leading-tight",children:[new Date().toLocaleTimeString("en-US",{hour12:!1})," UTC"]})]}),e.jsx("div",{className:"h-8 w-px bg-[#1f2b24]"}),e.jsxs("button",{className:"relative p-2 text-slate-400 hover:text-white transition-colors",children:[e.jsx("span",{className:"material-symbols-outlined",children:"notifications"}),e.jsx("span",{className:"absolute top-2 right-2 w-2 h-2 bg-[#13ec80] rounded-full border-2 border-[#0a0c0b]"})]})]})]}),e.jsxs("div",{className:"flex-1 overflow-y-auto custom-scrollbar p-8",children:[e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-4 mb-8",children:[e.jsxs("div",{className:"bg-[#121413] p-5 border border-[#1f2b24] rounded-lg hover:border-[#13ec80]/30 transition-all group",children:[e.jsxs("div",{className:"flex justify-between items-start mb-3",children:[e.jsx("p",{className:"text-[10px] font-bold text-slate-500 uppercase tracking-wider",children:"Photo Generations"}),e.jsx("span",{className:"text-[10px] font-bold text-[#13ec80] px-1.5 py-0.5 bg-[#13ec80]/10 rounded tracking-tight",children:"+12.4%"})]}),e.jsxs("div",{className:"flex items-baseline gap-2",children:[e.jsx("h3",{className:"text-2xl font-bold text-white leading-none",children:a.totalGenerations.toLocaleString()}),e.jsx("span",{className:"text-xs text-slate-500",children:"/ Total"})]}),e.jsx("div",{className:"mt-4 w-full bg-[#1f2b24] h-1 rounded-full overflow-hidden",children:e.jsx("div",{className:"bg-[#13ec80] h-full w-[65%] shadow-[0_0_8px_rgba(19,236,128,0.3)]"})})]}),e.jsxs("div",{className:"bg-[#121413] p-5 border border-[#1f2b24] rounded-lg hover:border-[#13ec80]/30 transition-all",children:[e.jsxs("div",{className:"flex justify-between items-start mb-3",children:[e.jsx("p",{className:"text-[10px] font-bold text-slate-500 uppercase tracking-wider",children:"Total Partners"}),e.jsx("span",{className:"material-symbols-outlined text-slate-600 !text-[16px]",children:"groups"})]}),e.jsxs("div",{className:"flex items-baseline gap-2",children:[e.jsx("h3",{className:"text-2xl font-bold text-white leading-none",children:a.totalPartners}),e.jsx("span",{className:"text-xs text-slate-500",children:"Active"})]}),e.jsx("p",{className:"mt-2 text-[10px] text-slate-500",children:"Global Resellers"})]}),e.jsxs("div",{className:"bg-[#121413] p-5 border border-[#1f2b24] rounded-lg hover:border-[#13ec80]/30 transition-all",children:[e.jsxs("div",{className:"flex justify-between items-start mb-3",children:[e.jsx("p",{className:"text-[10px] font-bold text-slate-500 uppercase tracking-wider",children:"Total Credits Sold"}),e.jsx("span",{className:"text-[10px] font-bold text-red-400 px-1.5 py-0.5 bg-red-400/10 rounded tracking-tight",children:"-2.1%"})]}),e.jsxs("div",{className:"flex items-baseline gap-2",children:[e.jsxs("h3",{className:"text-2xl font-bold text-white leading-none",children:[(a.totalCreditsSold/1e3).toFixed(1),"k"]}),e.jsx("span",{className:"text-xs text-slate-500",children:"Units"})]}),e.jsx("p",{className:"mt-2 text-[10px] text-slate-500",children:"Avg. $0.12 / credit"})]}),e.jsxs("div",{className:"bg-[#121413] p-5 border border-[#1f2b24] rounded-lg hover:border-[#13ec80]/30 transition-all flex flex-col justify-between",children:[e.jsxs("div",{className:"flex justify-between items-start mb-3",children:[e.jsx("p",{className:"text-[10px] font-bold text-slate-500 uppercase tracking-wider",children:"AI API Status"}),e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx("span",{className:"text-[10px] font-bold text-[#13ec80]",children:"LIVE"}),e.jsx("span",{className:"w-2 h-2 rounded-full bg-[#13ec80] animate-[pulse-green_2s_infinite]"})]})]}),e.jsxs("div",{className:"flex items-baseline gap-2",children:[e.jsx("h3",{className:"text-2xl font-bold text-white leading-none",children:"99.9%"}),e.jsx("span",{className:"text-xs text-slate-500",children:"Uptime"})]}),e.jsx("p",{className:"mt-2 text-[10px] text-[#13ec80]/70 font-mono tracking-tighter uppercase",children:"Pulsing Green • Node-21-Alpha"})]})]}),e.jsxs("div",{className:"grid grid-cols-1 xl:grid-cols-3 gap-8",children:[e.jsxs("div",{className:"xl:col-span-2 space-y-4",children:[e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsx("h2",{className:"text-lg font-bold text-white tracking-tight",children:"Partner Management"}),e.jsx("button",{className:"text-xs font-bold text-[#13ec80] border border-[#13ec80]/30 px-3 py-1.5 rounded bg-[#13ec80]/5 hover:bg-[#13ec80]/10 transition-all",children:"Export Report"})]}),e.jsx("div",{className:"bg-[#121413] border border-[#1f2b24] rounded-xl overflow-hidden",children:e.jsxs("table",{className:"w-full text-left text-sm",children:[e.jsx("thead",{children:e.jsxs("tr",{className:"bg-white/5 border-b border-[#1f2b24]",children:[e.jsx("th",{className:"px-6 py-4 font-bold text-slate-400 uppercase text-[10px]",children:"Partner Company"}),e.jsx("th",{className:"px-6 py-4 font-bold text-slate-400 uppercase text-[10px]",children:"Credit Pool"}),e.jsx("th",{className:"px-6 py-4 font-bold text-slate-400 uppercase text-[10px]",children:"Status"}),e.jsx("th",{className:"px-6 py-4 font-bold text-slate-400 uppercase text-[10px] text-right",children:"Actions"})]})}),e.jsx("tbody",{className:"divide-y divide-[#1f2b24]/50",children:_?e.jsx("tr",{children:e.jsx("td",{colSpan:4,className:"p-8 text-center text-slate-500",children:"Loading partners..."})}):s.map(x=>e.jsxs("tr",{className:"hover:bg-white/[0.02] transition-colors",children:[e.jsx("td",{className:"px-6 py-4",children:e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx("div",{className:"w-8 h-8 rounded bg-blue-500/20 flex items-center justify-center text-blue-400 text-xs font-bold",children:x.name.substring(0,1).toUpperCase()}),e.jsxs("div",{children:[e.jsx("p",{className:"font-bold text-white",children:x.name}),e.jsxs("p",{className:"text-[10px] text-slate-500 uppercase tracking-tight",children:["ID: ",x.id.substring(0,8)]})]})]})}),e.jsx("td",{className:"px-6 py-4",children:e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx("p",{className:"font-mono text-white",children:x.credits_total-x.credits_used}),x.credits_total-x.credits_used<100?e.jsx("span",{className:"w-1.5 h-1.5 rounded-full bg-red-500 animate-[pulse-green_2s_infinite]"}):e.jsx("span",{className:"w-1.5 h-1.5 rounded-full bg-[#13ec80]"})]})}),e.jsx("td",{className:"px-6 py-4 text-slate-300",children:x.credits_total-x.credits_used>0?"Active":"Inactive"}),e.jsx("td",{className:"px-6 py-4 text-right",children:e.jsx("button",{onClick:()=>alert("Top-up logic not implemented yet"),className:"text-[#13ec80] hover:bg-[#13ec80] hover:text-[#0a0c0b] px-3 py-1 rounded text-xs font-bold border border-[#13ec80]/20 transition-all",children:"Top-up"})})]},x.id))})]})})]}),e.jsxs("div",{className:"pt-4 space-y-4",children:[e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsx("h2",{className:"text-lg font-bold text-white tracking-tight",children:"Global Style Library"}),e.jsx("p",{className:"text-[10px] font-bold text-slate-500 uppercase",children:"Engine V4.2 - Stable"})]}),e.jsx("div",{className:"grid grid-cols-2 lg:grid-cols-4 xl:grid-cols-2 gap-4",children:["Watercolor","Cyberpunk","F1 Racing","3D Render"].map((x,c)=>e.jsxs("div",{className:"bg-[#121413] border border-[#1f2b24] p-3 rounded-lg flex flex-col gap-3 group",children:[e.jsx("div",{className:`aspect-square rounded-md overflow-hidden relative border border-white/5 bg-gradient-to-br ${c%2===0?"from-blue-900 to-indigo-900":"from-amber-900 to-orange-900"}`,children:e.jsx("div",{className:"absolute bottom-2 left-2 right-2 flex justify-between items-end",children:e.jsx("span",{className:"text-[10px] font-bold text-white drop-shadow-md",children:x})})}),e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsx("span",{className:"text-[10px] uppercase font-bold text-slate-500",children:"Active"}),e.jsx("button",{className:"w-8 h-4 bg-[#13ec80] rounded-full relative transition-all",children:e.jsx("span",{className:"absolute right-1 top-1 w-2 h-2 bg-[#0a0c0b] rounded-full"})})]})]},c))})]})]}),e.jsxs("div",{className:"space-y-4 mt-8",children:[e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx("h2",{className:"text-lg font-bold text-white tracking-tight",children:"System Pulse"}),e.jsx("div",{className:"w-1.5 h-1.5 rounded-full bg-red-400"})]}),e.jsxs("div",{className:"bg-[#121413] border border-[#1f2b24] rounded-xl h-64 flex flex-col",children:[e.jsxs("div",{className:"p-4 border-b border-[#1f2b24] bg-white/5 flex items-center justify-between",children:[e.jsx("p",{className:"text-[10px] font-bold text-slate-400 uppercase tracking-widest",children:"Real-time Logs"}),e.jsx("span",{className:"material-symbols-outlined !text-[16px] text-slate-500",children:"filter_list"})]}),e.jsxs("div",{className:"flex-1 overflow-y-auto p-4 space-y-4 custom-scrollbar",children:[e.jsxs("div",{className:"flex gap-3 relative pb-4 before:content-[''] before:absolute before:left-[7px] before:top-6 before:bottom-0 before:w-px before:bg-[#1f2b24]",children:[e.jsx("div",{className:"w-3.5 h-3.5 mt-1 rounded-full bg-[#13ec80]/20 border border-[#13ec80]/50 flex items-center justify-center shrink-0",children:e.jsx("div",{className:"w-1 h-1 bg-[#13ec80] rounded-full"})}),e.jsxs("div",{children:[e.jsx("p",{className:"text-xs font-bold text-[#13ec80] leading-tight",children:"INFO: System Ready"}),e.jsx("p",{className:"text-[10px] text-slate-500 mt-1",children:"Dashboard initialized for Admin_Root."}),e.jsx("p",{className:"text-[9px] font-mono text-slate-600 mt-1",children:"Just now"})]})]}),e.jsxs("div",{className:"flex gap-3 relative pb-4",children:[e.jsx("div",{className:"w-3.5 h-3.5 mt-1 rounded-full bg-slate-700/50 border border-slate-500/50 flex items-center justify-center shrink-0",children:e.jsx("div",{className:"w-1 h-1 bg-slate-500 rounded-full"})}),e.jsxs("div",{children:[e.jsx("p",{className:"text-xs font-bold text-slate-400 leading-tight",children:"LOG: Database Sync"}),e.jsx("p",{className:"text-[10px] text-slate-500 mt-1",children:"Partner data synchronized."}),e.jsx("p",{className:"text-[9px] font-mono text-slate-600 mt-1",children:"1 min ago"})]})]})]})]})]})]})]}),e.jsx("style",{children:`
                .custom-scrollbar::-webkit-scrollbar {
                    width: 4px;
                }
                .custom-scrollbar::-webkit-scrollbar-track {
                    background: transparent;
                }
                .custom-scrollbar::-webkit-scrollbar-thumb {
                    background: #1f2b24;
                    border-radius: 10px;
                }
            `})]})},Se=({user:y,profile:u})=>{const[s,S]=o.useState(null),[_,m]=o.useState(!0),[a,w]=o.useState(!1),[v,x]=o.useState([]),[c,g]=o.useState({primary_color:"#7f13ec",welcome_text:"Welcome to the celebration!",radius:"12px"}),[p,h]=o.useState(""),[r,b]=o.useState("");o.useEffect(()=>{i()},[u.email]);const i=async()=>{try{m(!0);const{data:l,error:P}=await d.from("events").select("*").ilike("client_email",u.email.toLowerCase()).single();l&&(S(l),h(l.event_name),b(l.start_date?l.start_date.split("T")[0]:""),l.config&&g({...c,...l.config,primary_color:l.config.primary_color||"#7f13ec"}))}catch(l){console.error("Error fetching event for client:",l)}finally{m(!1)}},f=async()=>{if(s)try{w(!0);const{error:l}=await d.from("events").update({event_name:p,start_date:r,config:c}).eq("id",s.id);if(l)throw l;alert("Settings saved successfully!")}catch(l){console.error("Error saving:",l),alert("Failed to save changes.")}finally{w(!1)}},D=async l=>{if(!l.target.files||l.target.files.length===0)return;const P=l.target.files[0],A=P.name.split(".").pop(),t=`event-logo-${s==null?void 0:s.id}-${Date.now()}.${A}`;try{w(!0);const{data:n,error:C}=await d.storage.from("logos").upload(t,P);if(C){const{error:N}=await d.storage.from("public").upload(`logos/${t}`,P);if(N)throw N;const{data:k}=d.storage.from("public").getPublicUrl(`logos/${t}`);g({...c,logo_url:k.publicUrl})}else{const{data:N}=d.storage.from("logos").getPublicUrl(t);g({...c,logo_url:N.publicUrl})}}catch(n){console.error("Upload error:",n),alert("Error uploading logo")}finally{w(!1)}};if(_)return e.jsx("div",{className:"text-white p-10 flex justify-center",children:"Loading Dashboard..."});if(!s)return e.jsx("div",{className:"text-white p-10 flex justify-center",children:"No event found linked to this email."});const E=`https://photobooth.creativa-labs.com/?event=${s.event_slug}`,L=s.credits_used||0,M=s.credits_allocated||500,z=Math.min(100,Math.round(L/M*100)),$=552.92-552.92*z/100;return e.jsxs("div",{className:"bg-[#0a0a0a] text-slate-100 min-h-screen font-[Spline Sans,sans-serif]",children:[e.jsx("header",{className:"border-b border-[#2d1b42] bg-[#16111d]/50 backdrop-blur-md sticky top-0 z-50",children:e.jsxs("div",{className:"max-w-7xl mx-auto px-6 h-20 flex items-center justify-between",children:[e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx("div",{className:"bg-[#7f13ec] p-2 rounded-lg",children:e.jsx("span",{className:"material-symbols-outlined text-white",children:"auto_awesome"})}),e.jsxs("h1",{className:"text-xl font-bold tracking-tight text-white",children:["AI Photo Booth ",e.jsx("span",{className:"text-[#7f13ec]",children:"Pro"})]})]}),e.jsxs("nav",{className:"hidden md:flex items-center gap-8",children:[e.jsxs("a",{href:"#",className:"text-sm font-medium hover:text-[#7f13ec] transition-colors flex items-center gap-2 text-white",children:[e.jsx("span",{className:"material-symbols-outlined text-lg",children:"dashboard"})," Dashboard"]}),e.jsxs("a",{href:"#",className:"text-sm font-medium text-slate-400 hover:text-[#7f13ec] transition-colors flex items-center gap-2",children:[e.jsx("span",{className:"material-symbols-outlined text-lg",children:"photo_library"})," Gallery"]}),e.jsxs("a",{href:"#",className:"text-sm font-medium text-slate-400 hover:text-[#7f13ec] transition-colors flex items-center gap-2",children:[e.jsx("span",{className:"material-symbols-outlined text-lg",children:"settings"})," Settings"]})]}),e.jsxs("div",{className:"flex items-center gap-4",children:[e.jsxs("div",{className:"flex items-center gap-2 px-3 py-1.5 bg-green-500/10 border border-green-500/20 rounded-full",children:[e.jsxs("span",{className:"relative flex h-2 w-2",children:[e.jsx("span",{className:"animate-ping absolute inline-flex h-full w-full rounded-full bg-green-400 opacity-75"}),e.jsx("span",{className:"relative inline-flex rounded-full h-2 w-2 bg-green-500"})]}),e.jsx("span",{className:"text-xs font-bold text-green-500 uppercase tracking-wider",children:"Event Live"})]}),e.jsx("div",{className:"h-10 w-10 rounded-full bg-[#7f13ec]/20 border border-[#7f13ec]/30 flex items-center justify-center overflow-hidden",children:e.jsx("div",{className:"bg-[#7f13ec] text-white w-full h-full flex items-center justify-center font-bold",children:u.email[0].toUpperCase()})})]})]})}),e.jsxs("main",{className:"max-w-7xl mx-auto px-6 py-8",children:[e.jsxs("div",{className:"mb-10 flex justify-between items-end",children:[e.jsxs("div",{children:[e.jsx("h2",{className:"text-4xl font-black tracking-tight mb-2 text-white",children:"Event Host Dashboard"}),e.jsxs("p",{className:"text-slate-400 text-lg",children:["Managing: ",e.jsx("span",{className:"text-white font-semibold",children:s.event_name})]})]}),e.jsx("button",{onClick:f,disabled:a,className:"bg-[#7f13ec] hover:bg-[#690cc4] text-white px-6 py-3 rounded-lg font-bold flex items-center gap-2 transition-all shadow-lg shadow-[#7f13ec]/20",children:a?"Saving...":e.jsxs(e.Fragment,{children:[e.jsx("span",{className:"material-symbols-outlined",children:"save"})," Save Changes"]})})]}),e.jsxs("div",{className:"grid grid-cols-12 gap-6",children:[e.jsxs("div",{className:"col-span-12 lg:col-span-8 space-y-6",children:[e.jsxs("section",{className:"bg-[#16111d] border border-[#2d1b42] rounded-xl p-6",children:[e.jsxs("div",{className:"flex items-center gap-3 mb-6",children:[e.jsx("span",{className:"material-symbols-outlined text-[#7f13ec]",children:"edit_calendar"}),e.jsx("h3",{className:"text-xl font-bold text-white",children:"1. Event Setup"})]}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[e.jsxs("div",{className:"space-y-2",children:[e.jsx("label",{className:"text-sm font-semibold text-slate-300",children:"Event Name"}),e.jsx("input",{className:"w-full bg-[#0a0a0a] border border-[#2d1b42] rounded-lg px-4 py-3 focus:ring-1 focus:ring-[#7f13ec] focus:border-[#7f13ec] text-white outline-none",type:"text",value:p,onChange:l=>h(l.target.value)})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx("label",{className:"text-sm font-semibold text-slate-300",children:"Date"}),e.jsx("input",{className:"w-full bg-[#0a0a0a] border border-[#2d1b42] rounded-lg px-4 py-3 focus:ring-1 focus:ring-[#7f13ec] focus:border-[#7f13ec] text-white outline-none",type:"date",value:r,onChange:l=>b(l.target.value)})]}),e.jsxs("div",{className:"col-span-full space-y-2",children:[e.jsx("label",{className:"text-sm font-semibold text-slate-300",children:"Welcome Message"}),e.jsx("textarea",{className:"w-full bg-[#0a0a0a] border border-[#2d1b42] rounded-lg px-4 py-3 focus:ring-1 focus:ring-[#7f13ec] focus:border-[#7f13ec] text-white outline-none",rows:3,value:c.welcome_text,onChange:l=>g({...c,welcome_text:l.target.value})})]})]})]}),e.jsxs("section",{className:"bg-[#16111d] border border-[#2d1b42] rounded-xl p-6",children:[e.jsxs("div",{className:"flex items-center gap-3 mb-6",children:[e.jsx("span",{className:"material-symbols-outlined text-[#7f13ec]",children:"palette"}),e.jsx("h3",{className:"text-xl font-bold text-white",children:"2. Event Branding"})]}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-8",children:[e.jsxs("div",{className:"space-y-4",children:[e.jsx("p",{className:"text-sm font-semibold text-slate-300",children:"Event Logo"}),e.jsxs("div",{className:"border-2 border-dashed border-[#2d1b42] rounded-xl p-8 flex flex-col items-center justify-center gap-3 hover:border-[#7f13ec]/50 transition-colors cursor-pointer group bg-[#0a0a0a]/50",onClick:()=>{var l;return(l=document.getElementById("clientLogoInput"))==null?void 0:l.click()},children:[e.jsx("input",{type:"file",id:"clientLogoInput",className:"hidden",accept:"image/*",onChange:D}),c.logo_url?e.jsx("img",{src:c.logo_url,alt:"Logo",className:"h-16 object-contain"}):e.jsxs(e.Fragment,{children:[e.jsx("span",{className:"material-symbols-outlined text-4xl text-slate-500 group-hover:text-[#7f13ec]",children:"upload_file"}),e.jsx("p",{className:"text-xs text-slate-500",children:"Drag and drop or click to upload"})]})]})]}),e.jsxs("div",{className:"space-y-4",children:[e.jsx("p",{className:"text-sm font-semibold text-slate-300",children:"Interface Theme Color"}),e.jsxs("div",{className:"flex flex-wrap gap-4",children:[["#7f13ec","#ec4899","#3b82f6","#10b981","#f59e0b"].map(l=>e.jsx("button",{className:`w-12 h-12 rounded-full hover:scale-105 transition-transform ${c.primary_color===l?"ring-4 ring-[#7f13ec]/30 text-white":""}`,style:{backgroundColor:l},onClick:()=>g({...c,primary_color:l})},l)),e.jsxs("div",{className:"relative",children:[e.jsx("input",{type:"color",className:"opacity-0 absolute inset-0 w-full h-full cursor-pointer",value:c.primary_color,onChange:l=>g({...c,primary_color:l.target.value})}),e.jsx("div",{className:"w-12 h-12 rounded-full bg-slate-800 flex items-center justify-center cursor-pointer border border-white/10",children:e.jsx("span",{className:"material-symbols-outlined text-xl text-slate-400",children:"colorize"})})]})]}),e.jsx("p",{className:"text-xs text-slate-500",children:"This color will be the primary accent for your guests."})]})]})]}),e.jsxs("section",{className:"bg-[#16111d] border border-[#2d1b42] rounded-xl p-6",children:[e.jsxs("div",{className:"flex items-center justify-between mb-6",children:[e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx("span",{className:"material-symbols-outlined text-[#7f13ec]",children:"auto_awesome_motion"}),e.jsx("h3",{className:"text-xl font-bold text-white",children:"Live Gallery Feed"})]}),e.jsxs("button",{onClick:()=>window.open(E,"_blank"),className:"text-xs font-bold text-[#7f13ec] uppercase tracking-widest flex items-center gap-1 hover:underline",children:["View All ",e.jsx("span",{className:"material-symbols-outlined text-sm",children:"arrow_forward"})]})]}),e.jsx("div",{className:"flex gap-4 overflow-x-auto pb-4 custom-scrollbar snap-x",children:e.jsx("div",{className:"min-w-[180px] aspect-[3/4] rounded-lg bg-slate-800 overflow-hidden relative group snap-start flex items-center justify-center border border-white/5",children:e.jsx("p",{className:"text-xs text-slate-500 text-center px-4",children:"Photos taken at your event will appear here"})})})]})]}),e.jsxs("div",{className:"col-span-12 lg:col-span-4 space-y-6",children:[e.jsxs("section",{className:"bg-[#16111d] border border-[#2d1b42] rounded-xl p-8 relative overflow-hidden",children:[e.jsx("div",{className:"absolute -top-24 -right-24 w-48 h-48 bg-[#7f13ec]/10 blur-[80px] rounded-full"}),e.jsxs("div",{className:"text-center relative z-10",children:[e.jsx("h3",{className:"text-lg font-bold mb-8 text-white",children:"Photo Credits"}),e.jsxs("div",{className:"relative flex items-center justify-center mb-6",children:[e.jsxs("svg",{className:"w-48 h-48 transform -rotate-90",children:[e.jsx("circle",{className:"text-slate-800",cx:"96",cy:"96",fill:"transparent",r:"88",stroke:"currentColor",strokeWidth:"12"}),e.jsx("circle",{className:"text-[#7f13ec]",cx:"96",cy:"96",fill:"transparent",r:"88",stroke:"currentColor",strokeDasharray:"552.92",strokeDashoffset:$,strokeLinecap:"round",strokeWidth:"12"})]}),e.jsxs("div",{className:"absolute flex flex-col items-center",children:[e.jsx("span",{className:"text-5xl font-black text-white",children:L}),e.jsxs("span",{className:"text-xs font-bold text-slate-500 uppercase tracking-widest mt-1",children:["OF ",M," USED"]})]})]}),e.jsxs("div",{className:"space-y-4",children:[e.jsxs("div",{className:"flex justify-between text-sm",children:[e.jsx("span",{className:"text-slate-400",children:"Remaining"}),e.jsxs("span",{className:"text-white font-bold",children:[M-L," Photos"]})]}),e.jsx("div",{className:"w-full bg-slate-800 h-1.5 rounded-full overflow-hidden",children:e.jsx("div",{className:"bg-[#7f13ec] h-full",style:{width:`${z}%`}})}),e.jsxs("button",{onClick:()=>alert("Contact your partner to top up credits"),className:"w-full py-3 bg-[#7f13ec]/10 border border-[#7f13ec]/30 text-[#7f13ec] font-bold rounded-lg hover:bg-[#7f13ec]/20 transition-all flex items-center justify-center gap-2",children:[e.jsx("span",{className:"material-symbols-outlined text-lg",children:"add_circle"})," Top Up Credits"]})]})]})]}),e.jsxs("section",{className:"bg-[#16111d] border border-[#2d1b42] rounded-xl p-6",children:[e.jsxs("h3",{className:"text-lg font-bold mb-6 flex items-center gap-2 text-white",children:[e.jsx("span",{className:"material-symbols-outlined text-[#7f13ec]",children:"qr_code_2"})," Guest Access"]}),e.jsxs("div",{className:"space-y-4",children:[e.jsxs("button",{className:"w-full py-4 bg-[#7f13ec] text-white font-bold rounded-xl flex items-center justify-center gap-3 shadow-lg shadow-[#7f13ec]/20 hover:scale-[1.02] transition-transform active:scale-95",children:[e.jsx("span",{className:"material-symbols-outlined",children:"download"})," Download QR for Print"]}),e.jsxs("button",{onClick:()=>{navigator.clipboard.writeText(E),alert("Link copied!")},className:"w-full py-4 bg-[#0a0a0a] text-slate-300 border border-[#2d1b42] font-bold rounded-xl flex items-center justify-center gap-3 hover:bg-slate-800 transition-colors",children:[e.jsx("span",{className:"material-symbols-outlined",children:"link"})," Copy Event Link"]})]}),e.jsxs("div",{className:"mt-6 p-4 bg-[#0a0a0a]/50 rounded-lg border border-[#2d1b42] flex items-center gap-4",children:[e.jsx("div",{className:"bg-white p-1 rounded-md",children:e.jsx(te,{value:E,size:64})}),e.jsxs("div",{className:"overflow-hidden",children:[e.jsx("p",{className:"text-[10px] font-bold text-slate-500 uppercase tracking-widest",children:"Active Link"}),e.jsx("p",{className:"text-xs font-medium text-slate-300 truncate hover:text-white cursor-pointer",title:E,children:E.replace("https://","")})]})]})]}),e.jsxs("section",{className:"grid grid-cols-2 gap-4",children:[e.jsxs("div",{className:"bg-[#16111d] border border-[#2d1b42] rounded-xl p-4 text-center",children:[e.jsx("p",{className:"text-[10px] font-bold text-slate-500 uppercase tracking-widest mb-1",children:"Total Guests"}),e.jsx("p",{className:"text-2xl font-black text-white",children:"--"})]}),e.jsxs("div",{className:"bg-[#16111d] border border-[#2d1b42] rounded-xl p-4 text-center",children:[e.jsx("p",{className:"text-[10px] font-bold text-slate-500 uppercase tracking-widest mb-1",children:"Avg Process"}),e.jsx("p",{className:"text-2xl font-black text-white",children:"~15s"})]})]})]})]})]}),e.jsx("style",{children:`
                .custom-scrollbar::-webkit-scrollbar {
                    height: 4px;
                }
                .custom-scrollbar::-webkit-scrollbar-thumb {
                    background: #4d3267;
                    border-radius: 10px;
                }
            `})]})},Ee=()=>{var g;const[y,u]=o.useState(null),[s,S]=o.useState(null),[_,m]=o.useState(!0),[a,w]=o.useState("overview");o.useEffect(()=>{d.auth.getSession().then(({data:{session:h}})=>{u(h),h?v(h.user.id):m(!1)});const{data:{subscription:p}}=d.auth.onAuthStateChange((h,r)=>{u(r),r?v(r.user.id):(S(null),m(!1))});return()=>p.unsubscribe()},[]);const v=async p=>{try{m(!0);const{data:h,error:r}=await d.from("profiles").select("*, partner:partners(*)").eq("id",p).single();if(r)throw r;S(h)}catch(h){console.error("Error fetching profile:",h)}finally{m(!1)}},x=async()=>{await d.auth.signOut(),window.location.href="/cabina/"};if(_)return e.jsx("div",{className:"min-h-screen bg-[#0f172a] flex items-center justify-center",children:e.jsxs("div",{className:"flex flex-col items-center gap-4",children:[e.jsx("div",{className:"w-12 h-12 border-t-2 border-[#135bec] rounded-full animate-spin"}),e.jsx("p",{className:"text-slate-400 text-sm font-medium animate-pulse",children:"Initializing dashboard..."})]})});if(!y)return e.jsx(se,{onAuthSuccess:()=>window.location.reload()});const c=(p,h,r)=>{const b=a===p;return e.jsxs("button",{onClick:()=>w(p),className:`w-full flex items-center gap-3 px-6 py-3 transition-all group text-left ${b?"bg-[#135bec]/15 text-[#135bec] border-r-[3px] border-[#135bec]":"text-slate-400 hover:text-white hover:bg-slate-900 border-r-[3px] border-transparent"}`,children:[e.jsx(r,{className:`w-5 h-5 group-hover:scale-110 transition-transform ${b?"text-[#135bec]":""}`}),e.jsx("span",{className:"text-sm font-medium",children:h})]},p)};return e.jsxs("div",{className:"flex h-screen w-full bg-[#0f172a] text-slate-100 font-sans overflow-hidden dark",children:[e.jsxs("aside",{className:"w-64 flex-shrink-0 bg-slate-950 border-r border-slate-800 flex flex-col justify-between py-6",children:[e.jsxs("div",{className:"flex flex-col gap-8",children:[e.jsxs("div",{className:"px-6 flex items-center gap-3",children:[e.jsx("div",{className:"size-10 rounded-lg bg-[#135bec] flex items-center justify-center shadow-lg shadow-[#135bec]/20",children:e.jsx(q,{className:"w-6 h-6 text-white"})}),e.jsxs("div",{className:"flex flex-col",children:[e.jsx("span",{className:"text-sm font-bold tracking-tight text-white uppercase truncate",children:((g=s==null?void 0:s.partner)==null?void 0:g.name)||"PHOTO BOOTH"}),e.jsx("span",{className:"text-[10px] uppercase tracking-widest text-slate-500 font-semibold truncate",children:(s==null?void 0:s.role)==="partner"?"Reseller Pro":"Client Access"})]})]}),e.jsxs("nav",{className:"flex flex-col gap-1",children:[c("overview","Dashboard",be),(s==null?void 0:s.role)==="partner"&&e.jsxs(e.Fragment,{children:[c("events","Events",I),c("branding","Clientes",ge)]}),(s==null?void 0:s.role)==="client"&&e.jsxs(e.Fragment,{children:[c("overview","Mi Evento",I),c("gallery","Ver Galería",q)]}),(s==null?void 0:s.is_master)&&e.jsxs(e.Fragment,{children:[c("master","Partners",le),c("users","Users List",W)]}),e.jsxs("button",{className:"w-full flex items-center gap-3 px-6 py-3 text-slate-400 hover:text-white hover:bg-slate-900 transition-all group text-left border-r-[3px] border-transparent",children:[e.jsx(ae,{className:"w-5 h-5 group-hover:scale-110 transition-transform"}),e.jsx("span",{className:"text-sm font-medium",children:"Settings"})]})]})]}),e.jsx("div",{className:"px-4",children:e.jsxs("div",{className:"p-4 rounded-xl bg-slate-900 border border-slate-800 flex flex-col gap-3",children:[e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx("img",{src:`https://api.dicebear.com/7.x/avataaars/svg?seed=${y.user.email}`,alt:"Profile",className:"size-10 rounded-full border-2 border-slate-700 bg-slate-800 object-cover"}),e.jsxs("div",{className:"flex flex-col min-w-0",children:[e.jsx("span",{className:"text-xs font-bold text-white truncate",children:(s==null?void 0:s.full_name)||"Admin User"}),e.jsx("span",{className:"text-[10px] text-slate-500 uppercase tracking-wider",children:(s==null?void 0:s.role)==="partner"?"Partner Admin":s!=null&&s.is_master?"Master Admin":"Guest"})]})]}),e.jsx("button",{onClick:x,className:"w-full py-2 bg-slate-800 hover:bg-slate-700 rounded-lg text-[11px] font-bold text-white transition-colors uppercase tracking-wider",children:"LOGOUT"})]})})]}),e.jsx("main",{className:"flex-1 overflow-y-auto custom-scrollbar p-8 bg-[#0f172a]",children:e.jsxs("div",{className:"max-w-7xl mx-auto",children:[a==="overview"&&e.jsx("div",{className:"animate-fade-in",children:s!=null&&s.is_master?e.jsx(G,{IDENTITIES:R,onBack:()=>{}}):(s==null?void 0:s.role)==="partner"?e.jsx(T,{user:y.user,profile:s,onBack:()=>{},initialView:"overview"}):(s==null?void 0:s.role)==="client"?e.jsx(Se,{user:y.user,profile:s}):e.jsxs("div",{className:"text-center py-20",children:[e.jsx("h2",{className:"text-2xl font-bold text-white",children:"Bienvenido"}),e.jsx("p",{className:"text-slate-400",children:"Panel de generación pública (Modelo A) próximamente..."})]})}),a==="events"&&e.jsx(T,{user:y.user,profile:s,onBack:()=>{},initialView:"events"}),a==="branding"&&e.jsx(T,{user:y.user,profile:s,onBack:()=>{},initialView:"branding"}),a==="master"&&e.jsx(G,{IDENTITIES:R,onBack:()=>{},initialView:"partners"}),a==="users"&&e.jsx(G,{IDENTITIES:R,onBack:()=>{},initialView:"users"})]})})]})},H=document.getElementById("dashboard-root");H&&re.createRoot(H).render(e.jsx(ce.StrictMode,{children:e.jsx(Ee,{})}));
