import{c as H,r as n,j as w}from"./DashboardApp-CUbwPTQL.js";import{M as V,i as z,u as A,P as W,a as B,b as D,L as K}from"./proxy-BbMUPS44.js";/**
 * @license lucide-react v0.554.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const U=[["path",{d:"M3 12a9 9 0 1 0 9-9 9.75 9.75 0 0 0-6.74 2.74L3 8",key:"1357e3"}],["path",{d:"M3 3v5h5",key:"1xhq8a"}],["path",{d:"M12 7v5l4 2",key:"1fdv2h"}]],ee=H("history",U);/**
 * @license lucide-react v0.554.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const X=[["path",{d:"M16 10a4 4 0 0 1-8 0",key:"1ltviw"}],["path",{d:"M3.103 6.034h17.794",key:"awc11p"}],["path",{d:"M3.4 5.467a2 2 0 0 0-.4 1.2V20a2 2 0 0 0 2 2h14a2 2 0 0 0 2-2V6.667a2 2 0 0 0-.4-1.2l-2-2.667A2 2 0 0 0 17 2H7a2 2 0 0 0-1.6.8z",key:"o988cm"}]],te=H("shopping-bag",X);/**
 * @license lucide-react v0.554.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const q=[["path",{d:"M18 6 6 18",key:"1bl5f8"}],["path",{d:"m6 6 12 12",key:"d8bk6v"}]],ne=H("x",q);function I(e,r){if(typeof e=="function")return e(r);e!=null&&(e.current=r)}function F(...e){return r=>{let t=!1;const o=e.map(u=>{const c=I(u,r);return!t&&typeof c=="function"&&(t=!0),c});if(t)return()=>{for(let u=0;u<o.length;u++){const c=o[u];typeof c=="function"?c():I(e[u],null)}}}}function G(...e){return n.useCallback(F(...e),e)}class T extends n.Component{getSnapshotBeforeUpdate(r){const t=this.props.childRef.current;if(t&&r.isPresent&&!this.props.isPresent&&this.props.pop!==!1){const o=t.offsetParent,u=z(o)&&o.offsetWidth||0,c=z(o)&&o.offsetHeight||0,s=this.props.sizeRef.current;s.height=t.offsetHeight||0,s.width=t.offsetWidth||0,s.top=t.offsetTop,s.left=t.offsetLeft,s.right=u-s.width-s.left,s.bottom=c-s.height-s.top}return null}componentDidUpdate(){}render(){return this.props.children}}function Y({children:e,isPresent:r,anchorX:t,anchorY:o,root:u,pop:c}){var f;const s=n.useId(),C=n.useRef(null),R=n.useRef({width:0,height:0,top:0,left:0,right:0,bottom:0}),{nonce:k}=n.useContext(V),a=((f=e.props)==null?void 0:f.ref)??(e==null?void 0:e.ref),x=G(C,a);return n.useInsertionEffect(()=>{const{width:l,height:p,top:y,left:g,right:b,bottom:$}=R.current;if(r||c===!1||!C.current||!l||!p)return;const v=t==="left"?`left: ${g}`:`right: ${b}`,d=o==="bottom"?`bottom: ${$}`:`top: ${y}`;C.current.dataset.motionPopId=s;const m=document.createElement("style");k&&(m.nonce=k);const M=u??document.head;return M.appendChild(m),m.sheet&&m.sheet.insertRule(`
          [data-motion-pop-id="${s}"] {
            position: absolute !important;
            width: ${l}px !important;
            height: ${p}px !important;
            ${v}px !important;
            ${d}px !important;
          }
        `),()=>{M.contains(m)&&M.removeChild(m)}},[r]),w.jsx(T,{isPresent:r,childRef:C,sizeRef:R,pop:c,children:c===!1?e:n.cloneElement(e,{ref:x})})}const J=({children:e,initial:r,isPresent:t,onExitComplete:o,custom:u,presenceAffectsLayout:c,mode:s,anchorX:C,anchorY:R,root:k})=>{const a=A(O),x=n.useId();let f=!0,l=n.useMemo(()=>(f=!1,{id:x,initial:r,isPresent:t,custom:u,onExitComplete:p=>{a.set(p,!0);for(const y of a.values())if(!y)return;o&&o()},register:p=>(a.set(p,!1),()=>a.delete(p))}),[t,a,o]);return c&&f&&(l={...l}),n.useMemo(()=>{a.forEach((p,y)=>a.set(y,!1))},[t]),n.useEffect(()=>{!t&&!a.size&&o&&o()},[t]),e=w.jsx(Y,{pop:s==="popLayout",isPresent:t,anchorX:C,anchorY:R,root:k,children:e}),w.jsx(W.Provider,{value:l,children:e})};function O(){return new Map}const P=e=>e.key||"";function S(e){const r=[];return n.Children.forEach(e,t=>{n.isValidElement(t)&&r.push(t)}),r}const se=({children:e,custom:r,initial:t=!0,onExitComplete:o,presenceAffectsLayout:u=!0,mode:c="sync",propagate:s=!1,anchorX:C="left",anchorY:R="top",root:k})=>{const[a,x]=B(s),f=n.useMemo(()=>S(e),[e]),l=s&&!a?[]:f.map(P),p=n.useRef(!0),y=n.useRef(f),g=A(()=>new Map),b=n.useRef(new Set),[$,v]=n.useState(f),[d,m]=n.useState(f);D(()=>{p.current=!1,y.current=f;for(let h=0;h<d.length;h++){const i=P(d[h]);l.includes(i)?(g.delete(i),b.current.delete(i)):g.get(i)!==!0&&g.set(i,!1)}},[d,l.length,l.join("-")]);const M=[];if(f!==$){let h=[...f];for(let i=0;i<d.length;i++){const E=d[i],L=P(E);l.includes(L)||(h.splice(i,0,E),M.push(E))}return c==="wait"&&M.length&&(h=M),m(S(h)),v(f),null}const{forceRender:j}=n.useContext(K);return w.jsx(w.Fragment,{children:d.map(h=>{const i=P(h),E=s&&!a?!1:f===d||l.includes(i),L=()=>{if(b.current.has(i))return;if(b.current.add(i),g.has(i))g.set(i,!0);else return;let _=!0;g.forEach(N=>{N||(_=!1)}),_&&(j==null||j(),m(y.current),s&&(x==null||x()),o&&o())};return w.jsx(J,{isPresent:E,initial:!p.current||t?void 0:!1,custom:r,presenceAffectsLayout:u,mode:c,root:k,onExitComplete:E?void 0:L,anchorX:C,anchorY:R,children:h},i)})})};export{se as A,ee as H,te as S,ne as X};
