import{c as N,b as o,s as x,j as e,D as F,k as H,Z as W,P as J,X as Q,M as Z,m as K,A as X,I as Y,S as ee,d as te,R as se,n as ae}from"./constants-D2j_rR4I.js";/**
 * @license lucide-react v0.554.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const le=[["path",{d:"M21 16V8a2 2 0 0 0-1-1.73l-7-4a2 2 0 0 0-2 0l-7 4A2 2 0 0 0 3 8v8a2 2 0 0 0 1 1.73l7 4a2 2 0 0 0 2 0l7-4A2 2 0 0 0 21 16z",key:"yt0hxn"}],["circle",{cx:"12",cy:"12",r:"4",key:"4exip2"}]],T=N("bolt",le);/**
 * @license lucide-react v0.554.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const re=[["path",{d:"M8 2v4",key:"1cmpym"}],["path",{d:"M16 2v4",key:"4m81vk"}],["rect",{width:"18",height:"18",x:"3",y:"4",rx:"2",key:"1hopcy"}],["path",{d:"M3 10h18",key:"8toen8"}]],U=N("calendar",re);/**
 * @license lucide-react v0.554.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ne=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"m9 12 2 2 4-4",key:"dzmm74"}]],B=N("circle-check",ne);/**
 * @license lucide-react v0.554.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ie=[["path",{d:"M15 3h6v6",key:"1q9fwt"}],["path",{d:"M10 14 21 3",key:"gplh6r"}],["path",{d:"M18 13v6a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V8a2 2 0 0 1 2-2h6",key:"a6xqqp"}]],ce=N("external-link",ie);/**
 * @license lucide-react v0.554.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const oe=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M12 2a14.5 14.5 0 0 0 0 20 14.5 14.5 0 0 0 0-20",key:"13o1zl"}],["path",{d:"M2 12h20",key:"9i4pu4"}]],de=N("globe",oe);/**
 * @license lucide-react v0.554.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const xe=[["rect",{width:"7",height:"9",x:"3",y:"3",rx:"1",key:"10lvy0"}],["rect",{width:"7",height:"5",x:"14",y:"3",rx:"1",key:"16une8"}],["rect",{width:"7",height:"9",x:"14",y:"12",rx:"1",key:"1hutg5"}],["rect",{width:"7",height:"5",x:"3",y:"16",rx:"1",key:"ldoo1y"}]],he=N("layout-dashboard",xe);/**
 * @license lucide-react v0.554.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const me=[["path",{d:"M12 22a1 1 0 0 1 0-20 10 9 0 0 1 10 9 5 5 0 0 1-5 5h-2.25a1.75 1.75 0 0 0-1.4 2.8l.3.4a1.75 1.75 0 0 1-1.4 2.8z",key:"e79jfc"}],["circle",{cx:"13.5",cy:"6.5",r:".5",fill:"currentColor",key:"1okk4w"}],["circle",{cx:"17.5",cy:"10.5",r:".5",fill:"currentColor",key:"f64h9f"}],["circle",{cx:"6.5",cy:"12.5",r:".5",fill:"currentColor",key:"qy21gx"}],["circle",{cx:"8.5",cy:"7.5",r:".5",fill:"currentColor",key:"fotxhn"}]],pe=N("palette",me);/**
 * @license lucide-react v0.554.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ue=[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"M12 5v14",key:"s699le"}]],be=N("plus",ue);/**
 * @license lucide-react v0.554.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const fe=[["circle",{cx:"8",cy:"21",r:"1",key:"jimo8o"}],["circle",{cx:"19",cy:"21",r:"1",key:"13723u"}],["path",{d:"M2.05 2.05h2l2.66 12.42a2 2 0 0 0 2 1.58h9.78a2 2 0 0 0 1.95-1.57l1.65-7.43H5.12",key:"9zh506"}]],q=N("shopping-cart",fe);/**
 * @license lucide-react v0.554.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ge=[["path",{d:"M10 11v6",key:"nco0om"}],["path",{d:"M14 11v6",key:"outv1u"}],["path",{d:"M19 6v14a2 2 0 0 1-2 2H7a2 2 0 0 1-2-2V6",key:"miytrc"}],["path",{d:"M3 6h18",key:"d0wm0j"}],["path",{d:"M8 6V4a2 2 0 0 1 2-2h4a2 2 0 0 1 2 2v2",key:"e791ji"}]],je=N("trash-2",ge);/**
 * @license lucide-react v0.554.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ve=[["path",{d:"M12 3v12",key:"1x0j5s"}],["path",{d:"m17 8-5-5-5 5",key:"7q97r8"}],["path",{d:"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4",key:"ih7n3h"}]],Ne=N("upload",ve);/**
 * @license lucide-react v0.554.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const we=[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["path",{d:"M16 3.128a4 4 0 0 1 0 7.744",key:"16gr8j"}],["path",{d:"M22 21v-2a4 4 0 0 0-3-3.87",key:"kshegd"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}]],ye=N("users",we);/**
 * @license lucide-react v0.554.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ke=[["path",{d:"M19 7V4a1 1 0 0 0-1-1H5a2 2 0 0 0 0 4h15a1 1 0 0 1 1 1v4h-3a2 2 0 0 0 0 4h3a1 1 0 0 0 1-1v-2a1 1 0 0 0-1-1",key:"18etb6"}],["path",{d:"M3 5v14a2 2 0 0 0 2 2h15a1 1 0 0 0 1-1v-4",key:"xoc0q4"}]],G=N("wallet",ke),R=({user:y,profile:d,onBack:s,initialView:S="overview"})=>{const[_,p]=o.useState(!0),[a,f]=o.useState(null),[w,h]=o.useState([]),[n,g]=o.useState(""),[u,m]=o.useState(!1),[r,b]=o.useState({primary_color:"#135bec",logo_url:"",radius:"12px",style_presets:["Superhéroes","John Wick","Urbano"]}),[i,j]=o.useState({name:"",slug:"",client_email:"",credits:500,start_date:new Date().toISOString().split("T")[0],end_date:new Date(Date.now()+10080*60*1e3).toISOString().split("T")[0]});o.useEffect(()=>{D()},[d.partner_id]);const D=async()=>{try{if(p(!0),!d.partner_id){p(!1);return}const[t,c]=await Promise.all([x.from("partners").select("*").eq("id",d.partner_id).single(),x.from("events").select("*").eq("partner_id",d.partner_id).order("created_at",{ascending:!1})]);if(t.error)throw t.error;f(t.data),t.data.config&&b({primary_color:t.data.config.primary_color||"#135bec",logo_url:t.data.config.logo_url||"",radius:t.data.config.radius||"12px",style_presets:t.data.config.style_presets||["Superhéroes","John Wick","Urbano"]}),h(c.data||[])}catch(t){console.error("Error fetching partner data:",t)}finally{p(!1)}},$=async()=>{if(a)try{const{error:t}=await x.from("partners").update({config:r}).eq("id",a.id);if(t)throw t;f({...a,config:r}),alert("Configuración de marca guardada")}catch(t){console.error("Error updating branding:",t)}},P=async t=>{if(!t.target.files||t.target.files.length===0)return;const c=t.target.files[0],C=c.name.split(".").pop(),E=`${a==null?void 0:a.id}-${Date.now()}.${C}`;try{p(!0);const{error:v}=await x.storage.from("logos").upload(E,c);if(v){const{error:A}=await x.storage.from("public").upload(`logos/${E}`,c);if(A)throw v;const{data:V}=x.storage.from("public").getPublicUrl(`logos/${E}`);b({...r,logo_url:V.publicUrl})}else{const{data:A}=x.storage.from("logos").getPublicUrl(E);b({...r,logo_url:A.publicUrl})}}catch(v){console.error("Error uploading logo:",v),alert("Error al subir logo: "+v.message)}finally{p(!1)}},z=async t=>{if(t.preventDefault(),!a)return;const c=Number(i.credits);if(c>a.credits_total-a.credits_used){alert("Créditos insuficientes en tu balance mayorista.");return}try{p(!0);const{data:C,error:E}=await x.from("events").insert([{partner_id:a.id,event_name:i.name,client_email:i.client_email,event_slug:i.slug||i.name.toLowerCase().replace(/\s+/g,"-"),credits_allocated:c,credits_used:0,start_date:new Date(i.start_date).toISOString(),end_date:new Date(i.end_date).toISOString(),is_active:!0,selected_styles:r.style_presets}]).select();if(E)throw E;const{error:v}=await x.from("partners").update({credits_used:a.credits_used+c}).eq("id",a.id);if(v)throw v;m(!1),j({name:"",slug:"",client_email:"",credits:500,start_date:"",end_date:""}),D()}catch(C){console.error("Error creating event:",C),alert("Error al crear el evento. El slug podría estar duplicado.")}finally{p(!1)}},L=async t=>{if(confirm("¿Estás seguro de eliminar este evento?"))try{const{error:c}=await x.from("events").delete().eq("id",t);if(c)throw c;D()}catch(c){console.error("Error deleting event:",c)}},M=t=>{const c=r.style_presets.includes(t)?r.style_presets.filter(C=>C!==t):[...r.style_presets,t];b({...r,style_presets:c})},I=o.useMemo(()=>w.filter(t=>t.event_name.toLowerCase().includes(n.toLowerCase())||t.event_slug.toLowerCase().includes(n.toLowerCase())),[w,n]);if(_&&!a)return e.jsxs("div",{className:"flex flex-col items-center justify-center min-h-[400px] text-white space-y-4",children:[e.jsx("div",{className:"size-12 border-4 border-[#135bec] border-t-transparent rounded-full animate-spin"}),e.jsx("p",{className:"font-bold tracking-widest text-[10px] uppercase opacity-50",children:"Sincronizando con la red..."})]});const l=((a==null?void 0:a.credits_total)||0)-((a==null?void 0:a.credits_used)||0),k=a!=null&&a.credits_total?Math.round(a.credits_used/a.credits_total*100):0;return e.jsxs("div",{className:"space-y-8 animate-fade-in text-slate-100",children:[e.jsxs("header",{className:"flex flex-wrap items-center justify-between gap-4",children:[e.jsxs("div",{children:[e.jsx("h1",{className:"text-3xl font-black tracking-tight text-white mb-1",children:"Partner Dashboard"}),e.jsx("p",{className:"text-slate-400 text-sm",children:"Gestiona tus eventos, créditos y personalización de marca."})]}),e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsxs("button",{className:"flex items-center gap-2 px-5 py-2.5 bg-slate-800 hover:bg-slate-700 border border-slate-700 rounded-lg text-sm font-semibold text-white transition-all",children:[e.jsx(F,{className:"w-5 h-5 transition-transform group-hover:translate-y-0.5"}),"Reportes"]}),e.jsxs("button",{onClick:()=>m(!0),className:"flex items-center gap-2 px-6 py-2.5 bg-[#135bec] hover:bg-[#135bec]/90 rounded-lg text-sm font-bold text-white shadow-lg shadow-[#135bec]/25 transition-all group",children:[e.jsx(be,{className:"w-5 h-5 group-hover:rotate-90 transition-transform"}),"Activar Instancia"]})]})]}),e.jsxs("section",{className:"grid grid-cols-1 md:grid-cols-3 gap-6",children:[e.jsxs("div",{className:"glass-card rounded-xl p-6 flex flex-col justify-between group overflow-hidden relative",children:[e.jsx("div",{className:"absolute -right-4 -top-4 opacity-[0.03] group-hover:opacity-[0.07] transition-opacity",children:e.jsx(G,{className:"size-32"})}),e.jsxs("div",{className:"flex justify-between items-start mb-4 relative z-10",children:[e.jsxs("div",{children:[e.jsx("p",{className:"text-slate-400 text-xs font-bold uppercase tracking-wider mb-1",children:"Créditos Disponibles"}),e.jsx("h3",{className:"text-3xl font-black text-white",children:l.toLocaleString()})]}),e.jsx("div",{className:"p-2 bg-[#135bec]/20 rounded-lg text-[#135bec]",children:e.jsx(G,{className:"w-6 h-6"})})]}),e.jsxs("div",{className:"space-y-2 relative z-10",children:[e.jsxs("div",{className:"flex justify-between text-[11px] font-bold",children:[e.jsx("span",{className:"text-slate-500 uppercase tracking-widest",children:"CONSUMO"}),e.jsxs("span",{className:"text-[#135bec]",children:[k,"% USADO"]})]}),e.jsx("div",{className:"w-full bg-slate-800 h-2 rounded-full overflow-hidden",children:e.jsx("div",{className:"bg-[#135bec] h-full rounded-full shadow-[0_0_8px_rgba(19,91,236,0.5)] transition-all duration-1000",style:{width:`${k}%`}})}),e.jsxs("p",{className:"text-[10px] text-slate-500 italic text-right",children:[a==null?void 0:a.credits_used," usados de ",a==null?void 0:a.credits_total]})]})]}),e.jsxs("div",{className:"glass-card rounded-xl p-6 flex flex-col justify-between group overflow-hidden relative",children:[e.jsx("div",{className:"absolute -right-4 -top-4 opacity-[0.03] group-hover:opacity-[0.07] transition-opacity",children:e.jsx(U,{className:"size-32"})}),e.jsxs("div",{className:"flex justify-between items-start mb-4 relative z-10",children:[e.jsxs("div",{children:[e.jsx("p",{className:"text-slate-400 text-xs font-bold uppercase tracking-wider mb-1",children:"Eventos Activos"}),e.jsx("h3",{className:"text-3xl font-black text-white",children:w.filter(t=>t.is_active).length})]}),e.jsx("div",{className:"p-2 bg-emerald-500/20 rounded-lg text-emerald-500",children:e.jsx(T,{className:"w-6 h-6"})})]}),e.jsxs("div",{className:"flex items-center gap-2 relative z-10",children:[e.jsxs("div",{className:"flex -space-x-2",children:[w.slice(0,3).map((t,c)=>e.jsx("div",{className:"w-7 h-7 rounded-full border-2 border-slate-900 bg-[#135bec] flex items-center justify-center text-[8px] font-black",children:t.event_name.substring(0,1).toUpperCase()},c)),w.length>3&&e.jsxs("div",{className:"w-7 h-7 rounded-full border-2 border-slate-900 bg-slate-700 flex items-center justify-center text-[8px] font-black",children:["+",w.length-3]})]}),e.jsx("span",{className:"text-xs text-slate-400 font-medium",children:"Eventos en curso"})]})]}),e.jsxs("div",{className:"glass-card rounded-xl p-6 flex flex-col justify-between border-[#135bec]/30 relative overflow-hidden group",children:[e.jsx("div",{className:"absolute top-0 right-0 p-8 opacity-10 group-hover:scale-110 transition-transform",children:e.jsx(q,{className:"w-24 h-24 text-[#135bec]"})}),e.jsxs("div",{className:"relative z-10",children:[e.jsx("p",{className:"text-slate-400 text-xs font-bold uppercase tracking-wider mb-1",children:"Cargar Créditos"}),e.jsxs("h3",{className:"text-xl font-bold text-white mb-4 leading-tight",children:["¿Te quedas sin créditos?",e.jsx("br",{}),"Recarga al instante."]}),e.jsx("button",{onClick:()=>alert("Para recargar créditos, por favor contacta a tu ejecutivo de cuenta o solicita una recarga desde el canal de soporte."),className:"px-4 py-2 bg-white text-slate-900 rounded-lg text-xs font-black uppercase tracking-wide hover:bg-[#135bec] hover:text-white transition-all shadow-xl shadow-white/5",children:"Recargar Pack"})]})]})]}),e.jsxs("div",{className:"grid grid-cols-1 xl:grid-cols-3 gap-8",children:[e.jsxs("div",{className:"xl:col-span-2 space-y-4",children:[e.jsxs("div",{className:"flex items-center justify-between px-2",children:[e.jsx("h2",{className:"text-xl font-black text-white uppercase tracking-tighter",children:"Listado de Eventos"}),e.jsxs("div",{className:"relative group",children:[e.jsx(H,{className:"w-4 h-4 absolute left-3 top-1/2 -translate-y-1/2 text-slate-500 group-focus-within:text-[#135bec] transition-colors"}),e.jsx("input",{type:"text",placeholder:"Buscar evento...",value:n,onChange:t=>g(t.target.value),className:"bg-slate-900/50 border border-slate-800 rounded-lg pl-9 pr-4 py-2 text-xs text-white focus:ring-[#135bec] focus:border-[#135bec] w-56 transition-all outline-none"})]})]}),e.jsx("div",{className:"glass-card rounded-xl overflow-hidden border border-white/5",children:e.jsxs("table",{className:"w-full text-left border-collapse",children:[e.jsx("thead",{className:"bg-white/[0.02] border-b border-white/5",children:e.jsxs("tr",{children:[e.jsx("th",{className:"px-6 py-4 text-xs font-black text-slate-500 uppercase tracking-widest",children:"Nombre del Evento"}),e.jsx("th",{className:"px-6 py-4 text-xs font-black text-slate-500 uppercase tracking-widest",children:"Consumo"}),e.jsx("th",{className:"px-6 py-4 text-xs font-black text-slate-500 uppercase tracking-widest",children:"Estado"}),e.jsx("th",{className:"px-6 py-4 text-xs font-black text-slate-500 uppercase tracking-widest text-right",children:"Acciones"})]})}),e.jsxs("tbody",{className:"divide-y divide-white/5",children:[I.map(t=>{const c=t.credits_allocated?Math.min(100,Math.round(t.credits_used/t.credits_allocated*100)):0;return e.jsxs("tr",{className:"hover:bg-white/[0.02] transition-colors group",children:[e.jsx("td",{className:"px-6 py-5",children:e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx("div",{className:"size-10 rounded-lg bg-[#135bec]/10 border border-[#135bec]/20 flex items-center justify-center text-[#135bec] font-black text-xs",children:t.event_name.substring(0,2).toUpperCase()}),e.jsxs("div",{children:[e.jsx("p",{className:"text-sm font-bold text-white group-hover:text-[#135bec] transition-colors",children:t.event_name}),e.jsxs("div",{className:"flex items-center gap-2 mt-0.5",children:[e.jsx(de,{className:"size-3 text-slate-600"}),e.jsxs("p",{className:"text-[10px] text-slate-500 font-mono",children:["/",t.event_slug]})]})]})]})}),e.jsx("td",{className:"px-6 py-5",children:e.jsxs("div",{className:"w-32",children:[e.jsxs("div",{className:"flex justify-between text-[10px] mb-1 font-bold",children:[e.jsxs("span",{className:"text-slate-400",children:[t.credits_used," / ",t.credits_allocated]}),e.jsxs("span",{className:`${c>90?"text-rose-500":"text-emerald-500"}`,children:[c,"%"]})]}),e.jsx("div",{className:"w-full h-1.5 bg-slate-800 rounded-full overflow-hidden",children:e.jsx("div",{className:`h-full ${c>90?"bg-rose-500":"bg-[#135bec]"} rounded-full transition-all duration-700`,style:{width:`${c}%`}})})]})}),e.jsx("td",{className:"px-6 py-5",children:e.jsxs("span",{className:`inline-flex items-center gap-1.5 px-2.5 py-1 rounded-full text-[10px] font-black uppercase tracking-wider ${t.is_active?"bg-emerald-500/10 text-emerald-500":"bg-rose-500/10 text-rose-500"}`,children:[e.jsx("span",{className:`size-1.5 rounded-full ${t.is_active?"bg-emerald-500 animate-pulse":"bg-rose-500"}`}),t.is_active?"Activo":"Pausado"]})}),e.jsx("td",{className:"px-6 py-5 text-right",children:e.jsxs("div",{className:"flex items-center justify-end gap-2",children:[e.jsx("button",{onClick:()=>window.open(`https://photobooth.creativa-labs.com/?event=${t.event_slug}`,"_blank"),className:"p-2 hover:bg-slate-800 rounded-lg text-slate-500 hover:text-white transition-all outline-none",title:"Ver Evento",children:e.jsx(ce,{className:"w-4 h-4"})}),e.jsx("button",{onClick:()=>L(t.id),className:"p-2 hover:bg-rose-500/10 rounded-lg text-slate-500 hover:text-rose-500 transition-all outline-none",children:e.jsx(je,{className:"w-4 h-4"})}),e.jsx("button",{className:"px-4 py-1.5 bg-slate-800 hover:bg-slate-700 text-[10px] font-black rounded-lg text-white transition-all uppercase tracking-widest border border-white/5",children:"Gestionar"})]})})]},t.id)}),I.length===0&&e.jsx("tr",{children:e.jsxs("td",{colSpan:4,className:"p-12 text-center",children:[e.jsx(U,{className:"size-12 text-slate-800 mx-auto mb-3 opacity-20"}),e.jsx("p",{className:"text-slate-500 text-sm font-medium",children:"No se encontraron eventos."})]})})]})]})})]}),e.jsxs("div",{className:"space-y-8",children:[e.jsxs("div",{className:"glass-card rounded-xl p-6 border border-white/5",children:[e.jsxs("div",{className:"flex items-center gap-2 mb-6",children:[e.jsx(ye,{className:"size-5 text-[#135bec]"}),e.jsx("h2",{className:"text-lg font-black text-white uppercase tracking-tight",children:"Clientes & Marca"})]}),e.jsxs("div",{className:"space-y-6",children:[e.jsxs("div",{children:[e.jsx("label",{className:"text-[10px] font-black text-slate-500 uppercase tracking-[2px] block mb-3",children:"Logo del Revendedor"}),e.jsxs("div",{className:"w-full border-2 border-dashed border-slate-800 rounded-xl p-6 flex flex-col items-center justify-center bg-slate-900/40 hover:bg-slate-900 transition-all cursor-pointer group hover:border-[#135bec]/50",onClick:()=>{var t;return(t=document.getElementById("logoInput"))==null?void 0:t.click()},children:[e.jsx("input",{type:"file",id:"logoInput",className:"hidden",accept:"image/*",onChange:P}),r.logo_url?e.jsx("img",{src:r.logo_url,className:"h-12 object-contain mb-2",alt:"Logo"}):e.jsx(Ne,{className:"w-8 h-8 text-slate-600 group-hover:text-[#135bec] mb-2 transition-colors"}),e.jsx("p",{className:"text-[10px] text-slate-500 font-bold uppercase tracking-widest",children:"Subir Identidad"}),e.jsx("p",{className:"text-[9px] text-slate-600 mt-1 font-mono",children:"PNG / SVG recomendado"})]})]}),e.jsxs("div",{className:"flex items-center justify-between gap-4",children:[e.jsxs("div",{className:"flex-1",children:[e.jsx("label",{className:"text-[10px] font-black text-slate-500 uppercase tracking-[2px] block mb-3",children:"Color de Acento"}),e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx("div",{className:"size-10 rounded-lg bg-[#135bec] border-2 border-white/10 shadow-xl cursor-pointer hover:scale-110 transition-transform",style:{backgroundColor:r.primary_color},onClick:()=>{var t;return(t=document.getElementById("colorPickerInput"))==null?void 0:t.click()}}),e.jsx("input",{id:"colorPickerInput",type:"color",className:"sr-only",value:r.primary_color,onChange:t=>b({...r,primary_color:t.target.value})}),e.jsx("input",{className:"flex-1 bg-slate-900 border border-slate-800 rounded-lg py-2.5 px-4 text-xs text-white font-mono focus:ring-[#135bec] focus:border-[#135bec] outline-none transition-all",type:"text",value:r.primary_color,onChange:t=>b({...r,primary_color:t.target.value})})]})]}),e.jsxs("div",{className:"w-20",children:[e.jsx("label",{className:"text-[10px] font-black text-slate-500 uppercase tracking-[2px] block mb-3",children:"Radius"}),e.jsxs("select",{className:"w-full bg-slate-900 border border-slate-800 rounded-lg py-2.5 px-2 text-xs text-white focus:ring-[#135bec] outline-none",value:r.radius,onChange:t=>b({...r,radius:t.target.value}),children:[e.jsx("option",{value:"4px",children:"4px"}),e.jsx("option",{value:"8px",children:"8px"}),e.jsx("option",{value:"12px",children:"12px"}),e.jsx("option",{value:"20px",children:"20px"})]})]})]}),e.jsx("button",{onClick:$,className:"w-full py-3.5 bg-slate-100 hover:bg-white text-slate-900 text-[10px] font-black rounded-xl transition-all shadow-xl shadow-white/5 uppercase tracking-[2px]",children:"Guardar Cambios"})]})]}),e.jsxs("div",{className:"glass-card rounded-xl p-6 border border-white/5",children:[e.jsxs("div",{className:"flex items-center justify-between mb-6",children:[e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx(W,{className:"size-5 text-[#135bec]"}),e.jsx("h2",{className:"text-lg font-black text-white uppercase tracking-tight",children:"Pack de Diseños"})]}),e.jsxs("span",{className:"text-[10px] font-black px-2 py-1 bg-[#135bec]/10 text-[#135bec] rounded-md border border-[#135bec]/20",children:[r.style_presets.length," ACTIVOS"]})]}),e.jsx("div",{className:"grid grid-cols-2 gap-3",children:J.map(t=>e.jsxs("label",{className:"relative block cursor-pointer group",children:[e.jsx("input",{type:"checkbox",checked:r.style_presets.includes(t),onChange:()=>M(t),className:"peer sr-only"}),e.jsxs("div",{className:`h-24 rounded-xl overflow-hidden relative border-2 transition-all duration-300 ${r.style_presets.includes(t)?"border-[#135bec] scale-[1.02] shadow-lg shadow-[#135bec]/20":"border-white/5 opacity-40 hover:opacity-100"}`,children:[e.jsx("div",{className:"absolute inset-0 bg-gradient-to-t from-black/90 via-black/20 to-transparent z-10"}),e.jsx("img",{alt:t,className:"w-full h-full object-cover group-hover:scale-110 transition-transform duration-700",src:"https://images.unsplash.com/photo-1550989460-0adf9ea622e2?q=80&w=280&auto=format&fit=crop"}),e.jsx("span",{className:"absolute bottom-2.5 left-2.5 z-20 text-[9px] font-black uppercase text-white tracking-[1px] leading-tight",children:t}),e.jsx("div",{className:"absolute top-2 right-2 z-20 opacity-0 peer-checked:opacity-100 transition-all transform scale-50 peer-checked:scale-100",children:e.jsx("div",{className:"bg-[#135bec] rounded-full p-1 shadow-lg",children:e.jsx(B,{className:"w-3 h-3 text-white"})})})]})]},t))}),e.jsxs("p",{className:"mt-6 text-[10px] text-slate-500 font-medium text-center leading-relaxed",children:[e.jsx(T,{className:"size-3 inline mr-1 text-[#135bec]"}),"Estos estilos estarán disponibles para tus clientes finales en sus eventos."]})]})]})]}),u&&e.jsx("div",{className:"fixed inset-0 z-50 flex items-center justify-center p-4 bg-black/80 backdrop-blur-xl",children:e.jsxs("div",{className:"glass-card w-full max-w-lg bg-slate-900 border border-white/10 rounded-2xl shadow-2xl overflow-hidden animate-in fade-in zoom-in duration-300",children:[e.jsxs("div",{className:"flex items-center justify-between p-7 border-b border-white/5",children:[e.jsxs("div",{children:[e.jsx("h3",{className:"text-xl font-black text-white uppercase tracking-tighter",children:"Crear Nuevo Evento"}),e.jsx("p",{className:"text-xs text-slate-500 mt-1 uppercase tracking-widest font-bold",children:"Configuración de instancia"})]}),e.jsx("button",{onClick:()=>m(!1),className:"size-10 flex items-center justify-center rounded-xl bg-slate-800 text-slate-500 hover:text-white transition-all",children:e.jsx(Q,{className:"w-6 h-6"})})]}),e.jsxs("form",{onSubmit:z,className:"p-7 space-y-6",children:[e.jsxs("div",{className:"space-y-4",children:[e.jsxs("div",{children:[e.jsx("label",{className:"text-[10px] font-black uppercase tracking-[2px] text-slate-500 mb-2 block",children:"Nombre del Evento"}),e.jsx("input",{required:!0,type:"text",placeholder:"Ej: Boda de Lucía y Marcos",className:"w-full bg-[#0a0a0b] border border-white/10 rounded-xl px-5 py-4 text-white focus:border-[#135bec] outline-none transition-all placeholder:text-slate-800",value:i.name,onChange:t=>j({...i,name:t.target.value})})]}),e.jsxs("div",{children:[e.jsx("label",{className:"text-[10px] font-black uppercase tracking-[2px] text-slate-500 mb-2 block",children:"Email del Cliente (Asignación)"}),e.jsxs("div",{className:"relative",children:[e.jsx(Z,{className:"absolute left-4 top-1/2 -translate-y-1/2 text-slate-700 size-4"}),e.jsx("input",{required:!0,type:"email",placeholder:"cliente@ejemplo.com",className:"w-full bg-[#0a0a0b] border border-white/10 rounded-xl pl-11 pr-5 py-4 text-white focus:border-[#135bec] outline-none transition-all placeholder:text-slate-800 text-xs",value:i.client_email,onChange:t=>j({...i,client_email:t.target.value.toLowerCase()})})]}),e.jsx("p",{className:"text-[9px] text-slate-500 mt-1.5 ml-1",children:"Este email se usará para que el cliente acceda a su panel."})]}),e.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[e.jsxs("div",{children:[e.jsx("label",{className:"text-[10px] font-black uppercase tracking-[2px] text-slate-500 mb-2 block",children:"Slug Personalizado"}),e.jsxs("div",{className:"relative",children:[e.jsx("span",{className:"absolute left-4 top-1/2 -translate-y-1/2 text-slate-700 text-xs font-mono",children:"/"}),e.jsx("input",{type:"text",placeholder:"boda-lucia",className:"w-full bg-[#0a0a0b] border border-white/10 rounded-xl pl-8 pr-5 py-4 text-white focus:border-[#135bec] outline-none transition-all placeholder:text-slate-800 font-mono text-xs",value:i.slug,onChange:t=>j({...i,slug:t.target.value.toLowerCase().replace(/\s+/g,"-")})})]})]}),e.jsxs("div",{children:[e.jsx("label",{className:"text-[10px] font-black uppercase tracking-[2px] text-slate-500 mb-2 block",children:"Carga de Créditos"}),e.jsxs("div",{className:"relative",children:[e.jsx(q,{className:"absolute left-4 top-1/2 -translate-y-1/2 text-[#135bec] size-4"}),e.jsx("input",{required:!0,type:"number",className:"w-full bg-[#0a0a0b] border border-white/10 rounded-xl pl-11 pr-5 py-4 text-white focus:border-[#135bec] outline-none transition-all font-bold",value:i.credits,onChange:t=>j({...i,credits:Number(t.target.value)})})]})]})]}),e.jsxs("div",{className:"grid grid-cols-2 gap-4 pt-2",children:[e.jsxs("div",{children:[e.jsx("label",{className:"text-[10px] font-black uppercase tracking-[2px] text-slate-500 mb-2 block",children:"Inicio"}),e.jsx("input",{type:"date",className:"w-full bg-[#0a0a0b] border border-white/10 rounded-xl px-5 py-4 text-white focus:border-[#135bec] outline-none transition-all text-xs",value:i.start_date,onChange:t=>j({...i,start_date:t.target.value})})]}),e.jsxs("div",{children:[e.jsx("label",{className:"text-[10px] font-black uppercase tracking-[2px] text-slate-500 mb-2 block",children:"Finalización"}),e.jsx("input",{type:"date",className:"w-full bg-[#0a0a0b] border border-white/10 rounded-xl px-5 py-4 text-white focus:border-[#135bec] outline-none transition-all text-xs",value:i.end_date,onChange:t=>j({...i,end_date:t.target.value})})]})]})]}),e.jsxs("div",{className:"bg-[#135bec]/5 border border-[#135bec]/20 rounded-xl p-4 flex items-start gap-4",children:[e.jsx("div",{className:"p-2 bg-[#135bec] rounded-lg text-white",children:e.jsx(B,{className:"size-4"})}),e.jsxs("div",{children:[e.jsx("p",{className:"text-[10px] font-black text-white uppercase tracking-widest",children:"Verificación de Balance"}),e.jsxs("p",{className:"text-[11px] text-slate-400 mt-1",children:["Se deducirán ",i.credits," créditos de tu balance mayorista (",l," disponibles)."]})]})]}),e.jsx("button",{type:"submit",disabled:_,className:"w-full py-5 bg-[#135bec] hover:bg-[#135bec]/90 text-white font-black rounded-2xl shadow-2xl shadow-[#135bec]/30 transition-all uppercase tracking-[3px] text-xs",children:_?"Sincronizando...":"Activar Instancia de Evento"})]})]})})]})},_e=({IDENTITIES:y,onBack:d})=>{const[s,S]=o.useState([]),[_,p]=o.useState(!0),[a,f]=o.useState({totalGenerations:0,totalPartners:0,totalCreditsSold:0,activeEvents:0});o.useEffect(()=>{w()},[]);const w=async()=>{var h;try{p(!0);const[n,g]=await Promise.all([x.from("partners").select("*"),x.from("events").select("*")]);if(n.error)throw n.error;const u=n.data||[];S(u);const m=u.reduce((i,j)=>i+(j.credits_total||0),0),r=u.reduce((i,j)=>i+(j.credits_used||0),0),b=((h=g.data)==null?void 0:h.filter(i=>i.is_active).length)||0;f({totalGenerations:r,totalPartners:u.length,totalCreditsSold:m,activeEvents:b})}catch(n){console.error("Error fetching admin data:",n)}finally{p(!1)}};return e.jsxs("div",{className:"flex h-screen overflow-hidden bg-[#0a0c0b] text-slate-100 font-sans",children:[e.jsxs("aside",{className:"w-64 border-r border-[#1f2b24] bg-[#0a0c0b] hidden md:flex flex-col",children:[e.jsxs("div",{className:"p-6 border-b border-[#1f2b24] flex items-center gap-3",children:[e.jsx("div",{className:"w-8 h-8 bg-[#13ec80] rounded flex items-center justify-center text-[#0a0c0b]",children:e.jsx("span",{className:"material-symbols-outlined !text-[20px] font-bold",children:"visibility"})}),e.jsxs("div",{children:[e.jsx("h1",{className:"text-sm font-bold tracking-tight text-white uppercase",children:"Eagle-Eye"}),e.jsx("p",{className:"text-[10px] text-[#13ec80]/70 uppercase font-medium tracking-[0.2em]",children:"Master Admin"})]})]}),e.jsxs("nav",{className:"flex-1 p-4 flex flex-col gap-1 overflow-y-auto custom-scrollbar",children:[e.jsx("p",{className:"px-3 py-2 text-[10px] font-bold text-slate-500 uppercase tracking-widest",children:"General"}),e.jsxs("a",{className:"flex items-center gap-3 px-3 py-2 rounded-lg bg-[#13ec80]/10 text-[#13ec80] border border-[#13ec80]/20 cursor-pointer",children:[e.jsx("span",{className:"material-symbols-outlined",children:"dashboard"}),e.jsx("span",{className:"text-sm font-medium",children:"Overview"})]}),e.jsxs("a",{className:"flex items-center gap-3 px-3 py-2 rounded-lg text-slate-400 hover:text-white hover:bg-white/5 transition-colors cursor-pointer",children:[e.jsx("span",{className:"material-symbols-outlined",children:"corporate_fare"}),e.jsx("span",{className:"text-sm font-medium",children:"Partners"})]}),e.jsxs("a",{className:"flex items-center gap-3 px-3 py-2 rounded-lg text-slate-400 hover:text-white hover:bg-white/5 transition-colors cursor-pointer",children:[e.jsx("span",{className:"material-symbols-outlined",children:"auto_fix_high"}),e.jsx("span",{className:"text-sm font-medium",children:"AI Style Engine"})]}),e.jsxs("a",{className:"flex items-center gap-3 px-3 py-2 rounded-lg text-slate-400 hover:text-white hover:bg-white/5 transition-colors cursor-pointer",children:[e.jsx("span",{className:"material-symbols-outlined",children:"payments"}),e.jsx("span",{className:"text-sm font-medium",children:"Ledger"})]})]}),e.jsx("div",{className:"p-4 border-t border-[#1f2b24] bg-[#121413]/50",children:e.jsxs("div",{className:"flex items-center gap-3 mb-4",children:[e.jsx("div",{className:"w-8 h-8 rounded-full bg-[#13ec80]/20 flex items-center justify-center border border-[#13ec80]/40",children:e.jsx("span",{className:"material-symbols-outlined text-[#13ec80] !text-[18px]",children:"person"})}),e.jsxs("div",{className:"flex-1 min-w-0",children:[e.jsx("p",{className:"text-xs font-bold text-white truncate",children:"Admin_Root"}),e.jsx("p",{className:"text-[10px] text-slate-500 truncate",children:"Platform Owner"})]}),e.jsx("button",{onClick:d,className:"material-symbols-outlined text-slate-500 cursor-pointer hover:text-white",title:"Logout",children:"logout"})]})})]}),e.jsxs("main",{className:"flex-1 flex flex-col min-w-0 bg-[#0a0c0b]",children:[e.jsxs("header",{className:"h-16 border-b border-[#1f2b24] flex items-center justify-between px-8 bg-[#121413]/30 backdrop-blur-md sticky top-0 z-10",children:[e.jsxs("div",{className:"flex-1 max-w-2xl relative",children:[e.jsx("span",{className:"material-symbols-outlined absolute left-3 top-1/2 -translate-y-1/2 text-slate-500 !text-[18px]",children:"search"}),e.jsx("input",{className:"w-full bg-[#121413] border border-[#1f2b24] rounded-lg pl-10 pr-4 py-2 text-sm text-slate-200 focus:ring-1 focus:ring-[#13ec80] focus:border-[#13ec80] placeholder-slate-600 transition-all outline-none",placeholder:"Search partner slugs, admin emails, or global event IDs...",type:"text"})]}),e.jsxs("div",{className:"flex items-center gap-4 ml-6",children:[e.jsxs("div",{className:"flex flex-col items-end",children:[e.jsx("p",{className:"text-[10px] font-bold text-slate-500 uppercase",children:"System Time"}),e.jsxs("p",{className:"text-xs font-mono text-[#13ec80] leading-tight",children:[new Date().toLocaleTimeString("en-US",{hour12:!1})," UTC"]})]}),e.jsx("div",{className:"h-8 w-px bg-[#1f2b24]"}),e.jsxs("button",{className:"relative p-2 text-slate-400 hover:text-white transition-colors",children:[e.jsx("span",{className:"material-symbols-outlined",children:"notifications"}),e.jsx("span",{className:"absolute top-2 right-2 w-2 h-2 bg-[#13ec80] rounded-full border-2 border-[#0a0c0b]"})]})]})]}),e.jsxs("div",{className:"flex-1 overflow-y-auto custom-scrollbar p-8",children:[e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-4 mb-8",children:[e.jsxs("div",{className:"bg-[#121413] p-5 border border-[#1f2b24] rounded-lg hover:border-[#13ec80]/30 transition-all group",children:[e.jsxs("div",{className:"flex justify-between items-start mb-3",children:[e.jsx("p",{className:"text-[10px] font-bold text-slate-500 uppercase tracking-wider",children:"Photo Generations"}),e.jsx("span",{className:"text-[10px] font-bold text-[#13ec80] px-1.5 py-0.5 bg-[#13ec80]/10 rounded tracking-tight",children:"+12.4%"})]}),e.jsxs("div",{className:"flex items-baseline gap-2",children:[e.jsx("h3",{className:"text-2xl font-bold text-white leading-none",children:a.totalGenerations.toLocaleString()}),e.jsx("span",{className:"text-xs text-slate-500",children:"/ Total"})]}),e.jsx("div",{className:"mt-4 w-full bg-[#1f2b24] h-1 rounded-full overflow-hidden",children:e.jsx("div",{className:"bg-[#13ec80] h-full w-[65%] shadow-[0_0_8px_rgba(19,236,128,0.3)]"})})]}),e.jsxs("div",{className:"bg-[#121413] p-5 border border-[#1f2b24] rounded-lg hover:border-[#13ec80]/30 transition-all",children:[e.jsxs("div",{className:"flex justify-between items-start mb-3",children:[e.jsx("p",{className:"text-[10px] font-bold text-slate-500 uppercase tracking-wider",children:"Total Partners"}),e.jsx("span",{className:"material-symbols-outlined text-slate-600 !text-[16px]",children:"groups"})]}),e.jsxs("div",{className:"flex items-baseline gap-2",children:[e.jsx("h3",{className:"text-2xl font-bold text-white leading-none",children:a.totalPartners}),e.jsx("span",{className:"text-xs text-slate-500",children:"Active"})]}),e.jsx("p",{className:"mt-2 text-[10px] text-slate-500",children:"Global Resellers"})]}),e.jsxs("div",{className:"bg-[#121413] p-5 border border-[#1f2b24] rounded-lg hover:border-[#13ec80]/30 transition-all",children:[e.jsxs("div",{className:"flex justify-between items-start mb-3",children:[e.jsx("p",{className:"text-[10px] font-bold text-slate-500 uppercase tracking-wider",children:"Total Credits Sold"}),e.jsx("span",{className:"text-[10px] font-bold text-red-400 px-1.5 py-0.5 bg-red-400/10 rounded tracking-tight",children:"-2.1%"})]}),e.jsxs("div",{className:"flex items-baseline gap-2",children:[e.jsxs("h3",{className:"text-2xl font-bold text-white leading-none",children:[(a.totalCreditsSold/1e3).toFixed(1),"k"]}),e.jsx("span",{className:"text-xs text-slate-500",children:"Units"})]}),e.jsx("p",{className:"mt-2 text-[10px] text-slate-500",children:"Avg. $0.12 / credit"})]}),e.jsxs("div",{className:"bg-[#121413] p-5 border border-[#1f2b24] rounded-lg hover:border-[#13ec80]/30 transition-all flex flex-col justify-between",children:[e.jsxs("div",{className:"flex justify-between items-start mb-3",children:[e.jsx("p",{className:"text-[10px] font-bold text-slate-500 uppercase tracking-wider",children:"AI API Status"}),e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx("span",{className:"text-[10px] font-bold text-[#13ec80]",children:"LIVE"}),e.jsx("span",{className:"w-2 h-2 rounded-full bg-[#13ec80] animate-[pulse-green_2s_infinite]"})]})]}),e.jsxs("div",{className:"flex items-baseline gap-2",children:[e.jsx("h3",{className:"text-2xl font-bold text-white leading-none",children:"99.9%"}),e.jsx("span",{className:"text-xs text-slate-500",children:"Uptime"})]}),e.jsx("p",{className:"mt-2 text-[10px] text-[#13ec80]/70 font-mono tracking-tighter uppercase",children:"Pulsing Green • Node-21-Alpha"})]})]}),e.jsxs("div",{className:"grid grid-cols-1 xl:grid-cols-3 gap-8",children:[e.jsxs("div",{className:"xl:col-span-2 space-y-4",children:[e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsx("h2",{className:"text-lg font-bold text-white tracking-tight",children:"Partner Management"}),e.jsx("button",{className:"text-xs font-bold text-[#13ec80] border border-[#13ec80]/30 px-3 py-1.5 rounded bg-[#13ec80]/5 hover:bg-[#13ec80]/10 transition-all",children:"Export Report"})]}),e.jsx("div",{className:"bg-[#121413] border border-[#1f2b24] rounded-xl overflow-hidden",children:e.jsxs("table",{className:"w-full text-left text-sm",children:[e.jsx("thead",{children:e.jsxs("tr",{className:"bg-white/5 border-b border-[#1f2b24]",children:[e.jsx("th",{className:"px-6 py-4 font-bold text-slate-400 uppercase text-[10px]",children:"Partner Company"}),e.jsx("th",{className:"px-6 py-4 font-bold text-slate-400 uppercase text-[10px]",children:"Credit Pool"}),e.jsx("th",{className:"px-6 py-4 font-bold text-slate-400 uppercase text-[10px]",children:"Status"}),e.jsx("th",{className:"px-6 py-4 font-bold text-slate-400 uppercase text-[10px] text-right",children:"Actions"})]})}),e.jsx("tbody",{className:"divide-y divide-[#1f2b24]/50",children:_?e.jsx("tr",{children:e.jsx("td",{colSpan:4,className:"p-8 text-center text-slate-500",children:"Loading partners..."})}):s.map(h=>e.jsxs("tr",{className:"hover:bg-white/[0.02] transition-colors",children:[e.jsx("td",{className:"px-6 py-4",children:e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx("div",{className:"w-8 h-8 rounded bg-blue-500/20 flex items-center justify-center text-blue-400 text-xs font-bold",children:h.name.substring(0,1).toUpperCase()}),e.jsxs("div",{children:[e.jsx("p",{className:"font-bold text-white",children:h.name}),e.jsxs("p",{className:"text-[10px] text-slate-500 uppercase tracking-tight",children:["ID: ",h.id.substring(0,8)]})]})]})}),e.jsx("td",{className:"px-6 py-4",children:e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx("p",{className:"font-mono text-white",children:h.credits_total-h.credits_used}),h.credits_total-h.credits_used<100?e.jsx("span",{className:"w-1.5 h-1.5 rounded-full bg-red-500 animate-[pulse-green_2s_infinite]"}):e.jsx("span",{className:"w-1.5 h-1.5 rounded-full bg-[#13ec80]"})]})}),e.jsx("td",{className:"px-6 py-4 text-slate-300",children:h.credits_total-h.credits_used>0?"Active":"Inactive"}),e.jsx("td",{className:"px-6 py-4 text-right",children:e.jsx("button",{onClick:()=>alert("Top-up logic not implemented yet"),className:"text-[#13ec80] hover:bg-[#13ec80] hover:text-[#0a0c0b] px-3 py-1 rounded text-xs font-bold border border-[#13ec80]/20 transition-all",children:"Top-up"})})]},h.id))})]})})]}),e.jsxs("div",{className:"pt-4 space-y-4",children:[e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsx("h2",{className:"text-lg font-bold text-white tracking-tight",children:"Global Style Library"}),e.jsx("p",{className:"text-[10px] font-bold text-slate-500 uppercase",children:"Engine V4.2 - Stable"})]}),e.jsx("div",{className:"grid grid-cols-2 lg:grid-cols-4 xl:grid-cols-2 gap-4",children:["Watercolor","Cyberpunk","F1 Racing","3D Render"].map((h,n)=>e.jsxs("div",{className:"bg-[#121413] border border-[#1f2b24] p-3 rounded-lg flex flex-col gap-3 group",children:[e.jsx("div",{className:`aspect-square rounded-md overflow-hidden relative border border-white/5 bg-gradient-to-br ${n%2===0?"from-blue-900 to-indigo-900":"from-amber-900 to-orange-900"}`,children:e.jsx("div",{className:"absolute bottom-2 left-2 right-2 flex justify-between items-end",children:e.jsx("span",{className:"text-[10px] font-bold text-white drop-shadow-md",children:h})})}),e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsx("span",{className:"text-[10px] uppercase font-bold text-slate-500",children:"Active"}),e.jsx("button",{className:"w-8 h-4 bg-[#13ec80] rounded-full relative transition-all",children:e.jsx("span",{className:"absolute right-1 top-1 w-2 h-2 bg-[#0a0c0b] rounded-full"})})]})]},n))})]})]}),e.jsxs("div",{className:"space-y-4 mt-8",children:[e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx("h2",{className:"text-lg font-bold text-white tracking-tight",children:"System Pulse"}),e.jsx("div",{className:"w-1.5 h-1.5 rounded-full bg-red-400"})]}),e.jsxs("div",{className:"bg-[#121413] border border-[#1f2b24] rounded-xl h-64 flex flex-col",children:[e.jsxs("div",{className:"p-4 border-b border-[#1f2b24] bg-white/5 flex items-center justify-between",children:[e.jsx("p",{className:"text-[10px] font-bold text-slate-400 uppercase tracking-widest",children:"Real-time Logs"}),e.jsx("span",{className:"material-symbols-outlined !text-[16px] text-slate-500",children:"filter_list"})]}),e.jsxs("div",{className:"flex-1 overflow-y-auto p-4 space-y-4 custom-scrollbar",children:[e.jsxs("div",{className:"flex gap-3 relative pb-4 before:content-[''] before:absolute before:left-[7px] before:top-6 before:bottom-0 before:w-px before:bg-[#1f2b24]",children:[e.jsx("div",{className:"w-3.5 h-3.5 mt-1 rounded-full bg-[#13ec80]/20 border border-[#13ec80]/50 flex items-center justify-center shrink-0",children:e.jsx("div",{className:"w-1 h-1 bg-[#13ec80] rounded-full"})}),e.jsxs("div",{children:[e.jsx("p",{className:"text-xs font-bold text-[#13ec80] leading-tight",children:"INFO: System Ready"}),e.jsx("p",{className:"text-[10px] text-slate-500 mt-1",children:"Dashboard initialized for Admin_Root."}),e.jsx("p",{className:"text-[9px] font-mono text-slate-600 mt-1",children:"Just now"})]})]}),e.jsxs("div",{className:"flex gap-3 relative pb-4",children:[e.jsx("div",{className:"w-3.5 h-3.5 mt-1 rounded-full bg-slate-700/50 border border-slate-500/50 flex items-center justify-center shrink-0",children:e.jsx("div",{className:"w-1 h-1 bg-slate-500 rounded-full"})}),e.jsxs("div",{children:[e.jsx("p",{className:"text-xs font-bold text-slate-400 leading-tight",children:"LOG: Database Sync"}),e.jsx("p",{className:"text-[10px] text-slate-500 mt-1",children:"Partner data synchronized."}),e.jsx("p",{className:"text-[9px] font-mono text-slate-600 mt-1",children:"1 min ago"})]})]})]})]})]})]})]}),e.jsx("style",{children:`
                .custom-scrollbar::-webkit-scrollbar {
                    width: 4px;
                }
                .custom-scrollbar::-webkit-scrollbar-track {
                    background: transparent;
                }
                .custom-scrollbar::-webkit-scrollbar-thumb {
                    background: #1f2b24;
                    border-radius: 10px;
                }
            `})]})},Ce=({user:y,profile:d})=>{const[s,S]=o.useState(null),[_,p]=o.useState(!0),[a,f]=o.useState(!1),[w,h]=o.useState([]),[n,g]=o.useState({primary_color:"#7f13ec",welcome_text:"Welcome to the celebration!",radius:"12px"}),[u,m]=o.useState(""),[r,b]=o.useState("");o.useEffect(()=>{i()},[d.email]);const i=async()=>{try{p(!0);const{data:l,error:k}=await x.from("events").select("*").ilike("client_email",d.email.toLowerCase()).single();l&&(S(l),m(l.event_name),b(l.start_date?l.start_date.split("T")[0]:""),l.config&&g({...n,...l.config,primary_color:l.config.primary_color||"#7f13ec"}))}catch(l){console.error("Error fetching event for client:",l)}finally{p(!1)}},j=async()=>{if(s)try{f(!0);const{error:l}=await x.from("events").update({event_name:u,start_date:r,config:n}).eq("id",s.id);if(l)throw l;alert("Settings saved successfully!")}catch(l){console.error("Error saving:",l),alert("Failed to save changes.")}finally{f(!1)}},D=async l=>{if(!l.target.files||l.target.files.length===0)return;const k=l.target.files[0],t=k.name.split(".").pop(),c=`event-logo-${s==null?void 0:s.id}-${Date.now()}.${t}`;try{f(!0);const{data:C,error:E}=await x.storage.from("logos").upload(c,k);if(E){const{error:v}=await x.storage.from("public").upload(`logos/${c}`,k);if(v)throw v;const{data:A}=x.storage.from("public").getPublicUrl(`logos/${c}`);g({...n,logo_url:A.publicUrl})}else{const{data:v}=x.storage.from("logos").getPublicUrl(c);g({...n,logo_url:v.publicUrl})}}catch(C){console.error("Upload error:",C),alert("Error uploading logo")}finally{f(!1)}},$=async()=>{try{f(!0);const l=`boda-${Date.now().toString().slice(-4)}`,{data:k,error:t}=await x.from("events").insert({client_email:d.email.toLowerCase(),event_slug:l,event_name:"Mi Celebración",is_active:!0,credits_allocated:50,config:{primary_color:"#7f13ec",welcome_text:"¡Bienvenidos!"}}).select().single();if(t)throw t;k&&(S(k),m(k.event_name),i())}catch(l){console.error("Error creating event:",l),alert("Error al inicializar evento: "+(l.message||l.error_description||"Permisos insuficientes"))}finally{f(!1)}};if(_)return e.jsx("div",{className:"text-white p-10 flex justify-center items-center h-screen bg-[#0a0a0a]",children:e.jsx("div",{className:"animate-spin rounded-full h-8 w-8 border-t-2 border-[#7f13ec]"})});if(!s)return e.jsxs("div",{className:"text-white min-h-screen flex flex-col items-center justify-center bg-[#0a0a0a] p-6 text-center gap-6",children:[e.jsx("div",{className:"w-16 h-16 bg-[#7f13ec]/20 rounded-full flex items-center justify-center text-[#7f13ec] mb-2",children:e.jsx("span",{className:"material-symbols-outlined text-3xl",children:"event_busy"})}),e.jsx("h2",{className:"text-2xl font-bold",children:"No hay evento activo"}),e.jsxs("p",{className:"text-slate-400 max-w-md",children:["No encontramos un evento vinculado a ",e.jsx("strong",{children:d.email}),". Si eres un nuevo cliente, puedes inicializar tu panel ahora."]}),e.jsx("button",{onClick:$,disabled:a,className:"bg-[#7f13ec] hover:bg-[#690cc4] text-white px-8 py-3 rounded-full font-bold transition-all flex items-center gap-2",children:a?"Creando...":"Inicializar Evento"}),e.jsx("button",{onClick:()=>window.location.reload(),className:"text-slate-500 hover:text-white text-sm underline",children:"Reintentar"})]});const P=`https://photobooth.creativa-labs.com/?event=${s.event_slug}`,z=s.credits_used||0,L=s.credits_allocated||500,M=Math.min(100,Math.round(z/L*100)),I=552.92-552.92*M/100;return e.jsxs("div",{className:"bg-[#0a0a0a] text-slate-100 min-h-screen font-[Spline Sans,sans-serif]",children:[e.jsx("header",{className:"border-b border-[#2d1b42] bg-[#16111d]/50 backdrop-blur-md sticky top-0 z-50",children:e.jsxs("div",{className:"max-w-7xl mx-auto px-6 h-20 flex items-center justify-between",children:[e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx("div",{className:"bg-[#7f13ec] p-2 rounded-lg",children:e.jsx("span",{className:"material-symbols-outlined text-white",children:"auto_awesome"})}),e.jsxs("h1",{className:"text-xl font-bold tracking-tight text-white",children:["AI Photo Booth ",e.jsx("span",{className:"text-[#7f13ec]",children:"Pro"})]})]}),e.jsxs("nav",{className:"hidden md:flex items-center gap-8",children:[e.jsxs("a",{href:"#",className:"text-sm font-medium hover:text-[#7f13ec] transition-colors flex items-center gap-2 text-white",children:[e.jsx("span",{className:"material-symbols-outlined text-lg",children:"dashboard"})," Dashboard"]}),e.jsxs("a",{href:"#",className:"text-sm font-medium text-slate-400 hover:text-[#7f13ec] transition-colors flex items-center gap-2",children:[e.jsx("span",{className:"material-symbols-outlined text-lg",children:"photo_library"})," Gallery"]}),e.jsxs("a",{href:"#",className:"text-sm font-medium text-slate-400 hover:text-[#7f13ec] transition-colors flex items-center gap-2",children:[e.jsx("span",{className:"material-symbols-outlined text-lg",children:"settings"})," Settings"]})]}),e.jsxs("div",{className:"flex items-center gap-4",children:[e.jsxs("div",{className:"flex items-center gap-2 px-3 py-1.5 bg-green-500/10 border border-green-500/20 rounded-full",children:[e.jsxs("span",{className:"relative flex h-2 w-2",children:[e.jsx("span",{className:"animate-ping absolute inline-flex h-full w-full rounded-full bg-green-400 opacity-75"}),e.jsx("span",{className:"relative inline-flex rounded-full h-2 w-2 bg-green-500"})]}),e.jsx("span",{className:"text-xs font-bold text-green-500 uppercase tracking-wider",children:"Event Live"})]}),e.jsx("div",{className:"h-10 w-10 rounded-full bg-[#7f13ec]/20 border border-[#7f13ec]/30 flex items-center justify-center overflow-hidden",children:e.jsx("div",{className:"bg-[#7f13ec] text-white w-full h-full flex items-center justify-center font-bold",children:d.email[0].toUpperCase()})})]})]})}),e.jsxs("main",{className:"max-w-7xl mx-auto px-6 py-8",children:[e.jsxs("div",{className:"mb-10 flex justify-between items-end",children:[e.jsxs("div",{children:[e.jsx("h2",{className:"text-4xl font-black tracking-tight mb-2 text-white",children:"Event Host Dashboard"}),e.jsxs("p",{className:"text-slate-400 text-lg",children:["Managing: ",e.jsx("span",{className:"text-white font-semibold",children:s.event_name})]})]}),e.jsx("button",{onClick:j,disabled:a,className:"bg-[#7f13ec] hover:bg-[#690cc4] text-white px-6 py-3 rounded-lg font-bold flex items-center gap-2 transition-all shadow-lg shadow-[#7f13ec]/20",children:a?"Saving...":e.jsxs(e.Fragment,{children:[e.jsx("span",{className:"material-symbols-outlined",children:"save"})," Save Changes"]})})]}),e.jsxs("div",{className:"grid grid-cols-12 gap-6",children:[e.jsxs("div",{className:"col-span-12 lg:col-span-8 space-y-6",children:[e.jsxs("section",{className:"bg-[#16111d] border border-[#2d1b42] rounded-xl p-6",children:[e.jsxs("div",{className:"flex items-center gap-3 mb-6",children:[e.jsx("span",{className:"material-symbols-outlined text-[#7f13ec]",children:"edit_calendar"}),e.jsx("h3",{className:"text-xl font-bold text-white",children:"1. Event Setup"})]}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[e.jsxs("div",{className:"space-y-2",children:[e.jsx("label",{className:"text-sm font-semibold text-slate-300",children:"Event Name"}),e.jsx("input",{className:"w-full bg-[#0a0a0a] border border-[#2d1b42] rounded-lg px-4 py-3 focus:ring-1 focus:ring-[#7f13ec] focus:border-[#7f13ec] text-white outline-none",type:"text",value:u,onChange:l=>m(l.target.value)})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx("label",{className:"text-sm font-semibold text-slate-300",children:"Date"}),e.jsx("input",{className:"w-full bg-[#0a0a0a] border border-[#2d1b42] rounded-lg px-4 py-3 focus:ring-1 focus:ring-[#7f13ec] focus:border-[#7f13ec] text-white outline-none",type:"date",value:r,onChange:l=>b(l.target.value)})]}),e.jsxs("div",{className:"col-span-full space-y-2",children:[e.jsx("label",{className:"text-sm font-semibold text-slate-300",children:"Welcome Message"}),e.jsx("textarea",{className:"w-full bg-[#0a0a0a] border border-[#2d1b42] rounded-lg px-4 py-3 focus:ring-1 focus:ring-[#7f13ec] focus:border-[#7f13ec] text-white outline-none",rows:3,value:n.welcome_text,onChange:l=>g({...n,welcome_text:l.target.value})})]})]})]}),e.jsxs("section",{className:"bg-[#16111d] border border-[#2d1b42] rounded-xl p-6",children:[e.jsxs("div",{className:"flex items-center gap-3 mb-6",children:[e.jsx("span",{className:"material-symbols-outlined text-[#7f13ec]",children:"palette"}),e.jsx("h3",{className:"text-xl font-bold text-white",children:"2. Event Branding"})]}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-8",children:[e.jsxs("div",{className:"space-y-4",children:[e.jsx("p",{className:"text-sm font-semibold text-slate-300",children:"Event Logo"}),e.jsxs("div",{className:"border-2 border-dashed border-[#2d1b42] rounded-xl p-8 flex flex-col items-center justify-center gap-3 hover:border-[#7f13ec]/50 transition-colors cursor-pointer group bg-[#0a0a0a]/50",onClick:()=>{var l;return(l=document.getElementById("clientLogoInput"))==null?void 0:l.click()},children:[e.jsx("input",{type:"file",id:"clientLogoInput",className:"hidden",accept:"image/*",onChange:D}),n.logo_url?e.jsx("img",{src:n.logo_url,alt:"Logo",className:"h-16 object-contain"}):e.jsxs(e.Fragment,{children:[e.jsx("span",{className:"material-symbols-outlined text-4xl text-slate-500 group-hover:text-[#7f13ec]",children:"upload_file"}),e.jsx("p",{className:"text-xs text-slate-500",children:"Drag and drop or click to upload"})]})]})]}),e.jsxs("div",{className:"space-y-4",children:[e.jsx("p",{className:"text-sm font-semibold text-slate-300",children:"Interface Theme Color"}),e.jsxs("div",{className:"flex flex-wrap gap-4",children:[["#7f13ec","#ec4899","#3b82f6","#10b981","#f59e0b"].map(l=>e.jsx("button",{className:`w-12 h-12 rounded-full hover:scale-105 transition-transform ${n.primary_color===l?"ring-4 ring-[#7f13ec]/30 text-white":""}`,style:{backgroundColor:l},onClick:()=>g({...n,primary_color:l})},l)),e.jsxs("div",{className:"relative",children:[e.jsx("input",{type:"color",className:"opacity-0 absolute inset-0 w-full h-full cursor-pointer",value:n.primary_color,onChange:l=>g({...n,primary_color:l.target.value})}),e.jsx("div",{className:"w-12 h-12 rounded-full bg-slate-800 flex items-center justify-center cursor-pointer border border-white/10",children:e.jsx("span",{className:"material-symbols-outlined text-xl text-slate-400",children:"colorize"})})]})]}),e.jsx("p",{className:"text-xs text-slate-500",children:"This color will be the primary accent for your guests."})]})]})]}),e.jsxs("section",{className:"bg-[#16111d] border border-[#2d1b42] rounded-xl p-6",children:[e.jsxs("div",{className:"flex items-center justify-between mb-6",children:[e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx("span",{className:"material-symbols-outlined text-[#7f13ec]",children:"auto_awesome_motion"}),e.jsx("h3",{className:"text-xl font-bold text-white",children:"Live Gallery Feed"})]}),e.jsxs("button",{onClick:()=>window.open(P,"_blank"),className:"text-xs font-bold text-[#7f13ec] uppercase tracking-widest flex items-center gap-1 hover:underline",children:["View All ",e.jsx("span",{className:"material-symbols-outlined text-sm",children:"arrow_forward"})]})]}),e.jsx("div",{className:"flex gap-4 overflow-x-auto pb-4 custom-scrollbar snap-x",children:e.jsx("div",{className:"min-w-[180px] aspect-[3/4] rounded-lg bg-slate-800 overflow-hidden relative group snap-start flex items-center justify-center border border-white/5",children:e.jsx("p",{className:"text-xs text-slate-500 text-center px-4",children:"Photos taken at your event will appear here"})})})]})]}),e.jsxs("div",{className:"col-span-12 lg:col-span-4 space-y-6",children:[e.jsxs("section",{className:"bg-[#16111d] border border-[#2d1b42] rounded-xl p-8 relative overflow-hidden",children:[e.jsx("div",{className:"absolute -top-24 -right-24 w-48 h-48 bg-[#7f13ec]/10 blur-[80px] rounded-full"}),e.jsxs("div",{className:"text-center relative z-10",children:[e.jsx("h3",{className:"text-lg font-bold mb-8 text-white",children:"Photo Credits"}),e.jsxs("div",{className:"relative flex items-center justify-center mb-6",children:[e.jsxs("svg",{className:"w-48 h-48 transform -rotate-90",children:[e.jsx("circle",{className:"text-slate-800",cx:"96",cy:"96",fill:"transparent",r:"88",stroke:"currentColor",strokeWidth:"12"}),e.jsx("circle",{className:"text-[#7f13ec]",cx:"96",cy:"96",fill:"transparent",r:"88",stroke:"currentColor",strokeDasharray:"552.92",strokeDashoffset:I,strokeLinecap:"round",strokeWidth:"12"})]}),e.jsxs("div",{className:"absolute flex flex-col items-center",children:[e.jsx("span",{className:"text-5xl font-black text-white",children:z}),e.jsxs("span",{className:"text-xs font-bold text-slate-500 uppercase tracking-widest mt-1",children:["OF ",L," USED"]})]})]}),e.jsxs("div",{className:"space-y-4",children:[e.jsxs("div",{className:"flex justify-between text-sm",children:[e.jsx("span",{className:"text-slate-400",children:"Remaining"}),e.jsxs("span",{className:"text-white font-bold",children:[L-z," Photos"]})]}),e.jsx("div",{className:"w-full bg-slate-800 h-1.5 rounded-full overflow-hidden",children:e.jsx("div",{className:"bg-[#7f13ec] h-full",style:{width:`${M}%`}})}),e.jsxs("button",{onClick:()=>alert("Contact your partner to top up credits"),className:"w-full py-3 bg-[#7f13ec]/10 border border-[#7f13ec]/30 text-[#7f13ec] font-bold rounded-lg hover:bg-[#7f13ec]/20 transition-all flex items-center justify-center gap-2",children:[e.jsx("span",{className:"material-symbols-outlined text-lg",children:"add_circle"})," Top Up Credits"]})]})]})]}),e.jsxs("section",{className:"bg-[#16111d] border border-[#2d1b42] rounded-xl p-6",children:[e.jsxs("h3",{className:"text-lg font-bold mb-6 flex items-center gap-2 text-white",children:[e.jsx("span",{className:"material-symbols-outlined text-[#7f13ec]",children:"qr_code_2"})," Guest Access"]}),e.jsxs("div",{className:"space-y-4",children:[e.jsxs("button",{className:"w-full py-4 bg-[#7f13ec] text-white font-bold rounded-xl flex items-center justify-center gap-3 shadow-lg shadow-[#7f13ec]/20 hover:scale-[1.02] transition-transform active:scale-95",children:[e.jsx("span",{className:"material-symbols-outlined",children:"download"})," Download QR for Print"]}),e.jsxs("button",{onClick:()=>{navigator.clipboard.writeText(P),alert("Link copied!")},className:"w-full py-4 bg-[#0a0a0a] text-slate-300 border border-[#2d1b42] font-bold rounded-xl flex items-center justify-center gap-3 hover:bg-slate-800 transition-colors",children:[e.jsx("span",{className:"material-symbols-outlined",children:"link"})," Copy Event Link"]})]}),e.jsxs("div",{className:"mt-6 p-4 bg-[#0a0a0a]/50 rounded-lg border border-[#2d1b42] flex items-center gap-4",children:[e.jsx("div",{className:"bg-white p-1 rounded-md",children:e.jsx(K,{value:P,size:64})}),e.jsxs("div",{className:"overflow-hidden",children:[e.jsx("p",{className:"text-[10px] font-bold text-slate-500 uppercase tracking-widest",children:"Active Link"}),e.jsx("p",{className:"text-xs font-medium text-slate-300 truncate hover:text-white cursor-pointer",title:P,children:P.replace("https://","")})]})]})]}),e.jsxs("section",{className:"grid grid-cols-2 gap-4",children:[e.jsxs("div",{className:"bg-[#16111d] border border-[#2d1b42] rounded-xl p-4 text-center",children:[e.jsx("p",{className:"text-[10px] font-bold text-slate-500 uppercase tracking-widest mb-1",children:"Total Guests"}),e.jsx("p",{className:"text-2xl font-black text-white",children:"--"})]}),e.jsxs("div",{className:"bg-[#16111d] border border-[#2d1b42] rounded-xl p-4 text-center",children:[e.jsx("p",{className:"text-[10px] font-bold text-slate-500 uppercase tracking-widest mb-1",children:"Avg Process"}),e.jsx("p",{className:"text-2xl font-black text-white",children:"~15s"})]})]})]})]})]}),e.jsx("style",{children:`
                .custom-scrollbar::-webkit-scrollbar {
                    height: 4px;
                }
                .custom-scrollbar::-webkit-scrollbar-thumb {
                    background: #4d3267;
                    border-radius: 10px;
                }
            `})]})},Ee=()=>{var g;const[y,d]=o.useState(null),[s,S]=o.useState(null),[_,p]=o.useState(!0),[a,f]=o.useState("overview");o.useEffect(()=>{x.auth.getSession().then(({data:{session:m}})=>{d(m),m?w(m.user.id):p(!1)});const{data:{subscription:u}}=x.auth.onAuthStateChange((m,r)=>{d(r),r?w(r.user.id):(S(null),p(!1))});return()=>u.unsubscribe()},[]);const w=async u=>{try{p(!0);const{data:m,error:r}=await x.from("profiles").select("*, partner:partners(*)").eq("id",u).single();if(r)throw r;S(m)}catch(m){console.error("Error fetching profile:",m)}finally{p(!1)}},h=async()=>{await x.auth.signOut(),window.location.href="/cabina/"};if(_)return e.jsx("div",{className:"min-h-screen bg-[#0a0c0b] flex items-center justify-center",children:e.jsxs("div",{className:"flex flex-col items-center gap-4",children:[e.jsx("div",{className:"w-12 h-12 border-t-2 border-[#135bec] rounded-full animate-spin"}),e.jsx("p",{className:"text-slate-400 text-sm font-medium animate-pulse",children:"Initializing dashboard..."})]})});if(!y)return e.jsx(X,{onAuthSuccess:()=>window.location.reload()});const n=(u,m,r)=>{const b=a===u;return e.jsxs("button",{onClick:()=>f(u),className:`w-full flex items-center gap-3 px-6 py-3 transition-all group text-left ${b?"bg-[#135bec]/15 text-[#135bec] border-r-[3px] border-[#135bec]":"text-slate-400 hover:text-white hover:bg-slate-900 border-r-[3px] border-transparent"}`,children:[e.jsx(r,{className:`w-5 h-5 group-hover:scale-110 transition-transform ${b?"text-[#135bec]":""}`}),e.jsx("span",{className:"text-sm font-medium",children:m})]},u)};return s!=null&&s.is_master?e.jsx(_e,{IDENTITIES:Y,onBack:h}):(s==null?void 0:s.role)==="client"?e.jsx(Ce,{user:y.user,profile:s}):e.jsxs("div",{className:"flex h-screen w-full bg-[#0f172a] text-slate-100 font-sans overflow-hidden dark",children:[e.jsxs("aside",{className:"w-64 flex-shrink-0 bg-slate-950 border-r border-slate-800 flex flex-col justify-between py-6",children:[e.jsxs("div",{className:"flex flex-col gap-8",children:[e.jsxs("div",{className:"px-6 flex items-center gap-3",children:[e.jsx("div",{className:"size-10 rounded-lg bg-[#135bec] flex items-center justify-center shadow-lg shadow-[#135bec]/20",children:e.jsx(ee,{className:"w-6 h-6 text-white"})}),e.jsxs("div",{className:"flex flex-col",children:[e.jsx("span",{className:"text-sm font-bold tracking-tight text-white uppercase truncate",children:((g=s==null?void 0:s.partner)==null?void 0:g.name)||"PHOTO BOOTH"}),e.jsx("span",{className:"text-[10px] uppercase tracking-widest text-slate-500 font-semibold truncate",children:(s==null?void 0:s.role)==="partner"?"Reseller Pro":"Client Access"})]})]}),e.jsxs("nav",{className:"flex flex-col gap-1",children:[n("overview","Dashboard",he),(s==null?void 0:s.role)==="partner"&&e.jsxs(e.Fragment,{children:[n("events","Events",U),n("branding","Clientes",pe)]}),e.jsxs("button",{className:"w-full flex items-center gap-3 px-6 py-3 text-slate-400 hover:text-white hover:bg-slate-900 transition-all group text-left border-r-[3px] border-transparent",children:[e.jsx(te,{className:"w-5 h-5 group-hover:scale-110 transition-transform"}),e.jsx("span",{className:"text-sm font-medium",children:"Settings"})]})]})]}),e.jsx("div",{className:"px-4",children:e.jsxs("div",{className:"p-4 rounded-xl bg-slate-900 border border-slate-800 flex flex-col gap-3",children:[e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx("img",{src:`https://api.dicebear.com/7.x/avataaars/svg?seed=${y.user.email}`,alt:"Profile",className:"size-10 rounded-full border-2 border-slate-700 bg-slate-800 object-cover"}),e.jsxs("div",{className:"flex flex-col min-w-0",children:[e.jsx("span",{className:"text-xs font-bold text-white truncate",children:(s==null?void 0:s.full_name)||"Admin User"}),e.jsx("span",{className:"text-[10px] text-slate-500 uppercase tracking-wider",children:(s==null?void 0:s.role)==="partner"?"Partner Admin":s!=null&&s.is_master?"Master Admin":"Guest"})]})]}),e.jsx("button",{onClick:h,className:"w-full py-2 bg-slate-800 hover:bg-slate-700 rounded-lg text-[11px] font-bold text-white transition-colors uppercase tracking-wider",children:"LOGOUT"})]})})]}),e.jsx("main",{className:"flex-1 overflow-y-auto custom-scrollbar p-8 bg-[#0f172a]",children:e.jsxs("div",{className:"max-w-7xl mx-auto",children:[a==="overview"&&e.jsx("div",{className:"animate-fade-in",children:(s==null?void 0:s.role)==="partner"?e.jsx(R,{user:y.user,profile:s,onBack:()=>{},initialView:"overview"}):e.jsxs("div",{className:"text-center py-20",children:[e.jsx("h2",{className:"text-2xl font-bold text-white",children:"Bienvenido"}),e.jsx("p",{className:"text-slate-400",children:"Contenido restringido."})]})}),a==="events"&&e.jsx(R,{user:y.user,profile:s,onBack:()=>{},initialView:"events"}),a==="branding"&&e.jsx(R,{user:y.user,profile:s,onBack:()=>{},initialView:"branding"})]})})]})};class Se extends se.Component{constructor(d){super(d),this.state={hasError:!1,error:null}}static getDerivedStateFromError(d){return{hasError:!0,error:d}}componentDidCatch(d,s){console.error("ErrorBoundary caught an error",d,s)}render(){var d,s;return this.state.hasError?e.jsxs("div",{style:{padding:"20px",color:"white",background:"#0a0c0b",minHeight:"100vh",display:"flex",flexDirection:"column",alignItems:"center",justifyContent:"center",textAlign:"center"},children:[e.jsx("h1",{style:{color:"#ff5500",fontSize:"24px",marginBottom:"10px"},children:"Algo salió mal en el Dashboard"}),e.jsx("p",{style:{color:"#ccc",marginBottom:"20px"},children:((d=this.state.error)==null?void 0:d.message)||"Error desconocido"}),e.jsx("button",{onClick:()=>window.location.reload(),style:{padding:"10px 20px",background:"#13ec80",border:"none",color:"black",fontWeight:"bold",borderRadius:"8px",cursor:"pointer"},children:"Reintentar"}),e.jsx("pre",{style:{marginTop:"20px",textAlign:"left",background:"#111",padding:"10px",borderRadius:"5px",overflow:"auto",maxWidth:"80%"},children:(s=this.state.error)==null?void 0:s.stack})]}):this.props.children}}const O=document.getElementById("dashboard-root");O&&ae.createRoot(O).render(e.jsx(Se,{children:e.jsx(Ee,{})}));
