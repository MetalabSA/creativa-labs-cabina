import{c as P,r as n,s as d,j as e,h as Le,b as st,i as Y,P as $e,k as Q,T as ne,M as at}from"./DashboardApp-Bg0AiS_c.js";import{m as x,A as T,P as rt,M as lt,a as it,I as ee}from"./constants-UY-1Gvj0.js";import{P as ot,a as ce,E as Ie,T as de,J as De,b as Me,U as nt,C as te}from"./jszip.min-BiH5HV3u.js";import{Z as A,X as B,D as Re}from"./zap-roGlDMlm.js";import{S as Te}from"./search-DFdiaeMZ.js";import{S as ct,H as dt}from"./shopping-bag-Bli1nbAA.js";/**
 * @license lucide-react v0.554.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const xt=[["path",{d:"m7 7 10 10",key:"1fmybs"}],["path",{d:"M17 7v10H7",key:"6fjiku"}]],Ae=P("arrow-down-right",xt);/**
 * @license lucide-react v0.554.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const pt=[["path",{d:"M7 7h10v10",key:"1tivn9"}],["path",{d:"M7 17 17 7",key:"1vkiza"}]],mt=P("arrow-up-right",pt);/**
 * @license lucide-react v0.554.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ht=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M12 2a14.5 14.5 0 0 0 0 20 14.5 14.5 0 0 0 0-20",key:"13o1zl"}],["path",{d:"M2 12h20",key:"9i4pu4"}]],bt=P("globe",ht);/**
 * @license lucide-react v0.554.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ut=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M12 16v-4",key:"1dtifu"}],["path",{d:"M12 8h.01",key:"e9boi3"}]],xe=P("info",ut);/**
 * @license lucide-react v0.554.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const gt=[["path",{d:"M12.83 2.18a2 2 0 0 0-1.66 0L2.6 6.08a1 1 0 0 0 0 1.83l8.58 3.91a2 2 0 0 0 1.66 0l8.58-3.9a1 1 0 0 0 0-1.83z",key:"zw3jo"}],["path",{d:"M2 12a1 1 0 0 0 .58.91l8.6 3.91a2 2 0 0 0 1.65 0l8.58-3.9A1 1 0 0 0 22 12",key:"1wduqc"}],["path",{d:"M2 17a1 1 0 0 0 .58.91l8.6 3.91a2 2 0 0 0 1.65 0l8.58-3.9A1 1 0 0 0 22 17",key:"kqbvx6"}]],Ue=P("layers",gt);/**
 * @license lucide-react v0.554.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ft=[["circle",{cx:"8",cy:"21",r:"1",key:"jimo8o"}],["circle",{cx:"19",cy:"21",r:"1",key:"13723u"}],["path",{d:"M2.05 2.05h2l2.66 12.42a2 2 0 0 0 2 1.58h9.78a2 2 0 0 0 1.95-1.57l1.65-7.43H5.12",key:"9zh506"}]],pe=P("shopping-cart",ft);/**
 * @license lucide-react v0.554.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const jt=[["path",{d:"M19 7V4a1 1 0 0 0-1-1H5a2 2 0 0 0 0 4h15a1 1 0 0 1 1 1v4h-3a2 2 0 0 0 0 4h3a1 1 0 0 0 1-1v-2a1 1 0 0 0-1-1",key:"18etb6"}],["path",{d:"M3 5v14a2 2 0 0 0 2 2h15a1 1 0 0 0 1-1v-4",key:"xoc0q4"}]],me=P("wallet",jt),St=({user:vt,profile:u,onBack:wt,initialView:se="overview",onProxyClient:he})=>{var Pe;const[L,N]=n.useState(se),[y,f]=n.useState(!1),[r,ae]=n.useState(null),[k,be]=n.useState([]),[ue,ge]=n.useState([]),[F,qe]=n.useState(""),[Oe,re]=n.useState(!1),[h,_]=n.useState(null),[$,le]=n.useState(null),[V,Ge]=n.useState(100),[fe,je]=n.useState([]),[Z,ie]=n.useState(null),[I,ve]=n.useState({message:"",type:null}),[g,Be]=n.useState(null),[H,we]=n.useState([]),[Fe,W]=n.useState(!1),[D,Ne]=n.useState(""),[U,ye]=n.useState(""),[ke,Ve]=n.useState([]),[j,q]=n.useState([]),[Ze,J]=n.useState(!1),[O,_e]=n.useState(!1),[K,Ce]=n.useState(!1),c=(t,s="success")=>{ve({message:t,type:s}),setTimeout(()=>ve({message:"",type:null}),4e3)};n.useEffect(()=>{const t=new URLSearchParams(window.location.search),s=t.get("status")||t.get("collection_status");if(t.get("payment_id"),s==="approved"||s==="success"){c("Â¡Recarga acreditada con Ã©xito! ðŸŽ‰","success");const a=window.location.pathname;window.history.replaceState({},document.title,a),R()}else if(s==="failure"){c("El pago no pudo procesarse. Reintenta.","error");const a=window.location.pathname;window.history.replaceState({},document.title,a)}},[]),n.useEffect(()=>{N(se)},[se]);const[o,M]=n.useState({primary_color:"#135bec",logo_url:"",radius:"12px",style_presets:["SuperhÃ©roes","John Wick","Urbano"]}),[p,C]=n.useState({name:"",slug:"",client_email:"",credits:500,start_date:new Date().toISOString().split("T")[0],end_date:new Date(Date.now()+10080*60*1e3).toISOString().split("T")[0]});n.useEffect(()=>{R()},[u.partner_id]);const R=async()=>{try{f(!0);let t=u.partner_id,s=!1;if(!t){const{data:a}=await d.from("partners").select("id").or(`user_id.eq.${u.id},contact_email.eq.${u.email}`).single();a?t=a.id:s=!0}if(s){ae({id:u.id,name:u.full_name||u.email.split("@")[0],credits_total:u.credits||0,credits_used:u.total_generations||0,is_virtual:!0,config:{primary_color:"#135bec",logo_url:null}});const[a,l]=await Promise.all([d.from("events").select("*").eq("partner_id",u.id).order("created_at",{ascending:!1}),d.from("wallet_transactions").select("*").eq("partner_id",u.id).order("created_at",{ascending:!1})]);if(be(a.data||[]),ge(l.data||[]),a.data&&a.data.length>0){const i=a.data.map(m=>m.id),{data:b}=await d.from("generations").select("created_at, event_id").in("event_id",i);je(b||[])}}else{const[a,l,i]=await Promise.all([d.from("partners").select("*").eq("id",t).single(),d.from("events").select("*").eq("partner_id",t).order("created_at",{ascending:!1}),d.from("wallet_transactions").select("*").eq("partner_id",t).order("created_at",{ascending:!1})]);if(a.error)throw a.error;if(ae(a.data),ge(i.data||[]),a.data.config&&M({primary_color:a.data.config.primary_color||"#135bec",logo_url:a.data.config.logo_url||"",radius:a.data.config.radius||"12px",style_presets:a.data.config.style_presets||["SuperhÃ©roes","John Wick","Urbano"]}),l.data&&l.data.length>0){const b=l.data.map(w=>w.id),{data:m}=await d.from("generations").select("id, created_at, event_id, image_url").in("event_id",b).order("created_at",{ascending:!1});je(m||[]),Ve((m==null?void 0:m.slice(0,10))||[])}be(l.data||[])}}catch(t){console.error("Error fetching partner data:",t)}finally{f(!1)}},He=async()=>{if(r)try{Ce(!0);const{error:t}=await d.from("partners").update({config:o}).eq("id",r.id);if(t)throw t;ae({...r,config:o}),c("Â¡ConfiguraciÃ³n sincronizada con Ã©xito! âœ¨")}catch(t){console.error("Error updating branding:",t),c("Error al guardar: "+t.message,"error")}finally{Ce(!1)}},ze=async t=>{try{W(!0);const{data:s,error:a}=await d.from("generations").select("*, profiles(email)").eq("event_id",t).order("created_at",{ascending:!1});if(a)throw a;we(s||[])}catch(s){console.error("Error fetching photos:",s),c("No se pudieron cargar las fotos","error")}finally{W(!1)}},We=async t=>{if(window.confirm("Â¿EstÃ¡s seguro de que deseas eliminar esta foto de la galerÃ­a?"))try{const{error:s}=await d.from("generations").delete().eq("id",t);if(s)throw s;we(a=>a.filter(l=>l.id!==t)),c("Foto eliminada correctamente")}catch(s){console.error("Error deleting photo:",s),c("Error al eliminar la foto","error")}},Je=async t=>{if(!t.target.files||t.target.files.length===0)return;const s=t.target.files[0],a=s.name.split(".").pop(),l=`${r==null?void 0:r.id}-${Date.now()}.${a}`;try{f(!0);const{error:i}=await d.storage.from("logos").upload(l,s);if(i){const{error:b}=await d.storage.from("public").upload(`logos/${l}`,s);if(b)throw i;const{data:m}=d.storage.from("public").getPublicUrl(`logos/${l}`);M({...o,logo_url:m.publicUrl})}else{const{data:b}=d.storage.from("logos").getPublicUrl(l);M({...o,logo_url:b.publicUrl})}}catch(i){console.error("Error uploading logo:",i),c("Error al subir logo: "+i.message,"error")}finally{f(!1)}},Ke=async t=>{if(t.preventDefault(),!r)return;const s=Number(p.credits);if(s>r.credits_total-r.credits_used){c("CrÃ©ditos insuficientes en tu balance mayorista.","error");return}try{f(!0);const{data:a,error:l}=await d.from("events").insert([{partner_id:r.id,event_name:p.name,client_email:p.client_email,event_slug:p.slug||p.name.toLowerCase().replace(/\s+/g,"-"),credits_allocated:s,credits_used:0,start_date:new Date(p.start_date).toISOString(),end_date:new Date(p.end_date).toISOString(),is_active:!0,selected_styles:o.style_presets}]).select();if(l)throw l;if(r.is_virtual){const{error:i}=await d.from("profiles").update({credits:Math.max(0,r.credits_total-s)}).eq("id",u.id);if(i)throw i}else{const{error:i}=await d.from("partners").update({credits_used:(r.credits_used||0)+s}).eq("id",r.id);if(i)throw i}re(!1),C({name:"",slug:"",client_email:"",credits:500,start_date:"",end_date:""}),c("Evento creado con Ã©xito"),R()}catch(a){console.error("Error creating event:",a),c("Error al crear el evento. "+(a.message||"El slug podrÃ­a estar duplicado."),"error")}finally{f(!1)}},Xe=async()=>{if(!$||!r)return;const t=Number(V),s=(r.credits_total||0)-(r.credits_used||0);if(t>s){c("No tienes crÃ©ditos suficientes.","error");return}try{f(!0);const{error:a}=await d.from("events").update({credits_allocated:($.credits_allocated||0)+t}).eq("id",$.id);if(a)throw a;if(r.is_virtual){const{error:l}=await d.from("profiles").update({credits:Math.max(0,r.credits_total-t)}).eq("id",u.id);if(l)throw l}else{const{error:l}=await d.from("partners").update({credits_used:(r.credits_used||0)+t}).eq("id",r.id);if(l)throw l}await d.from("wallet_transactions").insert({partner_id:r.id,amount:t,type:"usage",description:`Transferencia a evento: ${$.event_name}`}),c(`Se han transferido ${t} crÃ©ditos.`),le(null),R()}catch(a){c("Error: "+a.message,"error")}finally{f(!1)}},Ye=async t=>{if(r)try{_e(!0);const s=window.location.href,l=await(await fetch("https://elesttjfwfhvzdvldytn.supabase.co/functions/v1/mercadopago-payment",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({user_id:r.id,credits:t.qty,price:t.price,pack_name:t.label,redirect_url:s})})).json();if(l.init_point)window.location.href=l.init_point;else throw new Error(l.message||"Error al iniciar pago")}catch(s){c(s.message,"error")}finally{_e(!1)}},Qe=async()=>{if(Z)try{f(!0);const{error:t}=await d.from("events").delete().eq("id",Z.id);if(t)throw t;c("Evento eliminado permanentemente"),ie(null),R()}catch(t){console.error("Error deleting event:",t),c("Error al eliminar evento: "+t.message,"error")}finally{f(!1)}},et=t=>{M(s=>({...s,style_presets:s.style_presets.includes(t)?s.style_presets.filter(a=>a!==t):[...s.style_presets,t]}))},z=n.useMemo(()=>H.filter(t=>{var i;const s=((i=t.profiles)==null?void 0:i.email)||"AnÃ³nimo",a=!D||t.id.toLowerCase().includes(D.toLowerCase())||s.toLowerCase().includes(D.toLowerCase()),l=!U||t.created_at&&t.created_at.startsWith(U);return a&&l}),[H,D,U]),Se=n.useMemo(()=>k.filter(t=>(t.event_name||"").toLowerCase().includes(F.toLowerCase())||(t.event_slug||"").toLowerCase().includes(F.toLowerCase())),[k,F]);if(y&&!r)return e.jsxs("div",{className:"flex flex-col items-center justify-center min-h-[400px] text-white space-y-4",children:[e.jsx("div",{className:"size-12 border-4 border-[#135bec] border-t-transparent rounded-full animate-spin"}),e.jsx("p",{className:"font-bold tracking-widest text-[10px] uppercase opacity-50",children:"Sincronizando con la red..."})]});const v=((r==null?void 0:r.credits_total)||0)-((r==null?void 0:r.credits_used)||0),Ee=r!=null&&r.credits_total?Math.round(r.credits_used/r.credits_total*100):0,X=(t,s,a)=>{const l=L===t;return e.jsxs("button",{onClick:()=>N(t),className:`flex items-center gap-2 px-4 py-2 rounded-lg transition-all text-sm font-bold border ${l?"bg-[#135bec]/10 text-[#135bec] border-[#135bec]/30 shadow-[0_0_15px_rgba(19,91,236,0.1)]":"text-slate-400 border-transparent hover:text-white hover:bg-white/5"}`,children:[e.jsx(a,{className:"size-4"}),s]},t)};return e.jsxs("div",{className:"space-y-8 animate-fade-in text-slate-100",children:[e.jsxs("header",{className:"flex flex-wrap items-center justify-between gap-6 pb-6 border-b border-white/5",children:[e.jsxs(x.div,{initial:{opacity:0,x:-20},animate:{opacity:1,x:0},children:[e.jsxs("h1",{className:"text-3xl font-black tracking-tight text-white mb-1 flex items-center gap-3",children:[e.jsx("div",{className:"size-10 rounded-xl bg-gradient-to-br from-[#135bec] to-[#0a1f4d] flex items-center justify-center shadow-lg shadow-[#135bec]/20",children:e.jsx(Le,{className:"text-white size-6"})}),"Panel de Partner ",e.jsxs("span",{className:"text-[#135bec] opacity-50 text-xl font-medium",children:["/ ",r==null?void 0:r.name]})]}),e.jsx("p",{className:"text-slate-400 text-sm",children:"Sistema de gestiÃ³n de eventos y marca blanca corporativa."})]}),e.jsxs("div",{className:"flex items-center gap-2 bg-slate-900/50 p-1 rounded-xl border border-white/5",children:[X("overview","Vista General",Le),X("events","Mis Eventos",Y),X("wallet","Billetera",me),X("branding","Marca Blanca",$e)]})]}),e.jsxs(T,{mode:"wait",children:[L==="overview"&&e.jsxs(x.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},exit:{opacity:0,y:-20},className:"space-y-8",children:[e.jsxs("section",{className:"grid grid-cols-1 md:grid-cols-3 gap-6",children:[(()=>{var a,l;const t=v>0&&v<((r==null?void 0:r.credits_total)||0)*.2,s=v>0&&v<((r==null?void 0:r.credits_total)||0)*.1;return e.jsxs("div",{className:`glass-card rounded-2xl p-6 flex flex-col justify-between group overflow-hidden relative border transition-all duration-500 bg-gradient-to-br from-slate-900/80 to-slate-950/80 shadow-2xl ${s?"border-rose-500 shadow-[0_0_30px_rgba(244,63,94,0.2)]":t?"border-amber-500/50 shadow-[0_0_20px_rgba(245,158,11,0.1)]":"border-white/5"}`,children:[s&&e.jsx("div",{className:"absolute inset-0 bg-rose-500/5 animate-pulse pointer-events-none"}),e.jsx("div",{className:"absolute -right-4 -top-4 opacity-[0.03] group-hover:opacity-[0.1] transition-opacity duration-500",children:e.jsx(me,{className:"size-40"})}),e.jsxs("div",{className:"flex justify-between items-start mb-6 relative z-10",children:[e.jsxs("div",{children:[e.jsxs("div",{className:"flex items-center gap-2 mb-1",children:[e.jsx("div",{className:`size-2 rounded-full animate-pulse ${s?"bg-rose-500":t?"bg-amber-500":"bg-[#135bec]"}`}),e.jsx("p",{className:"text-slate-400 text-[10px] font-black uppercase tracking-[2px]",children:"Wallet Mayorista"})]}),e.jsx("h3",{className:`text-4xl font-black transition-colors ${s?"text-rose-400":t?"text-amber-400":"text-white"}`,children:v.toLocaleString()}),e.jsx("p",{className:"text-[10px] text-slate-500 font-bold uppercase tracking-widest mt-1",children:"CrÃ©ditos Disponibles"})]}),e.jsx("div",{className:`p-3 rounded-xl shadow-inner transition-colors ${s?"bg-rose-500/20 border border-rose-500/30 text-rose-500":t?"bg-amber-500/20 border border-amber-500/30 text-amber-500":"bg-[#135bec]/10 border border-[#135bec]/20 text-[#135bec]"}`,children:e.jsx(st,{className:"w-6 h-6"})})]}),e.jsxs("div",{className:"space-y-3 relative z-10",children:[t&&e.jsxs("div",{className:`flex items-center gap-2 px-3 py-2 rounded-lg border mb-2 animate-in slide-in-from-top-2 duration-500 ${s?"bg-rose-500/10 border-rose-500/20 text-rose-400":"bg-amber-500/10 border-amber-500/20 text-amber-400"}`,children:[e.jsx("span",{className:"material-symbols-outlined !text-sm",children:"warning"}),e.jsx("span",{className:"text-[9px] font-black uppercase tracking-widest",children:s?"Servicio en Riesgo CrÃ­tico":"Saldo bajo detectado"})]}),e.jsxs("div",{className:"flex justify-between text-[11px] font-bold",children:[e.jsx("span",{className:"text-slate-500 uppercase tracking-[1px]",children:"Consumo Global"}),e.jsxs("span",{className:s?"text-rose-400":t?"text-amber-400":"text-[#135bec]",children:[Ee,"%"]})]}),e.jsx("div",{className:"w-full bg-slate-800/50 h-2.5 rounded-full overflow-hidden p-0.5 border border-white/5",children:e.jsx(x.div,{initial:{width:0},animate:{width:`${Ee}%`},transition:{duration:1,ease:"easeOut"},className:`h-full rounded-full shadow-lg transition-colors ${s?"bg-gradient-to-r from-rose-600 to-rose-400":t?"bg-gradient-to-r from-amber-600 to-amber-400":"bg-gradient-to-r from-[#135bec] to-[#3b82f6]"}`})}),e.jsxs("div",{className:"flex justify-between items-center text-[10px]",children:[e.jsxs("div",{className:"flex flex-col",children:[e.jsxs("span",{className:"text-slate-500",children:["Total: ",(a=r==null?void 0:r.credits_total)==null?void 0:a.toLocaleString()]}),e.jsxs("span",{className:"text-slate-700 text-[8px] font-bold mt-0.5 italic",children:["Aprox. ",v," fotos restantes"]})]}),e.jsxs("span",{className:"text-slate-400 font-bold",children:["Usados: ",(l=r==null?void 0:r.credits_used)==null?void 0:l.toLocaleString()]})]}),e.jsx("button",{onClick:()=>{N("wallet"),J(!0)},className:`w-full py-2.5 text-white text-[9px] font-black rounded-lg border transition-all uppercase tracking-[2px] mt-2 block text-center ${s?"bg-rose-500/20 border-rose-500/30 hover:bg-rose-500/30":t?"bg-amber-500/20 border-amber-500/30 hover:bg-amber-500/30":"bg-white/5 border-white/5 hover:bg-white/10"}`,children:"Gestionar Saldo / Recargar"})]})]})})(),e.jsxs("div",{className:"glass-card rounded-2xl p-6 flex flex-col justify-between group overflow-hidden relative border border-white/5 bg-gradient-to-br from-slate-900/80 to-slate-950/80",children:[e.jsx("div",{className:"absolute -right-4 -top-4 opacity-[0.03] group-hover:opacity-[0.1] transition-opacity duration-500",children:e.jsx(Ue,{className:"size-40"})}),e.jsxs("div",{className:"flex justify-between items-start mb-6 relative z-10",children:[e.jsxs("div",{children:[e.jsx("p",{className:"text-slate-400 text-[10px] font-black uppercase tracking-[2px] mb-1",children:"Instancias Activas"}),e.jsx("h3",{className:"text-4xl font-black text-white",children:k.filter(t=>t.is_active).length}),e.jsx("p",{className:"text-[10px] text-slate-500 font-bold uppercase tracking-widest mt-1",children:"Eventos en curso"})]}),e.jsx("div",{className:"p-3 bg-emerald-500/10 border border-emerald-500/20 rounded-xl text-emerald-500",children:e.jsx(A,{className:"w-6 h-6"})})]}),e.jsxs("button",{onClick:()=>N("events"),className:"w-full py-3 bg-emerald-500/10 hover:bg-emerald-500/20 text-emerald-500 text-[10px] font-black rounded-xl border border-emerald-500/20 transition-all uppercase tracking-[2px] flex items-center justify-center gap-2 group/btn",children:[e.jsx(Y,{className:"size-4"}),"Gestionar Instancias"]})]}),e.jsxs("div",{className:"glass-card rounded-2xl p-6 flex flex-col justify-between group overflow-hidden relative border border-white/5 bg-gradient-to-br from-slate-900/80 to-slate-950/80",children:[e.jsx("div",{className:"absolute -right-4 -top-4 opacity-[0.03] group-hover:opacity-[0.1] transition-opacity duration-500",children:e.jsx($e,{className:"size-40"})}),e.jsxs("div",{className:"flex justify-between items-start mb-6 relative z-10",children:[e.jsxs("div",{children:[e.jsx("p",{className:"text-slate-400 text-[10px] font-black uppercase tracking-[2px] mb-1",children:"Identidad Visual"}),e.jsxs("div",{className:"mt-2 flex items-center gap-3",children:[o.logo_url?e.jsx("img",{src:o.logo_url,className:"h-8 object-contain",alt:"Logo"}):e.jsx("div",{className:"size-8 rounded-lg bg-slate-800 flex items-center justify-center border border-white/5",children:e.jsx(Q,{className:"size-4 text-slate-600"})}),e.jsx("div",{className:"size-6 rounded-full border border-white/20 shadow-lg",style:{backgroundColor:o.primary_color}})]})]}),e.jsx("div",{className:"p-3 bg-indigo-500/10 border border-indigo-500/20 rounded-xl text-indigo-500",children:e.jsx(Q,{className:"w-6 h-6"})})]}),e.jsx("button",{onClick:()=>N("branding"),className:"w-full py-3 bg-slate-800 hover:bg-slate-700 text-slate-300 text-[10px] font-black rounded-xl border border-white/10 transition-all uppercase tracking-[2px]",children:"Editar Identidad Visual"})]})]}),e.jsxs("div",{className:"bg-slate-900/50 border border-white/5 rounded-[32px] p-8 glass-card",children:[e.jsxs("div",{className:"flex items-center justify-between mb-8",children:[e.jsxs("div",{children:[e.jsx("h4",{className:"text-sm font-black text-white uppercase tracking-widest",children:"Actividad de GeneraciÃ³n"}),e.jsx("p",{className:"text-[10px] text-slate-500 uppercase font-bold mt-1",children:"Fotos creadas por dÃ­a (Ãšltimos 7 dÃ­as)"})]}),e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx("div",{className:"size-2 rounded-full bg-[#135bec] animate-pulse"}),e.jsx("span",{className:"text-[10px] font-bold text-slate-400 uppercase",children:"Tiempo Real"})]})]}),e.jsx("div",{className:"h-48 flex items-end gap-2 px-2",children:Array.from({length:7}).map((t,s)=>{const a=new Date;a.setDate(a.getDate()-(6-s));const l=a.toISOString().split("T")[0],i=fe.filter(S=>S.created_at.startsWith(l)).length,b=Array.from({length:7}).map((S,G)=>{const E=new Date;E.setDate(E.getDate()-(6-G));const oe=E.toISOString().split("T")[0];return fe.filter(tt=>tt.created_at.startsWith(oe)).length}),m=Math.max(...b,1),w=i/m*100;return e.jsxs("div",{className:"flex-1 flex flex-col items-center gap-3 group",children:[e.jsxs("div",{className:"w-full relative h-[140px] flex items-end",children:[e.jsx(x.div,{initial:{height:0},animate:{height:`${Math.max(w,5)}%`},className:`w-full rounded-t-xl transition-all duration-500 hover:brightness-125 ${i>0?"bg-gradient-to-t from-[#135bec] to-[#7f13ec]":"bg-white/5"}`}),i>0&&e.jsxs("div",{className:"absolute -top-8 left-1/2 -translate-x-1/2 bg-white text-[#0f172a] text-[9px] font-black px-2 py-1 rounded-lg opacity-0 group-hover:opacity-100 transition-opacity whitespace-nowrap z-20",children:[i," fotos"]})]}),e.jsx("span",{className:"text-[8px] font-black text-slate-600 uppercase",children:a.toLocaleDateString("es-AR",{weekday:"short"})})]},s)})})]})]},"overview"),L==="events"&&e.jsxs(x.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},exit:{opacity:0,y:-20},className:"space-y-6",children:[e.jsxs("div",{className:"flex items-center justify-between px-2",children:[e.jsxs("div",{children:[e.jsx("h2",{className:"text-2xl font-black text-white uppercase tracking-tighter",children:"Mis Eventos"}),e.jsx("p",{className:"text-slate-500 text-xs mt-1",children:"Gestiona las instancias activas y el consumo de crÃ©ditos."})]}),e.jsxs("div",{className:"flex items-center gap-4",children:[e.jsxs("div",{className:"relative group",children:[e.jsx(Te,{className:"w-4 h-4 absolute left-3 top-1/2 -translate-y-1/2 text-slate-500 group-focus-within:text-[#135bec] transition-colors"}),e.jsx("input",{type:"text",placeholder:"Buscar por nombre o slug...",value:F,onChange:t=>qe(t.target.value),className:"bg-slate-900 border border-slate-800 rounded-xl pl-9 pr-4 py-2.5 text-xs text-white focus:ring-1 focus:ring-[#135bec] focus:border-[#135bec] w-64 transition-all outline-none"})]}),e.jsxs("button",{onClick:()=>re(!0),className:"px-6 py-2.5 bg-[#135bec] hover:bg-[#135bec]/90 text-white text-[10px] font-black rounded-xl shadow-lg shadow-[#135bec]/20 transition-all uppercase tracking-[2px] flex items-center gap-2",children:[e.jsx(ot,{className:"size-4"}),"Nuevo Evento"]})]})]}),e.jsx("div",{className:"glass-card rounded-2xl overflow-hidden border border-white/5 bg-slate-900/50 backdrop-blur-xl",children:e.jsxs("table",{className:"w-full text-left border-collapse",children:[e.jsx("thead",{className:"bg-white/[0.03] border-b border-white/5",children:e.jsxs("tr",{children:[e.jsx("th",{className:"px-6 py-5 text-[10px] font-black text-slate-500 uppercase tracking-widest",children:"IdentificaciÃ³n"}),e.jsx("th",{className:"px-6 py-5 text-[10px] font-black text-slate-500 uppercase tracking-widest",children:"Consumo de CrÃ©ditos"}),e.jsx("th",{className:"px-6 py-5 text-[10px] font-black text-slate-500 uppercase tracking-widest",children:"Estado"}),e.jsx("th",{className:"px-6 py-5 text-[10px] font-black text-slate-500 uppercase tracking-widest text-right",children:"Panel de Control"})]})}),e.jsxs("tbody",{className:"divide-y divide-white/5",children:[Se.map(t=>{const s=t.credits_allocated?Math.min(100,Math.round(t.credits_used/t.credits_allocated*100)):0;return e.jsxs("tr",{className:"hover:bg-white/[0.02] transition-colors group",children:[e.jsx("td",{className:"px-6 py-5",children:e.jsxs("div",{className:"flex items-center gap-4",children:[e.jsx("div",{className:"size-12 rounded-xl bg-gradient-to-br from-[#135bec]/20 to-[#0a1f4d]/20 border border-[#135bec]/20 flex items-center justify-center text-[#135bec] font-black text-sm group-hover:scale-110 transition-transform",children:((t==null?void 0:t.event_name)||"E").substring(0,2).toUpperCase()}),e.jsxs("div",{children:[e.jsx("p",{className:"text-sm font-bold text-white group-hover:text-[#135bec] transition-colors",children:t.event_name}),e.jsxs("div",{className:"flex items-center gap-2 mt-0.5",children:[e.jsx(bt,{className:"size-3 text-slate-600"}),e.jsxs("p",{className:"text-[10px] text-slate-500 font-mono",children:["/",t.event_slug]})]})]})]})}),e.jsx("td",{className:"px-6 py-5",children:e.jsxs("div",{className:"w-48",children:[e.jsxs("div",{className:"flex justify-between text-[10px] mb-1.5 font-bold",children:[e.jsxs("span",{className:"text-slate-400",children:[t.credits_used.toLocaleString()," / ",t.credits_allocated.toLocaleString()]}),e.jsxs("span",{className:`${s>90?"text-rose-500":"text-emerald-500"}`,children:[s,"%"]})]}),e.jsx("div",{className:"w-full h-1.5 bg-slate-800 rounded-full overflow-hidden p-[1px]",children:e.jsx(x.div,{initial:{width:0},animate:{width:`${s}%`},transition:{duration:1,ease:"easeOut"},className:`h-full ${s>90?"bg-rose-500":"bg-[#135bec]"} rounded-full shadow-[0_0_8px_rgba(19,91,236,0.5)]`})})]})}),e.jsx("td",{className:"px-6 py-5",children:e.jsxs("span",{className:`inline-flex items-center gap-1.5 px-3 py-1.5 rounded-full text-[10px] font-black uppercase tracking-wider ${t.is_active?"bg-emerald-500/10 text-emerald-500 border border-emerald-500/20":"bg-rose-500/10 text-rose-500 border border-rose-500/20"}`,children:[e.jsx("span",{className:`size-2 rounded-full ${t.is_active?"bg-emerald-500 animate-pulse":"bg-rose-500"}`}),t.is_active?"En LÃ­nea":"Pausado"]})}),e.jsx("td",{className:"px-6 py-5 text-right",children:e.jsxs("div",{className:"flex items-center justify-end gap-3",children:[e.jsx("button",{onClick:()=>le(t),className:"p-2.5 bg-emerald-500/10 hover:bg-emerald-500 border border-emerald-500/20 rounded-xl text-emerald-500 hover:text-white transition-all group/action",title:"Cargar CrÃ©ditos",children:e.jsx(pe,{className:"w-4 h-4 group-hover/action:scale-110 transition-transform"})}),e.jsx("button",{onClick:()=>{Be(t),ze(t.id),N("moderation")},className:"p-2.5 bg-indigo-500/10 hover:bg-indigo-500 border border-indigo-500/20 rounded-xl text-indigo-500 hover:text-white transition-all group/action",title:"ModeraciÃ³n de GalerÃ­a",children:e.jsx(rt,{className:"w-4 h-4 group-hover/action:scale-110 transition-transform"})}),e.jsx("button",{onClick:()=>_(t),className:"p-2.5 bg-slate-800/50 hover:bg-slate-800 border border-white/5 rounded-xl text-slate-400 hover:text-white transition-all group/action",title:"Editar Evento",children:e.jsx(ce,{className:"w-4 h-4 group-hover/action:rotate-12 transition-transform"})}),e.jsx("button",{onClick:()=>window.open(`https://photobooth.creativa-labs.com/?event=${t.event_slug}`,"_blank"),className:"p-2.5 bg-slate-800/50 hover:bg-slate-800 border border-white/5 rounded-xl text-slate-400 hover:text-white transition-all group/action",title:"Ver Kiosco (PÃºblico)",children:e.jsx(Ie,{className:"w-4 h-4 group-hover/action:scale-110 transition-transform"})}),he&&t.client_email&&e.jsx("button",{onClick:()=>he(t.client_email),className:"p-2.5 bg-[#135bec]/10 hover:bg-[#135bec] border border-[#135bec]/20 rounded-xl text-[#135bec] hover:text-white transition-all group/action",title:"Gestionar Branding como Cliente",children:e.jsx(lt,{className:"w-4 h-4 group-hover/action:scale-110 transition-transform"})}),e.jsx("button",{onClick:()=>ie({id:t.id,name:t.event_name}),className:"p-2.5 bg-rose-500/10 hover:bg-rose-500 border border-rose-500/20 rounded-xl text-rose-500 hover:text-white transition-all group/action",title:"Eliminar Instancia",children:e.jsx(de,{className:"w-4 h-4 group-hover/action:scale-110 transition-transform"})})]})})]},t.id)}),Se.length===0&&e.jsx("tr",{children:e.jsx("td",{colSpan:4,className:"p-20 text-center",children:e.jsxs("div",{className:"flex flex-col items-center",children:[e.jsx("div",{className:"size-16 rounded-2xl bg-slate-800/50 flex items-center justify-center mb-4",children:e.jsx(Y,{className:"size-8 text-slate-600 opacity-20"})}),e.jsx("p",{className:"text-slate-400 text-sm font-bold uppercase tracking-widest",children:"No hay eventos para mostrar"}),e.jsx("p",{className:"text-slate-600 text-[10px] mt-1",children:"Crea tu primera instancia para comenzar."})]})})})]})]})})]},"events"),L==="moderation"&&e.jsxs(x.div,{initial:{opacity:0,scale:.95},animate:{opacity:1,scale:1},exit:{opacity:0,scale:1.05},className:"space-y-6",children:[e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{className:"flex items-center gap-4",children:[e.jsx("button",{onClick:()=>N("events"),className:"p-2.5 bg-slate-800 hover:bg-slate-700 rounded-xl text-white transition-all border border-white/5",children:e.jsx(Ae,{className:"w-5 h-5 rotate-180"})}),e.jsxs("div",{children:[e.jsxs("h2",{className:"text-2xl font-black text-white uppercase tracking-tighter",children:["GalerÃ­a: ",g==null?void 0:g.event_name]}),e.jsxs("div",{className:"flex items-center gap-2 mt-1",children:[e.jsx("span",{className:`size-2 rounded-full ${z.length>0?"bg-emerald-500 animate-pulse":"bg-slate-700"}`}),e.jsxs("p",{className:"text-slate-500 text-[10px] font-black uppercase tracking-widest",children:[z.length," de ",H.length," Fotos"]})]})]})]}),e.jsxs("div",{className:"flex items-center gap-4",children:[e.jsxs("div",{className:"flex items-center gap-3 bg-slate-900/80 p-1.5 rounded-2xl border border-white/5 shadow-inner",children:[e.jsxs("div",{className:"relative",children:[e.jsx(Te,{className:"absolute left-3.5 top-1/2 -translate-y-1/2 size-3.5 text-slate-600"}),e.jsx("input",{type:"text",placeholder:"Buscar email o ID...",className:"bg-slate-950/50 border border-white/5 rounded-xl py-2.5 pl-10 pr-4 text-[10px] text-white focus:border-[#135bec] outline-none transition-all w-52 placeholder:text-slate-700 font-bold uppercase tracking-widest",value:D,onChange:t=>Ne(t.target.value)})]}),e.jsxs("div",{className:"relative",children:[e.jsx(Y,{className:"absolute left-3.5 top-1/2 -translate-y-1/2 size-3.5 text-slate-600"}),e.jsx("input",{type:"date",className:"bg-slate-950/50 border border-white/5 rounded-xl py-2.5 pl-10 pr-4 text-[10px] text-white focus:border-[#135bec] outline-none transition-all w-40 font-bold",value:U,onChange:t=>ye(t.target.value)})]}),(D||U)&&e.jsx("button",{onClick:()=>{Ne(""),ye("")},className:"p-2.5 hover:bg-white/5 text-slate-500 hover:text-white transition-all rounded-xl",children:e.jsx(B,{className:"size-4"})})]}),e.jsx("div",{className:"w-px h-8 bg-white/5 mx-1"}),e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsxs("button",{onClick:()=>{const t=z.map(i=>i.image_url).join(`
`);if(t.length===0)return c("No hay links para exportar","error");const s=new Blob([t],{type:"text/plain"}),a=window.URL.createObjectURL(s),l=document.createElement("a");l.href=a,l.download=`links-${g==null?void 0:g.event_slug}-filtrados.txt`,l.click(),window.URL.revokeObjectURL(a),c("Links filtrados exportados")},className:"px-6 py-2.5 bg-slate-800 hover:bg-slate-700 text-white text-[10px] font-black rounded-xl border border-white/5 transition-all uppercase tracking-[2px] flex items-center gap-2",children:[e.jsx(Re,{className:"size-4"}),"Exportar Links"]}),e.jsxs("button",{onClick:async()=>{if(z.length===0)return c("No hay fotos para descargar","error");try{c("Preparando descarga ZIP (Filtrada)...","info");const t=new De,s=t.folder(`${g==null?void 0:g.event_slug}-photos-filtered`);if(!s)throw new Error("No se pudo crear la carpeta en el ZIP");const a=z.map(async(m,w)=>{var S;try{const E=await(await fetch(m.image_url)).blob(),oe=((S=m.image_url.split(".").pop())==null?void 0:S.split("?")[0])||"jpg";s.file(`photo-${w+1}.${oe}`,E)}catch(G){console.error("Error al descargar foto para el ZIP:",G)}});await Promise.all(a);const l=await t.generateAsync({type:"blob"}),i=window.URL.createObjectURL(l),b=document.createElement("a");b.href=i,b.download=`galeria-${g==null?void 0:g.event_slug}.zip`,b.click(),window.URL.revokeObjectURL(i),c("GalerÃ­a completa descargada")}catch(t){console.error("Error al generar ZIP:",t),c("Error al generar el archivo ZIP","error")}},className:"px-6 py-2.5 bg-[#135bec] hover:bg-[#135bec]/90 text-white text-[10px] font-black rounded-xl shadow-lg border border-white/10 transition-all uppercase tracking-[2px] flex items-center gap-2",children:[e.jsx(Ue,{className:"size-4"}),"Descargar Todo (ZIP)"]})]})]})]}),e.jsx(T,{children:j.length>0&&e.jsxs(x.div,{initial:{y:100,opacity:0},animate:{y:0,opacity:1},exit:{y:100,opacity:0},className:"fixed bottom-10 left-1/2 -translate-x-1/2 z-[60] bg-slate-900/90 backdrop-blur-2xl border border-[#135bec]/30 rounded-2xl px-8 py-4 flex items-center gap-8 shadow-[0_20px_50px_rgba(0,0,0,0.5)]",children:[e.jsxs("div",{className:"flex flex-col",children:[e.jsx("span",{className:"text-[10px] font-black text-[#135bec] uppercase tracking-widest",children:"SelecciÃ³n Activa"}),e.jsxs("span",{className:"text-xl font-black text-white",children:[j.length," ",e.jsx("span",{className:"text-xs text-slate-500 font-medium",children:"Fotos"})]})]}),e.jsx("div",{className:"w-px h-10 bg-white/10"}),e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx("button",{onClick:()=>q([]),className:"px-4 py-2 text-[10px] font-black text-slate-400 uppercase tracking-widest hover:text-white transition-colors",children:"Cancelar"}),e.jsxs("button",{onClick:async()=>{const t=new De;c(`Preparando ZIP de ${j.length} fotos...`,"info");const s=t.folder("seleccion-personalizada"),l=H.filter(w=>j.includes(w.id)).map(async(w,S)=>{const E=await(await fetch(w.image_url)).blob();s==null||s.file(`photo-${S+1}.jpg`,E)});await Promise.all(l);const i=await t.generateAsync({type:"blob"}),b=window.URL.createObjectURL(i),m=document.createElement("a");m.href=b,m.download="seleccion-fotos.zip",m.click(),c("ZIP de selecciÃ³n descargado"),q([])},className:"px-6 py-2.5 bg-white text-black text-[10px] font-black rounded-xl hover:bg-slate-200 transition-all uppercase tracking-[2px] flex items-center gap-2",children:[e.jsx(Re,{className:"size-4"}),"Descargar ZIP"]}),e.jsxs("button",{onClick:async()=>{if(confirm(`ðŸš¨ ACCIÃ“N MASIVA: Â¿EstÃ¡s seguro de eliminar ${j.length} fotos definitivamente?`))try{W(!0);const{error:t}=await d.from("generations").delete().in("id",j);if(t)throw t;c(`${j.length} fotos eliminadas`),q([]),ze(g.id)}catch(t){c(t.message,"error")}finally{W(!1)}},className:"px-6 py-2.5 bg-rose-500 text-white text-[10px] font-black rounded-xl hover:bg-rose-600 transition-all uppercase tracking-[2px] flex items-center gap-2",children:[e.jsx(de,{className:"size-4"}),"Eliminar Seleccionadas"]})]})]})}),Fe?e.jsxs("div",{className:"h-96 flex flex-col items-center justify-center gap-4",children:[e.jsx("div",{className:"size-12 border-4 border-[#135bec]/30 border-t-[#135bec] rounded-full animate-spin"}),e.jsx("p",{className:"text-slate-500 text-[10px] font-black uppercase tracking-widest",children:"Sincronizando GalerÃ­a..."})]}):e.jsxs("div",{className:"grid grid-cols-2 md:grid-cols-4 lg:grid-cols-5 xl:grid-cols-6 gap-4",children:[z.map(t=>{var s;return e.jsxs("div",{onClick:()=>{j.includes(t.id)?q(a=>a.filter(l=>l!==t.id)):q(a=>[...a,t.id])},className:`group relative aspect-[3/4] rounded-2xl overflow-hidden border transition-all duration-300 cursor-pointer shadow-xl ${j.includes(t.id)?"border-[#135bec] scale-[0.98] ring-4 ring-[#135bec]/20":"border-white/5 bg-slate-900"}`,children:[e.jsx("div",{className:`absolute top-4 left-4 z-20 size-5 rounded-md border flex items-center justify-center transition-all ${j.includes(t.id)?"bg-[#135bec] border-[#135bec] text-white":"bg-black/20 border-white/20 text-transparent opacity-0 group-hover:opacity-100"}`,children:e.jsx("span",{className:"material-symbols-outlined !text-[14px] font-black",children:"check"})}),e.jsx("img",{src:t.image_url,alt:"Generation",className:`w-full h-full object-cover transition-transform duration-700 group-hover:scale-110 ${j.includes(t.id)?"opacity-50":""}`}),e.jsxs("div",{className:"absolute inset-x-0 bottom-0 bg-gradient-to-t from-black/90 via-black/50 to-transparent p-4 translate-y-2 group-hover:translate-y-0 transition-transform",children:[e.jsx("p",{className:"text-[8px] font-mono text-white/50 mb-0.5 truncate",children:t.id}),e.jsx("p",{className:"text-[10px] font-black text-white mb-3 truncate uppercase tracking-widest",children:((s=t.profiles)==null?void 0:s.email)||"AnÃ³nimo"}),e.jsxs("div",{className:"flex gap-2",children:[e.jsx("button",{onClick:a=>{a.stopPropagation(),We(t.id)},className:"p-2.5 bg-rose-500/20 hover:bg-rose-500 border border-rose-500/30 rounded-xl text-rose-500 hover:text-white transition-all group/del",title:"Eliminar de la galerÃ­a",children:e.jsx(de,{className:"size-4 group-hover/del:scale-110 transition-transform"})}),e.jsxs("button",{onClick:a=>{a.stopPropagation(),window.open(t.image_url,"_blank")},className:"flex-1 py-2 bg-white/10 backdrop-blur-md border border-white/20 rounded-xl text-white text-[9px] font-black uppercase tracking-widest hover:bg-white/20 transition-all flex items-center justify-center gap-2",children:[e.jsx(Ie,{className:"size-3"}),"Ver Original"]})]})]})]},t.id)}),z.length===0&&e.jsxs("div",{className:"col-span-full h-64 flex flex-col items-center justify-center bg-slate-900/50 rounded-[32px] border border-dashed border-white/5",children:[e.jsx(ne,{className:"size-8 text-slate-800 mb-4"}),e.jsx("p",{className:"text-slate-500 text-xs font-black uppercase tracking-widest",children:"No hay fotos en este evento"})]})]})]},"moderation"),L==="wallet"&&e.jsxs(x.div,{initial:{opacity:0,scale:.95},animate:{opacity:1,scale:1},exit:{opacity:0,scale:1.05},className:"space-y-8",children:[e.jsxs("section",{className:"grid grid-cols-1 lg:grid-cols-3 gap-8",children:[e.jsxs("div",{className:"lg:col-span-2 glass-card rounded-3xl p-10 bg-gradient-to-br from-[#135bec] to-[#0a1f4d] border-none shadow-2xl shadow-[#135bec]/20 relative overflow-hidden",children:[e.jsx("div",{className:"absolute top-0 right-0 p-10 opacity-10",children:e.jsx(ct,{className:"size-64"})}),e.jsxs("div",{className:"relative z-10 flex flex-col h-full justify-between",children:[e.jsxs("div",{children:[e.jsx("p",{className:"text-white/60 text-[11px] font-black uppercase tracking-[3px] mb-2",children:"CrÃ©ditos Totales Disponibles"}),e.jsxs("h2",{className:"text-7xl font-black text-white tracking-tighter",children:[v.toLocaleString(),e.jsx("span",{className:"text-2xl text-white/40 ml-4 font-medium uppercase tracking-widest",children:"unidades"})]})]}),e.jsxs("div",{className:"mt-12 flex flex-wrap gap-8 items-end",children:[e.jsxs("div",{className:"space-y-1",children:[e.jsx("p",{className:"text-white/40 text-[10px] font-bold uppercase",children:"Consumo Total"}),e.jsxs("div",{className:"flex items-center gap-2 text-white",children:[e.jsx(Me,{className:"size-5 text-emerald-400"}),e.jsx("span",{className:"text-2xl font-black",children:((Pe=r==null?void 0:r.credits_used)==null?void 0:Pe.toLocaleString())||0})]})]}),e.jsxs("div",{className:"space-y-1",children:[e.jsx("p",{className:"text-white/40 text-[10px] font-bold uppercase",children:"Eventos Activos"}),e.jsxs("div",{className:"flex items-center gap-2 text-white/80",children:[e.jsx(A,{className:"size-5 text-yellow-400"}),e.jsx("span",{className:"text-2xl font-black",children:k.filter(t=>t.is_active).length})]})]}),e.jsx("button",{onClick:()=>J(!0),className:"ml-auto px-8 py-4 bg-white text-[#135bec] font-black rounded-2xl hover:scale-105 transition-all text-xs uppercase tracking-[2px] shadow-xl",children:"Recargar CrÃ©ditos"})]})]})]}),e.jsxs("div",{className:"glass-card rounded-3xl p-8 border border-white/5 bg-slate-900/50 backdrop-blur-xl flex flex-col justify-between",children:[e.jsxs("div",{children:[e.jsxs("h3",{className:"text-lg font-black text-white uppercase tracking-tighter mb-6 flex items-center gap-2",children:[e.jsx(dt,{className:"size-5 text-[#135bec]"}),"Ãšltimas Recargas"]}),e.jsx("div",{className:"space-y-6 max-h-[400px] overflow-y-auto custom-scrollbar pr-2",children:ue.length>0?ue.map((t,s)=>e.jsxs("div",{className:"flex justify-between items-center bg-white/[0.02] p-4 rounded-2xl border border-white/5 group hover:border-[#135bec]/30 transition-all",children:[e.jsxs("div",{children:[e.jsxs("p",{className:"text-xs font-bold text-white",children:["+",t.amount.toLocaleString()," CrÃ©ditos"]}),e.jsx("p",{className:"text-[10px] text-slate-500 mt-1",children:new Date(t.created_at).toLocaleDateString()})]}),e.jsx("span",{className:`text-[9px] font-black uppercase px-2 py-1 rounded-lg ${t.type==="top-up"?"text-emerald-500 bg-emerald-500/10":"text-blue-500 bg-blue-500/10"}`,children:t.type==="top-up"?"Carga":"Ajuste"})]},t.id)):e.jsx("div",{className:"text-center py-10 opacity-40",children:e.jsx("p",{className:"text-[10px] font-bold uppercase tracking-widest",children:"Sin movimientos"})})})]}),e.jsxs("p",{className:"text-[10px] text-slate-600 text-center mt-6",children:[e.jsx(xe,{className:"size-3 inline mr-1"}),"Los crÃ©ditos no poseen fecha de vencimiento."]})]})]}),e.jsxs("section",{className:"glass-card rounded-[40px] p-10 border border-white/5 bg-slate-900/40 backdrop-blur-3xl",children:[e.jsxs("div",{className:"flex justify-between items-center mb-10",children:[e.jsxs("div",{children:[e.jsx("h3",{className:"text-2xl font-black text-white uppercase tracking-tighter",children:"AnalÃ­ticas de Consumo"}),e.jsx("p",{className:"text-slate-500 text-[9px] font-black uppercase tracking-[3px] mt-1",children:"Monitoreo de energÃ­a AI por evento activo"})]}),e.jsx("div",{className:"flex gap-2",children:e.jsxs("div",{className:"px-3 py-1 bg-emerald-500/10 border border-emerald-500/20 rounded-full flex items-center gap-2",children:[e.jsx("div",{className:"size-1.5 bg-emerald-500 rounded-full animate-pulse"}),e.jsx("span",{className:"text-[9px] font-black text-emerald-500 uppercase",children:"Live Metrics"})]})})]}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 xl:grid-cols-4 gap-8",children:[k.map((t,s)=>{var i;const a=Math.min(100,(t.credits_used||0)/(t.credits_allocated||1)*100),l=[20,45,30,60,40,75,a].map((b,m)=>`${m*20},${80-b*.6}`).join(" ");return e.jsx(x.div,{initial:{opacity:0,scale:.95},animate:{opacity:1,scale:1},transition:{delay:s*.05},className:"group relative h-full",children:e.jsxs("div",{className:"p-8 rounded-[32px] bg-gradient-to-br from-white/[0.03] to-transparent border border-white/5 group-hover:border-[#135bec]/40 transition-all overflow-hidden h-full flex flex-col",children:[e.jsx("div",{className:"absolute inset-x-0 bottom-0 h-24 opacity-20 pointer-events-none",children:e.jsxs("svg",{className:"w-full h-full",preserveAspectRatio:"none",viewBox:"0 0 120 80",children:[e.jsx("defs",{children:e.jsxs("linearGradient",{id:`grad-${s}`,x1:"0%",y1:"0%",x2:"0%",y2:"100%",children:[e.jsx("stop",{offset:"0%",stopColor:"#135bec",stopOpacity:"0.5"}),e.jsx("stop",{offset:"100%",stopColor:"#135bec",stopOpacity:"0"})]})}),e.jsx("path",{d:`M0,80 L${l} L120,80 Z`,fill:`url(#grad-${s})`,className:"group-hover:opacity-100 transition-opacity"}),e.jsx(x.path,{d:`M0,${80-20*.6} L${l}`,fill:"none",stroke:"#135bec",strokeWidth:"2",initial:{pathLength:0},animate:{pathLength:1},transition:{duration:1.5,delay:.5}})]})}),e.jsxs("div",{className:"relative z-10 flex flex-col h-full",children:[e.jsxs("div",{className:"flex justify-between items-start mb-6",children:[e.jsx("div",{className:"p-2.5 bg-white/5 rounded-xl",children:e.jsx(Me,{className:`size-4 ${a>80?"text-amber-500":"text-emerald-500"}`})}),e.jsx("p",{className:"text-[10px] font-black text-white/20 uppercase tracking-[2px]",children:t.event_slug})]}),e.jsx("h4",{className:"text-[11px] font-black text-white uppercase tracking-widest mb-1 truncate group-hover:text-[#135bec] transition-colors",children:t.event_name}),e.jsxs("div",{className:"mt-8",children:[e.jsxs("div",{className:"flex items-baseline gap-2",children:[e.jsx("span",{className:"text-3xl font-black text-white",children:((i=t.credits_used)==null?void 0:i.toLocaleString())||0}),e.jsx("span",{className:"text-[10px] font-bold text-slate-500 uppercase tracking-widest",children:"Usados"})]}),e.jsx("div",{className:"mt-4 w-full bg-white/5 h-1.5 rounded-full overflow-hidden",children:e.jsx(x.div,{initial:{width:0},animate:{width:`${a}%`},className:`h-full rounded-full ${a>90?"bg-rose-500":a>70?"bg-amber-500":"bg-[#135bec]"}`})}),e.jsxs("div",{className:"flex justify-between mt-3",children:[e.jsxs("span",{className:"text-[9px] font-black text-slate-500 uppercase tracking-widest",children:[Math.round(a),"% Cap"]}),e.jsxs("span",{className:"text-[9px] font-black text-white/30 uppercase tracking-widest",children:["Limite: ",t.credits_allocated]})]})]})]})]})},t.id)}),k.length===0&&e.jsxs("div",{className:"col-span-full py-20 text-center border-2 border-dashed border-white/5 rounded-[40px]",children:[e.jsx("div",{className:"size-16 bg-white/5 rounded-full flex items-center justify-center mx-auto mb-4",children:e.jsx(xe,{className:"size-8 text-slate-600"})}),e.jsx("p",{className:"text-xs font-black text-slate-600 uppercase tracking-[3px]",children:"Sin actividad de consumo para reportar"})]})]})]})]},"wallet"),L==="branding"&&e.jsxs(x.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},exit:{opacity:0,y:-20},className:"grid grid-cols-1 xl:grid-cols-12 gap-8",children:[e.jsx("div",{className:"xl:col-span-8 space-y-8",children:e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-8",children:[e.jsxs("section",{className:"glass-card rounded-[32px] p-8 border border-white/5 bg-slate-900/50 backdrop-blur-xl shadow-2xl h-fit",children:[e.jsxs("div",{className:"flex items-center gap-3 mb-8",children:[e.jsx("div",{className:"p-3 bg-indigo-500/10 border border-indigo-500/20 rounded-xl text-indigo-500",children:e.jsx(Q,{className:"w-6 h-6"})}),e.jsxs("div",{children:[e.jsx("h2",{className:"text-xl font-black text-white uppercase tracking-tighter",children:"Identidad Visual"}),e.jsx("p",{className:"text-slate-500 text-xs",children:"Personaliza tu panel de control."})]})]}),e.jsxs("div",{className:"space-y-8",children:[e.jsxs("div",{children:[e.jsx("label",{className:"text-[10px] font-black text-slate-500 uppercase tracking-[2px] block mb-4",children:"Logo Corporativo"}),e.jsxs("div",{className:"w-full border-2 border-dashed border-slate-800 rounded-2xl p-6 flex flex-col items-center justify-center bg-slate-950/50 hover:bg-slate-950 transition-all cursor-pointer group hover:border-[#135bec]/50 shadow-inner",onClick:()=>{var t;return(t=document.getElementById("brandingLogoInput"))==null?void 0:t.click()},children:[e.jsx("input",{type:"file",id:"brandingLogoInput",className:"hidden",accept:"image/*",onChange:Je}),o.logo_url?e.jsxs("div",{className:"relative group/logo",children:[e.jsx("img",{src:o.logo_url,className:"h-12 object-contain mb-2 group-hover:opacity-50 transition-opacity",alt:"Logo"}),e.jsx("div",{className:"absolute inset-0 flex items-center justify-center opacity-0 group-hover/logo:opacity-100 transition-opacity",children:e.jsx(ce,{className:"size-5 text-white"})})]}):e.jsxs("div",{className:"flex flex-col items-center",children:[e.jsx(nt,{className:"w-8 h-8 text-slate-700 group-hover:text-[#135bec] mb-3 transition-colors"}),e.jsx("p",{className:"text-[10px] text-slate-500 font-bold uppercase tracking-widest text-center",children:"Subir Identidad"})]})]})]}),e.jsxs("div",{className:"space-y-6",children:[e.jsxs("div",{children:[e.jsx("label",{className:"text-[10px] font-black text-slate-500 uppercase tracking-[2px] block mb-4",children:"Color de Acento"}),e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx("div",{className:"size-12 rounded-xl border-2 border-white/10 shadow-2xl cursor-pointer hover:scale-105 transition-all",style:{backgroundColor:o.primary_color},onClick:()=>{var t;return(t=document.getElementById("brandingColorPicker"))==null?void 0:t.click()}}),e.jsx("input",{id:"brandingColorPicker",type:"color",className:"sr-only",value:o.primary_color,onChange:t=>M({...o,primary_color:t.target.value})}),e.jsxs("div",{className:"flex-1 bg-slate-950 border border-slate-800 rounded-xl py-3 px-4 text-xs text-white font-mono flex items-center justify-between",children:[e.jsx("span",{children:o.primary_color.toUpperCase()}),e.jsx(ce,{className:"size-3 text-slate-600"})]})]})]}),e.jsxs("div",{children:[e.jsx("label",{className:"text-[10px] font-black text-slate-500 uppercase tracking-[2px] block mb-4",children:"Radio de Bordes"}),e.jsxs("div",{className:"relative",children:[e.jsxs("select",{className:"w-full bg-slate-950 border border-slate-800 rounded-xl py-3 px-4 text-xs text-white focus:ring-1 focus:ring-[#135bec] outline-none appearance-none cursor-pointer pr-10",value:o.radius,onChange:t=>M({...o,radius:t.target.value}),children:[e.jsx("option",{value:"4px",children:"4px (Recto)"}),e.jsx("option",{value:"8px",children:"8px (Suave)"}),e.jsx("option",{value:"12px",children:"12px (Premium)"}),e.jsx("option",{value:"20px",children:"20px (Redondeado)"})]}),e.jsx("div",{className:"absolute right-4 top-1/2 -translate-y-1/2 pointer-events-none",children:e.jsx(Ae,{className:"size-3 text-slate-600"})})]})]})]}),e.jsxs("button",{onClick:He,disabled:K,className:`w-full py-4 bg-white text-slate-900 text-[10px] font-black rounded-2xl transition-all shadow-xl hover:shadow-2xl active:scale-[0.98] uppercase tracking-[3px] flex items-center justify-center gap-2 group ${K?"opacity-50 cursor-not-allowed":""}`,children:[K?e.jsx("div",{className:"size-4 border-2 border-slate-900 border-t-transparent rounded-full animate-spin"}):e.jsx(te,{className:"size-4 group-hover:scale-110 transition-transform"}),K?"Sincronizando...":"Sincronizar Panel"]})]})]}),e.jsxs("div",{className:"glass-card rounded-[32px] p-8 border border-white/5 bg-slate-900/50 backdrop-blur-xl shadow-2xl relative overflow-hidden h-fit",children:[e.jsx("div",{className:"flex items-center justify-between mb-8 relative z-10",children:e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx("div",{className:"p-3 bg-[#135bec]/10 border border-[#135bec]/20 rounded-xl text-[#135bec]",children:e.jsx(A,{className:"w-6 h-6"})}),e.jsxs("div",{children:[e.jsx("h2",{className:"text-xl font-black text-white uppercase tracking-tighter",children:"Estilos IA"}),e.jsx("p",{className:"text-slate-500 text-xs",children:"Packs activos para clientes."})]})]})}),e.jsx("div",{className:"grid grid-cols-2 gap-4 relative z-10",children:it.map(t=>{const s=ee.find(a=>a.subCategory===t)||ee[0];return e.jsxs("label",{className:"relative block cursor-pointer group",children:[e.jsx("input",{type:"checkbox",checked:o.style_presets.includes(t),onChange:()=>et(t),className:"peer sr-only"}),e.jsxs("div",{className:`aspect-square rounded-2xl overflow-hidden relative border-2 transition-all duration-300 ${o.style_presets.includes(t)?"border-[#135bec] scale-[1.02] shadow-xl shadow-[#135bec]/20":"border-white/5 opacity-40 hover:border-white/20 hover:opacity-80"}`,children:[e.jsx("div",{className:"absolute inset-0 bg-gradient-to-t from-black/80 to-transparent z-10"}),e.jsx("img",{alt:t,className:"w-full h-full object-cover group-hover:scale-110 transition-transform duration-700",src:s.url}),e.jsx("div",{className:"absolute bottom-2 left-3 z-20",children:e.jsx("p",{className:"text-[8px] font-black uppercase text-white tracking-[1px] leading-tight",children:t})}),o.style_presets.includes(t)&&e.jsx("div",{className:"absolute top-2 right-2 z-20",children:e.jsx("div",{className:"bg-[#135bec] rounded-full p-1 shadow-xl border border-white/20",children:e.jsx(te,{className:"w-2.5 h-2.5 text-white"})})})]})]},t)})})]})]})}),e.jsxs("div",{className:"xl:col-span-4 sticky top-8",children:[e.jsxs("div",{className:"flex flex-col items-center",children:[e.jsxs("div",{className:"mb-6 flex items-center gap-3",children:[e.jsx("div",{className:"size-1.5 rounded-full bg-emerald-500 animate-pulse"}),e.jsx("span",{className:"text-[10px] font-black text-slate-500 uppercase tracking-[4px]",children:"Live Preview (Kiosk)"})]}),e.jsxs("div",{className:"relative w-[280px] h-[580px] bg-slate-800 rounded-[50px] p-3 border-[6px] border-slate-700 shadow-2xl overflow-hidden shadow-black/60",children:[e.jsx("div",{className:"absolute top-0 left-1/2 -translate-x-1/2 w-32 h-6 bg-slate-700 rounded-b-2xl z-50"}),e.jsxs("div",{className:"w-full h-full bg-[#071121] rounded-[40px] overflow-hidden flex flex-col relative",children:[e.jsx("div",{className:"absolute inset-0 opacity-20",style:{background:`radial-gradient(circle at 50% 50%, ${o.primary_color}33 0%, transparent 70%)`}}),e.jsxs("div",{className:"p-6 flex flex-col items-center justify-center pt-10",children:[o.logo_url?e.jsx("img",{src:o.logo_url,className:"h-10 object-contain mb-4",alt:"Mockup Logo"}):e.jsx("div",{className:"h-10 w-32 bg-white/5 rounded-xl border border-white/10 flex items-center justify-center text-[8px] text-slate-600 font-black uppercase tracking-[2px]",children:"Your Logo Here"}),e.jsx("div",{className:"w-12 h-0.5",style:{background:`linear-gradient(90deg, transparent, ${o.primary_color}, transparent)`}})]}),e.jsxs("div",{className:"px-6 py-2 text-center",children:[e.jsx("h3",{className:"text-[14px] font-black text-white uppercase tracking-tighter italic",children:"Descubre tu Identidad"}),e.jsx("p",{className:"text-[8px] text-slate-500 uppercase font-black tracking-widest mt-1 opacity-60",children:"Selecciona un estandar de estilo"})]}),e.jsx("div",{className:"flex-1 overflow-y-auto px-6 py-4 no-scrollbar",children:e.jsxs("div",{className:"grid grid-cols-2 gap-3",children:[o.style_presets.slice(0,4).map((t,s)=>{const a=ee.find(l=>l.subCategory===t)||ee[0];return e.jsxs("div",{className:"aspect-[3/4] overflow-hidden relative border shadow-lg",style:{borderRadius:o.radius,borderColor:s===0?o.primary_color:"rgba(255,255,255,0.05)"},children:[e.jsx("div",{className:"absolute inset-0 bg-gradient-to-t from-black/60 to-transparent z-10"}),e.jsx("img",{src:a.url,className:"w-full h-full object-cover"}),e.jsx("div",{className:"absolute bottom-2 left-2 z-20",children:e.jsx("p",{className:"text-[7px] font-black text-white uppercase",children:t})})]},s)}),o.style_presets.length<4&&Array.from({length:4-o.style_presets.length}).map((t,s)=>e.jsx("div",{className:"aspect-[3/4] bg-white/5 border border-dashed border-white/10 flex items-center justify-center text-slate-800",style:{borderRadius:o.radius},children:e.jsx("span",{className:"material-symbols-outlined !text-sm",children:"add"})},s))]})}),e.jsx("div",{className:"p-6",children:e.jsx("div",{className:"w-full py-3 text-center text-white text-[9px] font-black uppercase tracking-[2px] shadow-lg shadow-black/20",style:{backgroundColor:o.primary_color,borderRadius:o.radius},children:"Comenzar Experiencia"})})]})]})]}),e.jsxs("div",{className:"mt-8",children:[e.jsxs("div",{className:"flex items-center justify-between mb-4 px-2",children:[e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx("div",{className:"size-8 rounded-lg bg-orange-500/10 flex items-center justify-center text-orange-500",children:e.jsx(A,{className:"size-4"})}),e.jsxs("div",{children:[e.jsx("h4",{className:"text-xs font-black text-white uppercase tracking-widest",children:"Global Live Feed"}),e.jsx("p",{className:"text-[9px] text-slate-500 font-bold uppercase tracking-[2px]",children:"Ãšltimas capturas en tus eventos"})]})]}),e.jsx("button",{onClick:()=>N("events"),className:"text-[9px] font-black text-[#135bec] uppercase tracking-widest hover:underline",children:"Ver todos los eventos"})]}),e.jsxs("div",{className:"relative group/feed",children:[e.jsx("div",{className:"flex gap-4 overflow-x-auto pb-6 pt-2 no-scrollbar scroll-smooth",children:ke.length>0?ke.map((t,s)=>{var a;return e.jsxs(x.div,{initial:{opacity:0,scale:.9},animate:{opacity:1,scale:1},transition:{delay:s*.1},className:"min-w-[140px] md:min-w-[180px] aspect-[3/4] rounded-2xl overflow-hidden border border-white/5 bg-slate-900 shadow-xl relative group/item",children:[e.jsx("img",{src:t.image_url,alt:"Recent",className:"w-full h-full object-cover grayscale-[0.5] group-hover/item:grayscale-0 transition-all duration-500"}),e.jsxs("div",{className:"absolute inset-x-0 bottom-0 p-3 bg-gradient-to-t from-black/80 to-transparent",children:[e.jsx("p",{className:"text-[7px] font-black text-white/50 uppercase tracking-widest mb-0.5",children:((a=k.find(l=>l.id===t.event_id))==null?void 0:a.event_name)||"Evento"}),e.jsxs("p",{className:"text-[8px] font-bold text-white uppercase",children:["Hace ",Math.floor((Date.now()-new Date(t.created_at).getTime())/6e4),"m"]})]})]},t.id)}):e.jsxs("div",{className:"w-full h-40 rounded-[32px] border border-dashed border-white/10 flex flex-col items-center justify-center text-slate-600",children:[e.jsx("span",{className:"material-symbols-outlined text-3xl mb-2 opacity-20",children:"cloud_off"}),e.jsx("p",{className:"text-[10px] font-black uppercase tracking-[2px]",children:"Esperando actividad..."})]})}),e.jsx("div",{className:"absolute inset-y-0 left-0 w-20 bg-gradient-to-r from-[#0a0c0b]/50 to-transparent pointer-events-none opacity-0 group-hover/feed:opacity-100 transition-opacity"}),e.jsx("div",{className:"absolute inset-y-0 right-0 w-20 bg-gradient-to-l from-[#0a0c0b]/50 to-transparent pointer-events-none opacity-0 group-hover/feed:opacity-100 transition-opacity"})]})]})]})]},"branding")]}),e.jsxs(T,{children:[Oe&&e.jsx("div",{className:"fixed inset-0 z-[100] flex items-center justify-center p-4 bg-black/80 backdrop-blur-xl",children:e.jsxs(x.div,{initial:{opacity:0,scale:.9,y:20},animate:{opacity:1,scale:1,y:0},exit:{opacity:0,scale:.9,y:20},className:"w-full max-w-md bg-slate-900 border border-white/10 rounded-2xl shadow-2xl overflow-hidden",children:[e.jsxs("div",{className:"flex items-center justify-between p-7 border-b border-white/5",children:[e.jsxs("div",{children:[e.jsx("h3",{className:"text-xl font-black text-white uppercase tracking-tighter",children:"Crear Evento"}),e.jsx("p",{className:"text-xs text-slate-500 mt-1 uppercase tracking-widest font-bold",children:"Nueva instancia"})]}),e.jsx("button",{onClick:()=>re(!1),className:"size-10 flex items-center justify-center rounded-xl bg-slate-800 text-slate-500 hover:text-white transition-all",children:e.jsx(B,{className:"w-5 h-5"})})]}),e.jsxs("form",{onSubmit:Ke,className:"p-7 space-y-6",children:[e.jsxs("div",{className:"space-y-4",children:[e.jsxs("div",{children:[e.jsx("label",{className:"text-[10px] font-black uppercase tracking-[2px] text-slate-500 mb-2 block",children:"Nombre del Evento"}),e.jsx("input",{required:!0,type:"text",placeholder:"Nombre comercial",className:"w-full bg-[#0a0a0b] border border-white/10 rounded-xl px-5 py-4 text-white focus:border-[#135bec] outline-none transition-all placeholder:text-slate-800",value:p.name,onChange:t=>C({...p,name:t.target.value})})]}),e.jsxs("div",{children:[e.jsx("label",{className:"text-[10px] font-black uppercase tracking-[2px] text-slate-500 mb-2 block",children:"Email del Cliente (AsignaciÃ³n)"}),e.jsxs("div",{className:"relative",children:[e.jsx(at,{className:"absolute left-4 top-1/2 -translate-y-1/2 text-slate-700 size-4"}),e.jsx("input",{required:!0,type:"email",placeholder:"cliente@ejemplo.com",className:"w-full bg-[#0a0a0b] border border-white/10 rounded-xl pl-11 pr-5 py-4 text-white focus:border-[#135bec] outline-none transition-all placeholder:text-slate-800 text-xs",value:p.client_email,onChange:t=>C({...p,client_email:t.target.value.toLowerCase()})})]})]}),e.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[e.jsxs("div",{children:[e.jsx("label",{className:"text-[10px] font-black uppercase tracking-[2px] text-slate-500 mb-2 block",children:"Personalizado"}),e.jsx("input",{type:"text",placeholder:"slug",className:"w-full bg-[#0a0a0b] border border-white/10 rounded-xl px-4 py-3 text-white focus:border-[#135bec] outline-none transition-all text-xs font-mono",value:p.slug,onChange:t=>C({...p,slug:t.target.value.toLowerCase().replace(/\s+/g,"-")})})]}),e.jsxs("div",{children:[e.jsx("label",{className:"text-[10px] font-black uppercase tracking-[2px] text-slate-500 mb-2 block",children:"CrÃ©ditos"}),e.jsxs("div",{className:"relative",children:[e.jsx(pe,{className:"absolute left-4 top-1/2 -translate-y-1/2 text-[#135bec] size-4"}),e.jsx("input",{required:!0,type:"number",className:"w-full bg-[#0a0a0b] border border-white/10 rounded-xl pl-11 pr-5 py-3 text-white focus:border-[#135bec] outline-none transition-all text-xs font-bold",value:p.credits,onChange:t=>C({...p,credits:Number(t.target.value)})})]})]})]}),e.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[e.jsxs("div",{children:[e.jsx("label",{className:"text-[10px] font-black uppercase tracking-[2px] text-slate-500 mb-2 block",children:"Inicio"}),e.jsx("input",{required:!0,type:"date",className:"w-full bg-[#0a0a0b] border border-white/10 rounded-xl px-4 py-3 text-white focus:border-[#135bec] outline-none transition-all text-xs",value:p.start_date,onChange:t=>C({...p,start_date:t.target.value})})]}),e.jsxs("div",{children:[e.jsx("label",{className:"text-[10px] font-black uppercase tracking-[2px] text-slate-500 mb-2 block",children:"Fin"}),e.jsx("input",{required:!0,type:"date",className:"w-full bg-[#0a0a0b] border border-white/10 rounded-xl px-4 py-3 text-white focus:border-[#135bec] outline-none transition-all text-xs",value:p.end_date,onChange:t=>C({...p,end_date:t.target.value})})]})]}),e.jsxs("div",{className:"p-4 bg-[#135bec]/5 border border-[#135bec]/10 rounded-xl flex items-center gap-4",children:[e.jsx("div",{className:"size-8 rounded-lg bg-[#135bec]/10 flex items-center justify-center text-[#135bec]",children:e.jsx(te,{className:"size-4"})}),e.jsxs("div",{children:[e.jsx("p",{className:"text-[9px] font-bold text-slate-500 uppercase tracking-widest leading-none",children:"VerificaciÃ³n de Balance"}),e.jsxs("p",{className:"text-[11px] text-slate-400 mt-1 leading-tight",children:["Se deducirÃ¡n ",p.credits," crÃ©ditos de tu balance mayorista (",v," disponibles)."]})]})]})]}),e.jsx("button",{disabled:y,type:"submit",className:"w-full py-5 bg-[#135bec] hover:bg-[#135bec]/90 text-white text-[11px] font-black rounded-xl transition-all shadow-xl shadow-[#135bec]/20 uppercase tracking-widest disabled:opacity-50 disabled:cursor-not-allowed group/btn",children:y?"Creando...":e.jsxs("span",{className:"flex items-center justify-center gap-2",children:["Activar Instancia de Evento",e.jsx(A,{className:"size-4 group-hover:scale-110 transition-transform"})]})})]})]})}),h&&e.jsx("div",{className:"fixed inset-0 z-[100] flex items-center justify-center p-4 bg-black/80 backdrop-blur-xl",children:e.jsxs(x.div,{initial:{opacity:0,scale:.9,y:20},animate:{opacity:1,scale:1,y:0},exit:{opacity:0,scale:.9,y:20},className:"w-full max-w-md bg-slate-900 border border-white/10 rounded-2xl shadow-2xl overflow-hidden",children:[e.jsxs("div",{className:"flex items-center justify-between p-7 border-b border-white/5",children:[e.jsxs("div",{children:[e.jsx("h3",{className:"text-xl font-black text-white uppercase tracking-tighter",children:"Editar Evento"}),e.jsx("p",{className:"text-xs text-slate-500 mt-1 uppercase tracking-widest font-bold",children:"Modificar parÃ¡metros"})]}),e.jsx("button",{onClick:()=>_(null),className:"size-10 flex items-center justify-center rounded-xl bg-slate-800 text-slate-500 hover:text-white transition-all",children:e.jsx(B,{className:"w-5 h-5"})})]}),e.jsxs("div",{className:"p-7 space-y-6",children:[e.jsxs("div",{className:"space-y-4",children:[e.jsxs("div",{children:[e.jsx("label",{className:"text-[10px] font-black uppercase tracking-[2px] text-slate-500 mb-2 block",children:"Nombre del Evento"}),e.jsx("input",{required:!0,type:"text",className:"w-full bg-[#0a0a0b] border border-white/10 rounded-xl px-5 py-4 text-white focus:border-[#135bec] outline-none transition-all placeholder:text-slate-800",value:h.event_name,onChange:t=>_({...h,event_name:t.target.value})})]}),e.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[e.jsxs("div",{children:[e.jsx("label",{className:"text-[10px] font-black uppercase tracking-[2px] text-slate-500 mb-2 block",children:"Inicio"}),e.jsx("input",{required:!0,type:"date",className:"w-full bg-[#0a0a0b] border border-white/10 rounded-xl px-4 py-3 text-white focus:border-[#135bec] outline-none transition-all text-xs",value:new Date(h.start_date).toISOString().split("T")[0],onChange:t=>_({...h,start_date:t.target.value})})]}),e.jsxs("div",{children:[e.jsx("label",{className:"text-[10px] font-black uppercase tracking-[2px] text-slate-500 mb-2 block",children:"Fin"}),e.jsx("input",{required:!0,type:"date",className:"w-full bg-[#0a0a0b] border border-white/10 rounded-xl px-4 py-3 text-white focus:border-[#135bec] outline-none transition-all text-xs",value:new Date(h.end_date).toISOString().split("T")[0],onChange:t=>_({...h,end_date:t.target.value})})]})]}),e.jsxs("div",{className:"flex items-center gap-3 p-4 bg-white/5 rounded-2xl border border-white/5",children:[e.jsx("div",{className:`size-10 rounded-xl flex items-center justify-center ${h.is_active?"bg-emerald-500/10 text-emerald-500":"bg-rose-500/10 text-rose-500"}`,children:e.jsx(A,{className:"size-5"})}),e.jsxs("div",{className:"flex-1",children:[e.jsx("p",{className:"text-[10px] font-black uppercase text-white tracking-widest leading-none",children:"Estado"}),e.jsx("p",{className:"text-[9px] text-slate-500 uppercase mt-1 leading-none",children:h.is_active?"En LÃ­nea":"Inactivo"})]}),e.jsx("button",{onClick:()=>_({...h,is_active:!h.is_active}),className:`px-4 py-2 rounded-xl text-[10px] font-black uppercase transition-all ${h.is_active?"bg-rose-500/10 text-rose-500 hover:bg-rose-500 hover:text-white":"bg-emerald-500/10 text-emerald-500 hover:bg-emerald-500 hover:text-white"}`,children:h.is_active?"Pausar":"Activar"})]})]}),e.jsx("button",{disabled:y,onClick:async()=>{try{f(!0);const{error:t}=await d.from("events").update({event_name:h.event_name,start_date:new Date(h.start_date).toISOString(),end_date:new Date(h.end_date).toISOString(),is_active:h.is_active}).eq("id",h.id);if(t)throw t;c("Evento actualizado correctamente"),_(null),R()}catch(t){c("Error al actualizar: "+t.message,"error")}finally{f(!1)}},className:"w-full py-5 bg-[#135bec] hover:bg-[#135bec]/90 text-white text-[11px] font-black rounded-xl transition-all shadow-xl shadow-[#135bec]/20 uppercase tracking-[3px] disabled:opacity-50 disabled:cursor-not-allowed",children:y?"Sincronizando...":"Guardar Cambios"})]})]})}),$&&e.jsx("div",{className:"fixed inset-0 z-[100] flex items-center justify-center p-4 bg-black/80 backdrop-blur-xl",children:e.jsxs(x.div,{initial:{opacity:0,scale:.9,y:20},animate:{opacity:1,scale:1,y:0},exit:{opacity:0,scale:.9,y:20},className:"w-full max-w-sm bg-slate-900 border border-white/10 rounded-2xl shadow-2xl overflow-hidden",children:[e.jsxs("div",{className:"p-7 border-b border-white/5 flex items-center justify-between",children:[e.jsxs("div",{children:[e.jsx("h3",{className:"text-lg font-black text-white uppercase tracking-tighter",children:"Recargar Evento"}),e.jsx("p",{className:"text-[10px] text-slate-500 uppercase font-bold mt-1",children:$.event_name})]}),e.jsx("button",{onClick:()=>le(null),className:"size-8 flex items-center justify-center rounded-lg bg-slate-800 text-slate-500 hover:text-white transition-all",children:e.jsx(B,{className:"w-4 h-4"})})]}),e.jsxs("div",{className:"p-7 space-y-6",children:[e.jsxs("div",{children:[e.jsx("label",{className:"text-[10px] font-black uppercase tracking-[2px] text-slate-500 mb-2 block",children:"Cantidad de CrÃ©ditos"}),e.jsxs("div",{className:"relative",children:[e.jsx(pe,{className:"absolute left-4 top-1/2 -translate-y-1/2 text-emerald-500 size-4"}),e.jsx("input",{type:"number",className:"w-full bg-[#0a0a0b] border border-white/10 rounded-xl pl-11 pr-5 py-4 text-white focus:border-emerald-500 outline-none transition-all font-bold text-center text-xl",value:V,onChange:t=>Ge(Number(t.target.value))})]}),e.jsxs("p",{className:"text-[9px] text-slate-500 mt-3 text-center uppercase tracking-widest",children:["Disponibles: ",e.jsx("span",{className:"text-white",children:v.toLocaleString()})]})]}),e.jsx("button",{disabled:y||V<=0||V>v,onClick:Xe,className:"w-full py-5 bg-emerald-500 hover:bg-emerald-400 text-[#071121] text-[11px] font-black rounded-xl transition-all shadow-xl shadow-emerald-500/20 uppercase tracking-[3px] disabled:opacity-30 disabled:grayscale",children:y?"Procesando...":"Confirmar Transferencia"})]})]})})]}),e.jsx(T,{children:I.type&&e.jsx(x.div,{initial:{opacity:0,y:50,scale:.9},animate:{opacity:1,y:0,scale:1},exit:{opacity:0,scale:.9},className:"fixed bottom-8 right-8 z-[100]",children:e.jsxs("div",{className:`px-6 py-4 rounded-2xl shadow-2xl flex items-center gap-4 backdrop-blur-xl border ${I.type==="error"?"bg-rose-500/20 border-rose-500/30 text-rose-500":I.type==="info"?"bg-[#135bec]/20 border-[#135bec]/30 text-[#135bec]":"bg-[#13ec80]/20 border-[#13ec80]/30 text-[#13ec80]"}`,children:[I.type==="error"?e.jsx(ne,{className:"size-5"}):I.type==="info"?e.jsx(xe,{className:"size-5"}):e.jsx(te,{className:"size-5"}),e.jsx("p",{className:"text-xs font-black uppercase tracking-widest",children:I.message})]})})}),e.jsx(T,{children:Z&&e.jsx("div",{className:"fixed inset-0 z-[100] flex items-center justify-center p-4 bg-black/80 backdrop-blur-xl",children:e.jsxs(x.div,{initial:{opacity:0,scale:.9,y:20},animate:{opacity:1,scale:1,y:0},exit:{opacity:0,scale:.9,y:20},className:"w-full max-w-md bg-slate-900 border border-white/10 rounded-2xl shadow-2xl overflow-hidden",children:[e.jsxs("div",{className:"p-8 text-center",children:[e.jsx("div",{className:"size-20 bg-rose-500/10 rounded-full flex items-center justify-center mx-auto mb-6 border border-rose-500/20",children:e.jsx(ne,{className:"size-10 text-rose-500"})}),e.jsx("h3",{className:"text-2xl font-black text-white uppercase tracking-tighter mb-2",children:"Â¿Eliminar Evento?"}),e.jsxs("p",{className:"text-slate-400 text-sm leading-relaxed",children:["Esta acciÃ³n es permanente. Se eliminarÃ¡ el evento ",e.jsxs("span",{className:"text-white font-bold",children:['"',Z.name,'"']})," y todos sus datos asociados."]})]}),e.jsxs("div",{className:"flex border-t border-white/5 p-4 bg-slate-950/50 gap-3",children:[e.jsx("button",{onClick:()=>ie(null),className:"flex-1 py-4 bg-slate-800 hover:bg-slate-700 text-slate-300 text-[10px] font-black rounded-xl transition-all uppercase tracking-[2px]",children:"Cancelar"}),e.jsx("button",{onClick:Qe,className:"flex-1 py-4 bg-rose-500 hover:bg-rose-600 text-white text-[10px] font-black rounded-xl transition-all shadow-lg shadow-rose-500/20 uppercase tracking-[2px]",children:"Confirmar Baja"})]})]})})}),e.jsx(T,{children:Ze&&e.jsxs("div",{className:"fixed inset-0 z-[100] flex items-center justify-center p-4 md:p-8",children:[e.jsx(x.div,{initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},onClick:()=>J(!1),className:"absolute inset-0 bg-slate-950/80 backdrop-blur-md"}),e.jsxs(x.div,{initial:{scale:.9,opacity:0,y:30},animate:{scale:1,opacity:1,y:0},exit:{scale:.9,opacity:0,y:30},className:"relative w-full max-w-5xl glass-card rounded-[48px] overflow-hidden bg-gradient-to-br from-slate-900/40 to-slate-950/40 border border-white/5 shadow-[0_32px_100px_rgba(0,0,0,0.8)]",children:[e.jsxs("div",{className:"p-10 pb-4 flex justify-between items-start",children:[e.jsxs("div",{className:"space-y-1",children:[e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx("div",{className:"p-2.5 bg-[#135bec]/10 border border-[#135bec]/20 rounded-xl",children:e.jsx(me,{className:"size-5 text-[#135bec]"})}),e.jsx("h2",{className:"text-3xl font-black text-white uppercase tracking-tighter",children:"Cargar EnergÃ­a AI"})]}),e.jsx("p",{className:"text-slate-500 text-[10px] font-black uppercase tracking-[3px] mt-2",children:"Selecciona un pack de crÃ©ditos para continuar operando"})]}),e.jsx("button",{onClick:()=>J(!1),className:"p-4 hover:bg-white/5 rounded-full text-slate-500 transition-colors group",children:e.jsx(B,{className:"size-6 group-hover:rotate-90 transition-transform duration-300"})})]}),e.jsx("div",{className:"p-10 grid grid-cols-1 md:grid-cols-3 gap-8",children:[{qty:5e3,label:"Pack Inicial",price:3e4,color:"from-blue-600/10 to-transparent",border:"border-blue-500/20"},{qty:1e4,label:"Pack Pro",price:6e4,color:"from-[#135bec]/20 to-[#135bec]/5",border:"border-[#135bec]/40",featured:!0},{qty:2e4,label:"Pack Elite",price:12e4,color:"from-purple-600/10 to-transparent",border:"border-purple-500/20"}].map((t,s)=>e.jsxs(x.button,{disabled:O,whileHover:O?{}:{scale:1.02,y:-8},whileTap:O?{}:{scale:.98},onClick:()=>Ye(t),className:`relative group p-10 rounded-[40px] border ${t.border} bg-gradient-to-br ${t.color} backdrop-blur-3xl flex flex-col text-left transition-all overflow-hidden h-full ${O?"opacity-50 cursor-not-allowed":""}`,children:[t.featured&&e.jsx("div",{className:"absolute top-0 right-0 px-6 py-2 bg-[#135bec] text-white text-[9px] font-black uppercase tracking-widest rounded-bl-2xl shadow-lg animate-pulse",children:"Popular"}),e.jsxs("div",{className:"mb-12",children:[e.jsx("p",{className:"text-white/40 text-[10px] font-black uppercase tracking-[2px] mb-2",children:t.label}),e.jsxs("h3",{className:"text-5xl font-black text-white flex items-baseline gap-2",children:[t.qty.toLocaleString(),e.jsx("span",{className:"text-sm text-white/20 font-medium uppercase tracking-[3px]",children:"Cds"})]})]}),e.jsxs("div",{className:"mt-auto pt-10 border-t border-white/5 flex items-end justify-between",children:[e.jsxs("div",{className:"space-y-1",children:[e.jsx("p",{className:"text-white/20 text-[9px] font-black uppercase tracking-widest",children:"InversiÃ³n"}),e.jsxs("h4",{className:"text-3xl font-black text-white tracking-tighter",children:["$",t.price.toLocaleString()," ",e.jsx("span",{className:"text-xs text-white/30 font-medium uppercase tracking-widest ml-1",children:"Ars"})]})]}),e.jsx("div",{className:"size-14 bg-white/5 border border-white/10 rounded-2xl flex items-center justify-center group-hover:bg-white text-white group-hover:text-black transition-all shadow-xl",children:O?e.jsx("div",{className:"size-5 border-2 border-current border-t-transparent rounded-full animate-spin"}):e.jsx(mt,{className:"size-6"})})]}),e.jsx("div",{className:"absolute -bottom-10 -right-10 size-40 bg-white/5 rounded-full blur-[80px] group-hover:bg-white/10 transition-all opacity-0 group-hover:opacity-100"}),e.jsx("div",{className:"absolute top-0 left-0 w-full h-1 bg-gradient-to-r from-transparent via-white/10 to-transparent opacity-0 group-hover:opacity-100 transition-opacity"})]},s))}),e.jsxs("div",{className:"p-10 pt-0 flex flex-col items-center",children:[e.jsxs("div",{className:"flex items-center gap-8 opacity-40 hover:opacity-100 transition-all duration-500 grayscale hover:grayscale-0",children:[e.jsx("img",{src:"https://logodownload.org/wp-content/uploads/2019/06/mercado-pago-logo.png",className:"h-5",alt:"Mercado Pago"}),e.jsx("div",{className:"w-px h-6 bg-white/10"}),e.jsxs("div",{className:"flex gap-4",children:[e.jsx("img",{src:"https://upload.wikimedia.org/wikipedia/commons/thumb/d/d6/Visa_2021.svg/512px-Visa_2021.svg.png",className:"h-3.5",alt:"Visa"}),e.jsx("img",{src:"https://upload.wikimedia.org/wikipedia/commons/thumb/2/2a/Mastercard-logo.svg/1280px-Mastercard-logo.svg.png",className:"h-5",alt:"Mastercard"})]})]}),e.jsxs("p",{className:"text-[9px] text-slate-600 font-black uppercase tracking-[3px] mt-8 flex items-center gap-3",children:[e.jsx(Q,{className:"size-4 text-emerald-500/50"}),"Transacciones encriptadas y aseguradas por Mercado Pago Gateway"]})]})]})]})})]})};export{St as PartnerDashboard};
