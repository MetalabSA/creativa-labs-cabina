import{c as u,r,s as h,j as e,C as ge,S as $,i as fe,P as be,k as J}from"./DashboardApp-pSbKRTBw.js";import{C as ve,Q as we,b as X}from"./index-p6Oyk00P.js";import{I as Y,m as l,M as je,A}from"./constants-CalWwTGQ.js";import{a as Ne,U as ye,P as W,E as ke,T as _e,b as Ce,C as Se,J as Ee}from"./jszip.min-BrSNafA8.js";import{D as K,Z as Pe,X as ee}from"./zap-sEK5Wo-9.js";/**
 * @license lucide-react v0.554.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Me=[["path",{d:"M12 6v6l4 2",key:"mmk7yg"}],["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}]],ze=u("clock",Me);/**
 * @license lucide-react v0.554.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Le=[["rect",{width:"18",height:"18",x:"3",y:"3",rx:"2",ry:"2",key:"1m3agn"}],["circle",{cx:"9",cy:"9",r:"2",key:"af1f0g"}],["path",{d:"m21 15-3.086-3.086a2 2 0 0 0-2.828 0L6 21",key:"1xmnt7"}]],te=u("image",Le);/**
 * @license lucide-react v0.554.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const De=[["path",{d:"M10 13a5 5 0 0 0 7.54.54l3-3a5 5 0 0 0-7.07-7.07l-1.72 1.71",key:"1cjeqo"}],["path",{d:"M14 11a5 5 0 0 0-7.54-.54l-3 3a5 5 0 0 0 7.07 7.07l1.71-1.71",key:"19qd67"}]],$e=u("link",De);/**
 * @license lucide-react v0.554.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ae=[["path",{d:"M8 3H5a2 2 0 0 0-2 2v3",key:"1dcmit"}],["path",{d:"M21 8V5a2 2 0 0 0-2-2h-3",key:"1e4gt3"}],["path",{d:"M3 16v3a2 2 0 0 0 2 2h3",key:"wsl5sc"}],["path",{d:"M16 21h3a2 2 0 0 0 2-2v-3",key:"18trek"}]],Te=u("maximize",Ae);/**
 * @license lucide-react v0.554.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ie=[["path",{d:"M15.2 3a2 2 0 0 1 1.4.6l3.8 3.8a2 2 0 0 1 .6 1.4V19a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2z",key:"1c8476"}],["path",{d:"M17 21v-7a1 1 0 0 0-1-1H8a1 1 0 0 0-1 1v7",key:"1ydtos"}],["path",{d:"M7 3v4a1 1 0 0 0 1 1h7",key:"t51u73"}]],se=u("save",Ie);/**
 * @license lucide-react v0.554.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ue=[["path",{d:"M10 14.66v1.626a2 2 0 0 1-.976 1.696A5 5 0 0 0 7 21.978",key:"1n3hpd"}],["path",{d:"M14 14.66v1.626a2 2 0 0 0 .976 1.696A5 5 0 0 1 17 21.978",key:"rfe1zi"}],["path",{d:"M18 9h1.5a1 1 0 0 0 0-5H18",key:"7xy6bh"}],["path",{d:"M4 22h16",key:"57wxv0"}],["path",{d:"M6 9a6 6 0 0 0 12 0V3a1 1 0 0 0-1-1H7a1 1 0 0 0-1 1z",key:"1mhfuq"}],["path",{d:"M6 9H4.5a1 1 0 0 1 0-5H6",key:"tex48p"}]],qe=u("trophy",Ue);/**
 * @license lucide-react v0.554.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const He=[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["path",{d:"M16 3.128a4 4 0 0 1 0 7.744",key:"16gr8j"}],["path",{d:"M22 21v-2a4 4 0 0 0-3-3.87",key:"kshegd"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}]],ae=u("users",He),Ze=({user:Ge,profile:j,onBack:T})=>{const[i,I]=r.useState(null),[re,U]=r.useState(!0),[N,g]=r.useState(!1),[o,q]=r.useState([]),[H,G]=r.useState(!1),[le,R]=r.useState(null),[_,O]=r.useState(!1),[C,ie]=r.useState(0),[y,B]=r.useState({message:"",type:null}),[c,f]=r.useState({primary_color:"#7f13ec",welcome_text:"Â¡Bienvenidos a la celebraciÃ³n!",radius:"12px"}),[w,oe]=r.useState(null),[S,E]=r.useState(""),[F,V]=r.useState(""),[b,P]=r.useState([]);r.useEffect(()=>{Z()},[j.email]);const p=(t,s="success")=>{B({message:t,type:s}),setTimeout(()=>B({message:"",type:null}),3e3)},Z=async()=>{var t,s;try{U(!0);const{data:a,error:d}=await h.from("events").select("*, partner:partners(*)").ilike("client_email",j.email.toLowerCase()).maybeSingle();if(a){I(a),E(a.event_name),V(a.start_date?a.start_date.split("T")[0]:""),P(a.selected_styles||[]);const x={...(t=a.partner)==null?void 0:t.config,...a.config};f({primary_color:x.primary_color||"#7f13ec",welcome_text:x.welcome_text||"Â¡Bienvenidos!",radius:x.radius||"12px",logo_url:x.logo_url||""}),(s=a.partner)!=null&&s.config&&oe(a.partner.config);const{data:n}=await h.from("generations").select("*").eq("event_id",a.id).order("created_at",{ascending:!1}).limit(20);q(n||[])}}catch(a){console.error("Error fetching event for client:",a)}finally{U(!1)}},ne=async()=>{if(o.length!==0)try{G(!0);const t=new Ee,s=t.folder(`fotos-${i==null?void 0:i.event_slug}`),a=o.map(async(m,D)=>{try{const ue=await(await fetch(m.image_url)).blob();s==null||s.file(`generacion-${D+1}.jpg`,ue)}catch(Q){console.error("Error downloading photo:",Q)}});await Promise.all(a);const d=await t.generateAsync({type:"blob"}),x=window.URL.createObjectURL(d),n=document.createElement("a");n.href=x,n.download=`event-photos-${i==null?void 0:i.event_slug}.zip`,n.click(),p("Â¡Descarga iniciada con Ã©xito! ðŸ“¦")}catch(t){console.error("Error generating ZIP:",t),p("Error al generar el archivo ZIP","error")}finally{G(!1)}},ce=async t=>{if(confirm("Â¿EstÃ¡s seguro de eliminar esta foto? Esta acciÃ³n no se puede deshacer."))try{R(t);const{error:s}=await h.from("generations").delete().eq("id",t);if(s)throw s;q(o.filter(a=>a.id!==t)),p("Foto eliminada correctamente")}catch(s){p("Error al eliminar: "+s.message,"error")}finally{R(null)}};r.useEffect(()=>{let t;return _&&o.length>0&&(t=setInterval(()=>{ie(s=>(s+1)%o.length)},5e3)),()=>clearInterval(t)},[_,o.length]);const de=async()=>{if(i)try{g(!0);const{error:t}=await h.from("events").update({event_name:S,start_date:F,config:c,selected_styles:b}).eq("id",i.id);if(t)throw t;p("Â¡ConfiguraciÃ³n guardada con Ã©xito! âœ¨")}catch(t){console.error("Error saving:",t),p(t.message||"Error al guardar los cambios.","error")}finally{g(!1)}},xe=async t=>{if(!t.target.files||t.target.files.length===0)return;const s=t.target.files[0],a=s.name.split(".").pop(),d=`event-logo-${i==null?void 0:i.id}-${Date.now()}.${a}`;try{g(!0);const{data:x,error:n}=await h.storage.from("logos").upload(d,s);if(n){const{error:m}=await h.storage.from("public").upload(`logos/${d}`,s);if(m)throw m;const{data:D}=h.storage.from("public").getPublicUrl(`logos/${d}`);f({...c,logo_url:D.publicUrl})}else{const{data:m}=h.storage.from("logos").getPublicUrl(d);f({...c,logo_url:m.publicUrl})}}catch(x){console.error("Upload error:",x),alert("Error al subir el logo")}finally{g(!1)}},he=async()=>{try{g(!0);const t=`boda-${Date.now().toString().slice(-4)}`,{data:s,error:a}=await h.from("events").insert({client_email:j.email.toLowerCase(),event_slug:t,event_name:"Mi CelebraciÃ³n",is_active:!0,credits_allocated:50,config:{primary_color:"#7f13ec",welcome_text:"Â¡Bienvenidos!"}}).select().single();if(a)throw a;s&&(I(s),E(s.event_name),Z())}catch(t){console.error("Error creating event:",t),alert("Error al inicializar evento: "+(t.message||t.error_description||"Permisos insuficientes"))}finally{g(!1)}};if(re)return e.jsx("div",{className:"text-white p-10 flex justify-center items-center h-screen bg-[#0a0a0a]",children:e.jsx("div",{className:"animate-spin rounded-full h-8 w-8 border-t-2 border-[#7f13ec]"})});if(!i)return e.jsxs("div",{className:"text-white min-h-screen flex flex-col items-center justify-center bg-[#0a0a0a] p-6 text-center gap-6",children:[e.jsx("div",{className:"w-16 h-16 bg-[#7f13ec]/20 rounded-full flex items-center justify-center text-[#7f13ec] mb-2",children:e.jsx("span",{className:"material-symbols-outlined text-3xl",children:"event_busy"})}),e.jsx("h2",{className:"text-2xl font-bold",children:"No hay evento activo"}),e.jsxs("p",{className:"text-slate-400 max-w-md",children:["No encontramos un evento vinculado a ",e.jsx("strong",{children:j.email}),". Si eres un nuevo cliente, puedes inicializar tu panel ahora."]}),e.jsx("button",{onClick:he,disabled:N,className:"bg-[#7f13ec] hover:bg-[#690cc4] text-white px-8 py-3 rounded-full font-bold transition-all flex items-center gap-2",children:N?"Creando...":"Inicializar Evento"}),e.jsx("button",{onClick:()=>window.location.reload(),className:"text-slate-500 hover:text-white text-sm underline",children:"Reintentar"})]});const v=`https://kiosk.metalabia.com/?event=${i.event_slug}`,M=i.credits_used||0,z=i.credits_allocated||500,k=Math.min(100,Math.round(M/z*100)),me=r.useMemo(()=>Array.from(new Set(Y.map(s=>s.subCategory))).map(s=>{const a=Y.find(d=>d.subCategory===s);return{id:s,name:s,thumbnail:(a==null?void 0:a.url)||"",category:(a==null?void 0:a.category)||"General"}}),[]),pe=t=>{b.includes(t)?P(b.filter(s=>s!==t)):P([...b,t])},L=r.useMemo(()=>{const t=o.length,s=new Set(o.map(n=>n.user_id)).size,a={};o.forEach(n=>{a[n.style_id]=(a[n.style_id]||0)+1});const d=Object.entries(a).sort((n,m)=>m[1]-n[1])[0],x=d?d[0]:"Ninguno";return{totalPhotos:t,uniqueUsers:s||"--",topStyle:x}},[o]);return e.jsxs("div",{className:"bg-[#0f172a] text-slate-100 min-h-screen font-sans selection:bg-[#7f13ec]/30 overflow-x-hidden",children:[e.jsx("header",{className:"border-b border-white/5 bg-[#0f172a]/80 backdrop-blur-xl sticky top-0 z-50",children:e.jsxs("div",{className:"max-w-7xl mx-auto px-6 h-20 flex items-center justify-between",children:[e.jsxs("div",{className:"flex items-center gap-4",children:[T&&e.jsx("button",{onClick:T,className:"p-2.5 rounded-xl bg-white/5 hover:bg-[#7f13ec]/20 border border-white/10 hover:border-[#7f13ec]/30 text-slate-400 hover:text-[#7f13ec] transition-all group/back mr-2",title:"Volver al Panel Partner",children:e.jsx(ge,{className:"size-5 group-hover/back:-translate-x-1 transition-transform"})}),e.jsxs("div",{className:"relative group",children:[e.jsx("div",{className:"absolute -inset-1 bg-gradient-to-r from-[#7f13ec] to-[#ec4899] rounded-xl blur opacity-25 group-hover:opacity-50 transition duration-1000 group-hover:duration-200"}),e.jsx("div",{className:"relative bg-[#0f172a] p-2.5 rounded-xl border border-white/10 shadow-2xl",children:c.logo_url?e.jsx("img",{src:c.logo_url,alt:"Logo",className:"h-7 w-auto object-contain"}):e.jsx($,{className:"w-6 h-6 text-[#7f13ec]"})})]}),e.jsxs("div",{children:[e.jsxs("h1",{className:"text-lg font-bold tracking-tight text-white flex items-center gap-2",children:[i.event_name,e.jsx("span",{className:"px-2 py-0.5 rounded-full bg-[#7f13ec]/20 text-[#7f13ec] text-[10px] uppercase font-black border border-[#7f13ec]/30 shadow-[0_0_15px_rgba(127,19,236,0.2)]",children:"Panel de AnfitriÃ³n"})]}),w&&e.jsxs("p",{className:"text-[10px] text-slate-500 font-medium tracking-wide",children:["PROVISTO POR ",e.jsx("span",{className:"text-slate-300 font-bold",children:w.name||"PARTNER OFICIAL"})]})]})]}),e.jsxs("div",{className:"flex items-center gap-6",children:[e.jsxs("div",{className:"hidden md:flex items-center gap-2 px-4 py-2 bg-emerald-500/10 border border-emerald-500/20 rounded-full shadow-inner",children:[e.jsxs("div",{className:"relative flex h-2 w-2",children:[e.jsx("span",{className:"animate-ping absolute inline-flex h-full w-full rounded-full bg-emerald-400 opacity-75"}),e.jsx("span",{className:"relative inline-flex rounded-full h-2 w-2 bg-emerald-500"})]}),e.jsx("span",{className:"text-[10px] font-bold text-emerald-500 uppercase tracking-[0.1em]",children:"Evento Activo"})]}),e.jsx("div",{className:"h-10 w-10 rounded-xl bg-gradient-to-br from-[#1e293b] to-[#0f172a] border border-white/10 flex items-center justify-center shadow-lg group hover:border-[#7f13ec]/50 transition-all cursor-pointer",children:e.jsx(ae,{className:"w-5 h-5 text-slate-400 group-hover:text-white transition-colors"})})]})]})}),e.jsxs("main",{className:"max-w-7xl mx-auto px-6 py-10",children:[e.jsxs("div",{className:"mb-12 flex flex-col md:flex-row md:items-end justify-between gap-6",children:[e.jsxs(l.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},className:"space-y-2",children:[e.jsx("h2",{className:"text-4xl lg:text-5xl font-black tracking-tight text-transparent bg-clip-text bg-gradient-to-r from-white via-white to-slate-500",children:"GestiÃ³n de AnfitriÃ³n"}),e.jsxs("p",{className:"text-slate-400 text-lg flex items-center gap-2",children:["Personaliza la experiencia para tus invitados",e.jsx(se,{className:"w-4 h-4 text-[#7f13ec]"})]})]}),e.jsxs(l.button,{whileHover:{scale:1.02},whileTap:{scale:.98},onClick:de,disabled:N,className:"group relative px-8 py-4 bg-[#7f13ec] text-white rounded-2xl font-bold flex items-center gap-3 overflow-hidden transition-all shadow-2xl shadow-[#7f13ec]/30 hover:shadow-[#7f13ec]/50 disabled:opacity-50",children:[e.jsx("div",{className:"absolute inset-0 bg-gradient-to-r from-transparent via-white/20 to-transparent -translate-x-full group-hover:animate-shimmer duration-1000"}),N?e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx("div",{className:"animate-spin rounded-full h-4 w-4 border-2 border-white/20 border-t-white"}),e.jsx("span",{children:"Guardando..."})]}):e.jsxs(e.Fragment,{children:[e.jsx(se,{className:"w-5 h-5"}),e.jsx("span",{children:"Guardar Cambios"})]})]})]}),e.jsxs("div",{className:"grid grid-cols-12 gap-8",children:[e.jsxs("div",{className:"col-span-12 lg:col-span-8 space-y-8",children:[e.jsxs("section",{className:"group bg-white/[0.03] border border-white/10 rounded-3xl p-8 backdrop-blur-sm hover:border-[#7f13ec]/30 transition-all duration-500",children:[e.jsxs("div",{className:"flex items-center gap-4 mb-8",children:[e.jsx("div",{className:"p-3 bg-[#7f13ec]/10 rounded-2xl border border-[#7f13ec]/20 group-hover:scale-110 transition-transform",children:e.jsx(fe,{className:"w-6 h-6 text-[#7f13ec]"})}),e.jsxs("div",{children:[e.jsx("h3",{className:"text-xl font-bold text-white tracking-tight",children:"ConfiguraciÃ³n General"}),e.jsx("p",{className:"text-xs text-slate-500 font-medium uppercase tracking-widest mt-0.5",children:"Paso 01 â€” Datos del Evento"})]})]}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-8",children:[e.jsxs("div",{className:"space-y-3",children:[e.jsx("label",{className:"text-xs font-bold text-slate-400 uppercase tracking-widest",children:"Nombre del Evento"}),e.jsxs("div",{className:"relative group/input",children:[e.jsx("div",{className:"absolute inset-0 bg-[#7f13ec]/20 rounded-xl blur opacity-0 group-focus-within/input:opacity-100 transition-opacity"}),e.jsx("input",{className:"relative w-full bg-[#0f172a] border border-white/10 rounded-2xl px-5 py-4 focus:ring-1 focus:ring-[#7f13ec] focus:border-[#7f13ec]/50 text-white outline-none transition-all placeholder:text-slate-600",type:"text",placeholder:"Ej: Boda de Lucas & Martina",value:S,onChange:t=>E(t.target.value)})]})]}),e.jsxs("div",{className:"space-y-3",children:[e.jsx("label",{className:"text-xs font-bold text-slate-400 uppercase tracking-widest",children:"Fecha del Evento"}),e.jsx("div",{className:"relative",children:e.jsx("input",{className:"w-full bg-[#0f172a] border border-white/10 rounded-2xl px-5 py-4 focus:ring-1 focus:ring-[#7f13ec] focus:border-[#7f13ec]/50 text-white outline-none transition-all",type:"date",value:F,onChange:t=>V(t.target.value)})})]}),e.jsxs("div",{className:"col-span-full space-y-3",children:[e.jsxs("label",{className:"text-xs font-bold text-slate-400 uppercase tracking-widest flex justify-between",children:["Mensaje de Bienvenida",e.jsx("span",{className:"text-[#7f13ec]/60 font-medium normal-case",children:"Se muestra al iniciar la cÃ¡mara"})]}),e.jsx("textarea",{className:"w-full bg-[#0f172a] border border-white/10 rounded-2xl px-5 py-4 focus:ring-1 focus:ring-[#7f13ec] focus:border-[#7f13ec]/50 text-white outline-none transition-all",rows:3,placeholder:"Â¡Bienvenidos a nuestra fiesta! Hazte una foto mÃ¡gica...",value:c.welcome_text,onChange:t=>f({...c,welcome_text:t.target.value})})]})]})]}),e.jsxs("section",{className:"bg-white/[0.03] border border-white/10 rounded-3xl p-8 backdrop-blur-sm group hover:border-[#7f13ec]/30 transition-all duration-500",children:[e.jsxs("div",{className:"flex items-center gap-4 mb-8",children:[e.jsx("div",{className:"p-3 bg-[#7f13ec]/10 rounded-2xl border border-[#7f13ec]/20 group-hover:scale-110 transition-transform",children:e.jsx(be,{className:"w-6 h-6 text-[#7f13ec]"})}),e.jsxs("div",{children:[e.jsx("h3",{className:"text-xl font-bold text-white tracking-tight",children:"Identidad Visual"}),e.jsx("p",{className:"text-xs text-slate-500 font-medium uppercase tracking-widest mt-0.5",children:"Paso 02 â€” Branding del Evento"})]})]}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-10",children:[e.jsxs("div",{className:"space-y-4",children:[e.jsx("p",{className:"text-xs font-bold text-slate-400 uppercase tracking-widest",children:"Logo Personalizado"}),e.jsx(l.div,{whileHover:{borderColor:"rgba(127,19,236,0.5)"},className:"relative group cursor-pointer",onClick:()=>{var t;return(t=document.getElementById("clientLogoInput"))==null?void 0:t.click()},children:e.jsxs("div",{className:"border-2 border-dashed border-white/10 rounded-2xl p-10 flex flex-col items-center justify-center gap-4 bg-[#0f172a]/50 hover:bg-[#7f13ec]/5 transition-all",children:[e.jsx("input",{type:"file",id:"clientLogoInput",className:"hidden",accept:"image/*",onChange:xe}),c.logo_url?e.jsxs("div",{className:"relative",children:[e.jsx("img",{src:c.logo_url,alt:"Logo",className:"h-20 max-w-full object-contain filter drop-shadow-2xl"}),e.jsx("div",{className:"absolute -top-3 -right-3 p-1 bg-white/10 rounded-full backdrop-blur-md opacity-0 group-hover:opacity-100 transition-opacity",children:e.jsx(Ne,{className:"w-4 h-4 text-white"})})]}):e.jsxs(e.Fragment,{children:[e.jsx("div",{className:"w-12 h-12 rounded-full bg-white/5 flex items-center justify-center group-hover:bg-[#7f13ec]/20 transition-colors",children:e.jsx(ye,{className:"w-6 h-6 text-slate-500 group-hover:text-[#7f13ec]"})}),e.jsxs("div",{className:"text-center",children:[e.jsx("p",{className:"text-sm font-bold text-slate-300",children:"Subir Logo"}),e.jsx("p",{className:"text-[10px] text-slate-500 mt-1",children:"PNG o JPG (Max 5MB)"})]})]})]})})]}),e.jsxs("div",{className:"space-y-6",children:[e.jsx("p",{className:"text-xs font-bold text-slate-400 uppercase tracking-widest",children:"Color de Acento"}),e.jsxs("div",{className:"grid grid-cols-5 gap-3",children:[["#7f13ec","#ec4899","#3b82f6","#10b981","#f59e0b"].map(t=>e.jsx("button",{className:`aspect-square rounded-xl border-2 transition-all hover:scale-110 ${c.primary_color===t?"border-white ring-4 ring-[#7f13ec]/20":"border-transparent"}`,style:{backgroundColor:t},onClick:()=>f({...c,primary_color:t})},t)),e.jsxs("div",{className:"relative group",children:[e.jsx("input",{type:"color",className:"opacity-0 absolute inset-0 w-full h-full cursor-pointer z-10",value:c.primary_color,onChange:t=>f({...c,primary_color:t.target.value})}),e.jsx("div",{className:"aspect-square rounded-xl bg-[#0f172a] border border-white/10 flex items-center justify-center group-hover:border-[#7f13ec] transition-colors",children:e.jsx(W,{className:"w-4 h-4 text-slate-500"})})]})]}),e.jsx("p",{className:"text-[11px] text-slate-500 leading-relaxed italic",children:"Este color se aplicarÃ¡ a todos los botones e indicadores que vean tus invitados."})]})]})]}),e.jsxs("section",{className:"bg-white/[0.03] border border-white/10 rounded-3xl p-8 backdrop-blur-sm group hover:border-[#7f13ec]/30 transition-all duration-500",children:[e.jsxs("div",{className:"flex items-center justify-between mb-8",children:[e.jsxs("div",{className:"flex items-center gap-4",children:[e.jsx("div",{className:"p-3 bg-[#7f13ec]/10 rounded-2xl border border-[#7f13ec]/20 group-hover:scale-110 transition-transform",children:e.jsx(te,{className:"w-6 h-6 text-[#7f13ec]"})}),e.jsxs("div",{children:[e.jsx("h3",{className:"text-xl font-bold text-white tracking-tight",children:"GalerÃ­a Live Feed"}),e.jsx("p",{className:"text-xs text-slate-500 font-medium uppercase tracking-widest mt-0.5",children:"Fotos Generadas"})]})]}),e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsxs(l.button,{whileHover:{scale:1.05},whileTap:{scale:.95},onClick:ne,disabled:H||o.length===0,className:"text-xs font-bold text-[#7f13ec] hover:text-[#7f13ec]/80 uppercase tracking-widest flex items-center gap-2 transition-colors disabled:opacity-50",children:[H?"Generando ZIP...":"Descargar Todo"," ",e.jsx(K,{className:"w-4 h-4"})]}),e.jsx("div",{className:"w-px h-4 bg-white/10 mx-1"}),e.jsxs(l.button,{whileHover:{x:5},onClick:()=>window.open(v.replace("kiosk","photobooth"),"_blank"),className:"text-xs font-bold text-slate-400 hover:text-white uppercase tracking-widest flex items-center gap-2 transition-colors",children:["Abrir GalerÃ­a ",e.jsx(ke,{className:"w-4 h-4"})]})]})]}),e.jsx("div",{className:"flex gap-5 overflow-x-auto pb-6 scroll-smooth custom-scrollbar snap-x",children:o.length>0?o.map((t,s)=>e.jsxs(l.div,{initial:{opacity:0,scale:.9},animate:{opacity:1,scale:1},transition:{delay:s*.05},className:"min-w-[180px] group/photo relative aspect-[3/4] rounded-2xl overflow-hidden snap-start border border-white/5 shadow-2xl bg-slate-900",children:[e.jsx("img",{src:t.image_url,alt:"Generation",className:"w-full h-full object-cover transition-transform duration-700 group-hover/photo:scale-110"}),e.jsxs("div",{className:"absolute inset-0 bg-gradient-to-t from-slate-950 via-transparent to-slate-950/40 opacity-0 group-hover/photo:opacity-100 transition-opacity duration-300",children:[e.jsx("div",{className:"absolute top-3 right-3 flex flex-col gap-2",children:e.jsx(l.button,{whileHover:{scale:1.1},whileTap:{scale:.9},onClick:()=>ce(t.id),className:"p-2 bg-red-500/20 hover:bg-red-500 text-red-500 hover:text-white rounded-xl backdrop-blur-md transition-all border border-red-500/20",children:le===t.id?e.jsx("div",{className:"w-4 h-4 border-2 border-white/30 border-t-white rounded-full animate-spin"}):e.jsx(_e,{className:"w-4 h-4"})})}),e.jsx("div",{className:"absolute bottom-4 left-4 right-4 flex items-center justify-between",children:e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx(ze,{className:"w-3 h-3 text-[#7f13ec]"}),e.jsx("p",{className:"text-[10px] text-white font-bold opacity-80 uppercase tracking-tighter",children:new Date(t.created_at).toLocaleTimeString([],{hour:"2-digit",minute:"2-digit"})})]})})]})]},t.id)):e.jsxs("div",{className:"w-full h-64 border-2 border-dashed border-white/5 rounded-3xl flex flex-col items-center justify-center gap-3 bg-[#0f172a]/20",children:[e.jsx("div",{className:"w-12 h-12 rounded-full bg-white/5 flex items-center justify-center",children:e.jsx(te,{className:"w-6 h-6 text-slate-700"})}),e.jsx("p",{className:"text-sm text-slate-600 font-medium italic",children:"Las fotos de tu fiesta aparecerÃ¡n aquÃ­ conforme se generen..."})]})})]}),e.jsxs("section",{className:"bg-white/[0.03] border border-white/10 rounded-3xl p-8 backdrop-blur-sm group hover:border-[#7f13ec]/30 transition-all duration-500",children:[e.jsxs("div",{className:"flex items-center justify-between mb-8",children:[e.jsxs("div",{className:"flex items-center gap-4",children:[e.jsx("div",{className:"p-3 bg-[#7f13ec]/10 rounded-2xl border border-[#7f13ec]/20 group-hover:scale-110 transition-transform",children:e.jsx($,{className:"w-6 h-6 text-[#7f13ec]"})}),e.jsxs("div",{children:[e.jsx("h3",{className:"text-xl font-bold text-white tracking-tight",children:"CuradurÃ­a de Experiencias"}),e.jsx("p",{className:"text-xs text-slate-500 font-medium uppercase tracking-widest mt-0.5",children:"Paso 03 â€” Pack de Estilos IA"})]})]}),e.jsxs("div",{className:"px-3 py-1 bg-[#7f13ec]/10 rounded-full border border-[#7f13ec]/20 text-[10px] font-black text-[#7f13ec] uppercase tracking-widest",children:[b.length," Packs Activos"]})]}),e.jsx("div",{className:"grid grid-cols-2 sm:grid-cols-3 md:grid-cols-4 gap-4",children:me.map(t=>{const s=b.includes(t.id);return e.jsxs(l.div,{whileHover:{y:-4},whileTap:{scale:.98},onClick:()=>pe(t.id),className:`relative aspect-[3/4] rounded-2xl overflow-hidden cursor-pointer border-2 transition-all duration-300 ${s?"border-[#7f13ec] shadow-[0_0_20px_rgba(127,19,236,0.2)]":"border-white/5 hover:border-white/20"}`,children:[e.jsx("img",{src:t.thumbnail,alt:t.name,className:`w-full h-full object-cover transition-transform duration-700 ${s?"scale-110":"grayscale group-hover:grayscale-0"}`}),e.jsx("div",{className:"absolute inset-0 bg-gradient-to-t from-slate-950 via-slate-950/20 to-transparent"}),s&&e.jsx("div",{className:"absolute top-3 right-3 w-6 h-6 bg-[#7f13ec] rounded-full flex items-center justify-center shadow-lg border border-white/20 z-10 animate-in zoom-in duration-300",children:e.jsx(ve,{className:"w-4 h-4 text-white"})}),e.jsxs("div",{className:"absolute bottom-4 left-4 right-4",children:[e.jsx("p",{className:"text-[10px] font-black text-[#7f13ec] uppercase tracking-widest mb-1",children:t.category}),e.jsx("h4",{className:"text-xs font-bold text-white leading-tight",children:t.name})]})]},t.id)})}),e.jsxs("div",{className:"mt-8 p-4 bg-emerald-500/5 border border-emerald-500/10 rounded-2xl flex items-start gap-4",children:[e.jsx("div",{className:"p-2 bg-emerald-500/10 rounded-lg",children:e.jsx(J,{className:"w-4 h-4 text-emerald-500"})}),e.jsxs("div",{children:[e.jsx("p",{className:"text-[11px] font-bold text-emerald-400/80 uppercase tracking-widest",children:"Control de Calidad"}),e.jsx("p",{className:"text-[10px] text-slate-500 mt-1",children:"Solo los packs seleccionados aquÃ­ aparecerÃ¡n en la pantalla de invitados. Recomendamos elegir entre 3 y 5 para una experiencia Ã³ptima."})]})]})]})]}),e.jsxs("div",{className:"col-span-12 lg:col-span-4 space-y-8",children:[e.jsxs("section",{className:"bg-gradient-to-br from-[#1e293b] to-[#0f172a] border border-white/10 rounded-3xl p-8 relative overflow-hidden shadow-2xl",children:[e.jsx("div",{className:"absolute -top-24 -right-24 w-64 h-64 bg-[#7f13ec]/10 blur-[100px] rounded-full pointer-events-none"}),e.jsxs("div",{className:"relative z-10 text-center space-y-6",children:[e.jsxs("div",{className:"flex flex-col items-center gap-1",children:[e.jsx(Pe,{className:"w-8 h-8 text-[#7f13ec] mb-2"}),e.jsx("h3",{className:"text-lg font-bold text-white tracking-tight",children:"Balance de Fotos"}),e.jsx("p",{className:"text-[10px] text-[#7f13ec] font-black uppercase tracking-[0.2em]",children:"CrÃ©ditos de Evento"})]}),e.jsxs("div",{className:"relative flex items-center justify-center py-4",children:[e.jsxs("svg",{className:"w-48 h-48 transform -rotate-[225deg]",children:[e.jsx("circle",{className:"text-white/5",cx:"96",cy:"96",fill:"transparent",r:"82",stroke:"currentColor",strokeWidth:"10",strokeDasharray:"515",strokeLinecap:"round"}),e.jsx(l.circle,{initial:{strokeDashoffset:515},animate:{strokeDashoffset:515-515*(k/100)*.75},transition:{duration:1.5,ease:"easeOut"},className:"text-[#7f13ec]",cx:"96",cy:"96",fill:"transparent",r:"82",stroke:"currentColor",strokeWidth:"10",strokeDasharray:"515",strokeLinecap:"round",filter:"drop-shadow(0 0 8px rgba(127,19,236,0.6))"})]}),e.jsxs("div",{className:"absolute flex flex-col items-center group",children:[e.jsx("span",{className:"text-6xl font-black text-white group-hover:scale-110 transition-transform duration-300",children:M}),e.jsx("div",{className:"bg-white/5 px-3 py-1 rounded-full border border-white/10 mt-1",children:e.jsxs("span",{className:"text-[10px] font-black text-slate-500 uppercase tracking-widest",children:["DE ",z," USADOS"]})})]})]}),e.jsxs("div",{className:"space-y-4 pt-4",children:[e.jsxs("div",{className:"flex justify-between items-end",children:[e.jsxs("div",{className:"text-left",children:[e.jsx("p",{className:"text-[10px] text-slate-500 font-bold uppercase tracking-widest",children:"Disponibles"}),e.jsx("p",{className:"text-xl font-black text-white tracking-tight",children:z-M})]}),e.jsxs("div",{className:"text-right",children:[e.jsx("p",{className:"text-[10px] text-slate-500 font-bold uppercase tracking-widest",children:"Estado"}),e.jsx("p",{className:`text-xs font-bold ${k>90?"text-rose-500":"text-emerald-500"}`,children:k>90?"CrÃ­tico":"Saludable"})]})]}),e.jsx("div",{className:"w-full bg-white/5 h-2.5 rounded-full overflow-hidden border border-white/5",children:e.jsx(l.div,{initial:{width:0},animate:{width:`${k}%`},className:"bg-gradient-to-r from-[#7f13ec] to-[#ec4899] h-full shadow-[0_0_15px_rgba(127,19,236,0.5)]"})}),e.jsxs("button",{onClick:()=>alert(`Para recargar crÃ©ditos, contacta a tu proveedor: ${(w==null?void 0:w.email)||"Partner Creativa Labs"}`),className:"w-full py-4 bg-[#7f13ec]/10 border border-[#7f13ec]/30 text-[#7f13ec] text-xs font-black uppercase tracking-[0.15em] rounded-2xl hover:bg-[#7f13ec] hover:text-white transition-all duration-300 flex items-center justify-center gap-3 overflow-hidden",children:[e.jsx(W,{className:"w-4 h-4"}),"Solicitar Recarga"]})]})]})]}),e.jsxs("section",{className:"bg-white/[0.03] border border-white/10 rounded-3xl p-8 backdrop-blur-sm group hover:border-[#7f13ec]/30 transition-all duration-500",children:[e.jsxs("div",{className:"flex items-center gap-4 mb-8",children:[e.jsx("div",{className:"p-3 bg-[#7f13ec]/10 rounded-2xl border border-[#7f13ec]/20 group-hover:scale-110 transition-transform",children:e.jsx(we,{className:"w-6 h-6 text-[#7f13ec]"})}),e.jsxs("div",{children:[e.jsx("h3",{className:"text-xl font-bold text-white tracking-tight",children:"Acceso Invitados"}),e.jsx("p",{className:"text-xs text-slate-500 font-medium uppercase tracking-widest mt-0.5",children:"Control de Entrada"})]})]}),e.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-2 gap-3",children:[e.jsxs("button",{className:"w-full py-4 bg-white text-[#0f172a] font-black text-[10px] uppercase tracking-widest rounded-2xl flex items-center justify-center gap-2 shadow-xl hover:scale-[1.02] transition-transform active:scale-95 group",children:[e.jsx(K,{className:"w-4 h-4 group-hover:animate-bounce"}),"Descargar QR"]}),e.jsxs("button",{onClick:()=>{navigator.clipboard.writeText(v),p("Â¡Link copiado con Ã©xito! âœ¨")},className:"w-full py-4 bg-white/10 text-white border border-white/10 font-black text-[10px] uppercase tracking-widest rounded-2xl flex items-center justify-center gap-2 hover:bg-white/20 transition-all hover:scale-[1.02] active:scale-95 group",children:[e.jsx($e,{className:"w-4 h-4 group-hover:rotate-12 transition-transform"}),"Copiar Enlace"]})]}),e.jsxs("div",{className:"mt-8 p-6 bg-[#0f172a]/80 rounded-3xl border border-white/10 flex flex-col items-center gap-5 shadow-inner",children:[e.jsxs("div",{className:"bg-white p-3 rounded-2xl shadow-2xl relative group",children:[e.jsx("div",{className:"absolute -inset-2 bg-[#7f13ec]/20 rounded-3xl blur opacity-0 group-hover:opacity-100 transition-opacity"}),e.jsx(X,{value:v,size:140,className:"relative rounded-lg"})]}),e.jsxs("div",{className:"text-center w-full px-2 overflow-hidden",children:[e.jsxs("div",{className:"flex items-center justify-center gap-2 mb-1",children:[e.jsx(J,{className:"w-3 h-3 text-emerald-500"}),e.jsx("p",{className:"text-[10px] font-black text-slate-500 uppercase tracking-widest",children:"Enlace de Seguridad Activo"})]}),e.jsx("p",{className:"text-[11px] font-medium text-slate-400 truncate hover:text-[#7f13ec] cursor-pointer transition-colors",title:v,children:v.replace("https://","")})]})]})]}),e.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[e.jsxs("div",{className:"bg-white/[0.03] border border-white/10 rounded-3xl p-6 text-center group hover:bg-[#7f13ec]/5 transition-colors",children:[e.jsx(ae,{className:"w-5 h-5 text-slate-600 mx-auto mb-3 group-hover:text-[#7f13ec]"}),e.jsx("p",{className:"text-[10px] font-black text-slate-500 uppercase tracking-widest mb-1",children:"Participantes"}),e.jsx("p",{className:"text-3xl font-black text-white tracking-tighter",children:L.uniqueUsers})]}),e.jsxs("div",{className:"bg-white/[0.03] border border-white/10 rounded-3xl p-6 text-center group hover:bg-[#7f13ec]/5 transition-colors overflow-hidden",children:[e.jsx(qe,{className:"w-5 h-5 text-slate-600 mx-auto mb-3 group-hover:text-[#ec4899]"}),e.jsx("p",{className:"text-[10px] font-black text-slate-500 uppercase tracking-widest mb-1",children:"Estilo Favorito"}),e.jsx("p",{className:"text-xl font-black text-white tracking-tighter truncate",children:L.topStyle||"--"})]})]}),e.jsx("div",{className:"bg-white/[0.03] border border-white/10 rounded-3xl p-6 group hover:border-[#7f13ec]/30 transition-all",children:e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx("div",{className:"w-8 h-8 rounded-lg bg-[#7f13ec]/10 flex items-center justify-center",children:e.jsx(Ce,{className:"w-4 h-4 text-[#7f13ec]"})}),e.jsxs("div",{children:[e.jsx("p",{className:"text-[10px] font-black text-slate-500 uppercase tracking-widest leading-none",children:"Crecimiento"}),e.jsx("p",{className:"text-sm font-bold text-white mt-1",children:"Nivel de Engagement"})]})]}),e.jsxs("div",{className:"text-right",children:[e.jsx("p",{className:"text-xs font-black text-[#7f13ec] uppercase",children:"Alto"}),e.jsxs("p",{className:"text-[10px] text-slate-500 font-medium",children:["Basado en ",L.totalPhotos," fotos"]})]})]})}),e.jsxs(l.button,{whileHover:{scale:1.02,y:-2},whileTap:{scale:.98},onClick:()=>O(!0),className:"w-full py-6 rounded-3xl bg-gradient-to-r from-[#7f13ec] to-[#ec4899] text-white font-black uppercase tracking-[0.2em] shadow-[0_0_30px_rgba(127,19,236,0.4)] flex items-center justify-center gap-3 group relative overflow-hidden mt-8",children:[e.jsx("div",{className:"absolute inset-0 bg-white/20 translate-y-full group-hover:translate-y-0 transition-transform duration-500"}),e.jsx(je,{className:"w-5 h-5 relative z-10"}),e.jsx("span",{className:"relative z-10",children:"Inaugurar Slideshow"}),e.jsx("div",{className:"p-1 bg-white/20 rounded-lg relative z-10",children:e.jsx(Te,{className:"w-3 h-3"})})]}),e.jsx("div",{className:"p-4 bg-white/5 border border-white/10 rounded-2xl mt-4",children:e.jsx("p",{className:"text-[10px] text-slate-500 font-medium leading-relaxed italic text-center",children:"Abre esta vista en una pantalla secundaria o proyector para mostrar las creaciones en tiempo real."})})]})]})]}),e.jsx(A,{children:_&&o.length>0&&e.jsxs(l.div,{initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},className:"fixed inset-0 z-[200] bg-slate-950 flex flex-col items-center justify-center overflow-hidden",children:[e.jsx(l.button,{whileHover:{scale:1.1},whileTap:{scale:.9},onClick:()=>O(!1),className:"absolute top-10 right-10 p-4 bg-white/10 hover:bg-white/20 text-white rounded-full backdrop-blur-xl border border-white/20 z-[210] transition-all",children:e.jsx(ee,{className:"w-8 h-8"})}),e.jsxs("div",{className:"absolute top-10 left-10 flex items-center gap-4 z-[210]",children:[e.jsx("div",{className:"p-3 bg-[#7f13ec] rounded-2xl shadow-2xl",children:e.jsx($,{className:"w-6 h-6 text-white"})}),e.jsxs("div",{children:[e.jsx("h2",{className:"text-2xl font-black text-white tracking-widest uppercase italic",children:S}),e.jsx("p",{className:"text-[#7f13ec] font-bold tracking-widest uppercase text-xs",children:"Live Slideshow Mode"})]})]}),e.jsx(A,{mode:"wait",children:e.jsxs(l.div,{initial:{opacity:0,scale:1.1,rotateY:10},animate:{opacity:1,scale:1,rotateY:0},exit:{opacity:0,scale:.9,rotateY:-10},transition:{duration:1.2,ease:"easeOut"},className:"relative w-full h-full flex items-center justify-center p-20",children:[e.jsx("div",{className:"absolute inset-0 bg-gradient-to-b from-transparent via-transparent to-slate-950/80 z-10"}),e.jsx("img",{src:o[C].image_url,alt:"Slideshow",className:"max-w-full max-h-full object-contain rounded-[40px] shadow-[0_0_100px_rgba(127,19,236,0.3)] border-4 border-white/10"}),e.jsxs("div",{className:"absolute bottom-20 left-1/2 -translate-x-1/2 z-20 text-center",children:[e.jsx(l.div,{initial:{y:20,opacity:0},animate:{y:0,opacity:1},transition:{delay:.5},className:"inline-block px-8 py-4 bg-white/10 backdrop-blur-3xl rounded-full border border-white/20 shadow-2xl",children:e.jsx("p",{className:"text-lg font-black text-white uppercase tracking-[0.3em]",children:"Escanea y crea la tuya"})}),e.jsx("div",{className:"mt-8 flex items-center justify-center gap-10",children:e.jsx("div",{className:"p-4 bg-white rounded-[32px] shadow-2xl",children:e.jsx(X,{value:v,size:150,level:"M"})})})]})]},o[C].id)}),e.jsx("div",{className:"absolute bottom-0 left-0 right-0 h-2 bg-white/5",children:e.jsx(l.div,{initial:{width:"0%"},animate:{width:"100%"},transition:{duration:5,ease:"linear"},className:"h-full bg-[#7f13ec]"},C)})]})}),e.jsx(A,{children:y.message&&e.jsxs(l.div,{initial:{opacity:0,y:50,scale:.9},animate:{opacity:1,y:0,scale:1},exit:{opacity:0,y:20,scale:.9},className:"fixed bottom-10 left-1/2 -translate-x-1/2 z-[100] px-6 py-3 rounded-2xl bg-slate-900/90 backdrop-blur-xl border border-white/10 shadow-2xl flex items-center gap-3 min-w-[300px]",children:[e.jsx("div",{className:`p-2 rounded-xl ${y.type==="error"?"bg-red-500/20 text-red-400":"bg-[#7f13ec]/20 text-[#7f13ec]"}`,children:y.type==="error"?e.jsx(ee,{className:"w-4 h-4"}):e.jsx(Se,{className:"w-4 h-4"})}),e.jsx("p",{className:"text-xs font-bold text-white uppercase tracking-widest",children:y.message})]})}),e.jsx("style",{children:`
                @keyframes shimmer {
                    0% { transform: translateX(-100%); }
                    100% { transform: translateX(100%); }
                }
                .custom-scrollbar::-webkit-scrollbar {
                    height: 5px;
                    width: 5px;
                }
                .custom-scrollbar::-webkit-scrollbar-track {
                    background: transparent;
                }
                .custom-scrollbar::-webkit-scrollbar-thumb {
                    background: rgba(127, 19, 236, 0.2);
                    border-radius: 10px;
                }
                .custom-scrollbar::-webkit-scrollbar-thumb:hover {
                    background: rgba(127, 19, 236, 0.4);
                }
            `})]})};export{Ze as ClientDashboard};
