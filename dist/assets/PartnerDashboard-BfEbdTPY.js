import{c as Ee,h as De,i as it,r as he,s as fe,j as e,k as Ve,b as nt,l as Be,P as Ke,m as Pe,T as Ze,M as ot}from"./DashboardApp-DIzjVNoR.js";import{A as Ie,S as Ye,P as lt,M as ct,a as dt,I as Le}from"./constants-qf5i3rm8.js";import{m as ge}from"./proxy-DU3NxUEq.js";import{Z as Oe,D as Xe}from"./zap-BpLrxZY6.js";import{P as ht,a as We,E as Je,U as ut}from"./upload-CzGlj3MW.js";import{X as Re,S as ft,H as pt}from"./x-BuMK2oYI.js";/**
 * @license lucide-react v0.554.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const mt=[["path",{d:"m7 7 10 10",key:"1fmybs"}],["path",{d:"M17 7v10H7",key:"6fjiku"}]],Qe=Ee("arrow-down-right",mt);/**
 * @license lucide-react v0.554.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const xt=[["path",{d:"M7 7h10v10",key:"1tivn9"}],["path",{d:"M7 17 17 7",key:"1vkiza"}]],bt=Ee("arrow-up-right",xt);/**
 * @license lucide-react v0.554.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const gt=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"m9 12 2 2 4-4",key:"dzmm74"}]],Fe=Ee("circle-check",gt);/**
 * @license lucide-react v0.554.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const vt=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M12 2a14.5 14.5 0 0 0 0 20 14.5 14.5 0 0 0 0-20",key:"13o1zl"}],["path",{d:"M2 12h20",key:"9i4pu4"}]],wt=Ee("globe",vt);/**
 * @license lucide-react v0.554.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const _t=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M12 16v-4",key:"1dtifu"}],["path",{d:"M12 8h.01",key:"e9boi3"}]],et=Ee("info",_t);/**
 * @license lucide-react v0.554.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const yt=[["path",{d:"M12.83 2.18a2 2 0 0 0-1.66 0L2.6 6.08a1 1 0 0 0 0 1.83l8.58 3.91a2 2 0 0 0 1.66 0l8.58-3.9a1 1 0 0 0 0-1.83z",key:"zw3jo"}],["path",{d:"M2 12a1 1 0 0 0 .58.91l8.6 3.91a2 2 0 0 0 1.65 0l8.58-3.9A1 1 0 0 0 22 12",key:"1wduqc"}],["path",{d:"M2 17a1 1 0 0 0 .58.91l8.6 3.91a2 2 0 0 0 1.65 0l8.58-3.9A1 1 0 0 0 22 17",key:"kqbvx6"}]],tt=Ee("layers",yt);/**
 * @license lucide-react v0.554.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const kt=[["circle",{cx:"8",cy:"21",r:"1",key:"jimo8o"}],["circle",{cx:"19",cy:"21",r:"1",key:"13723u"}],["path",{d:"M2.05 2.05h2l2.66 12.42a2 2 0 0 0 2 1.58h9.78a2 2 0 0 0 1.95-1.57l1.65-7.43H5.12",key:"9zh506"}]],$e=Ee("shopping-cart",kt);/**
 * @license lucide-react v0.554.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const jt=[["path",{d:"M10 11v6",key:"nco0om"}],["path",{d:"M14 11v6",key:"outv1u"}],["path",{d:"M19 6v14a2 2 0 0 1-2 2H7a2 2 0 0 1-2-2V6",key:"miytrc"}],["path",{d:"M3 6h18",key:"d0wm0j"}],["path",{d:"M8 6V4a2 2 0 0 1 2-2h4a2 2 0 0 1 2 2v2",key:"e791ji"}]],Ge=Ee("trash-2",jt);/**
 * @license lucide-react v0.554.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Nt=[["path",{d:"M16 7h6v6",key:"box55l"}],["path",{d:"m22 7-8.5 8.5-5-5L2 17",key:"1t1m79"}]],zt=Ee("trending-up",Nt);/**
 * @license lucide-react v0.554.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ct=[["path",{d:"M19 7V4a1 1 0 0 0-1-1H5a2 2 0 0 0 0 4h15a1 1 0 0 1 1 1v4h-3a2 2 0 0 0 0 4h3a1 1 0 0 0 1-1v-2a1 1 0 0 0-1-1",key:"18etb6"}],["path",{d:"M3 5v14a2 2 0 0 0 2 2h15a1 1 0 0 0 1-1v-4",key:"xoc0q4"}]],qe=Ee("wallet",Ct);function Ue(Te){throw new Error('Could not dynamically require "'+Te+'". Please configure the dynamicRequireTargets or/and ignoreDynamicRequires option of @rollup/plugin-commonjs appropriately for this require call to work.')}var He={exports:{}};/*!

JSZip v3.10.1 - A JavaScript class for generating and reading zip files
<http://stuartk.com/jszip>

(c) 2009-2016 Stuart Knightley <stuart [at] stuartk.com>
Dual licenced under the MIT license or GPLv3. See https://raw.github.com/Stuk/jszip/main/LICENSE.markdown.

JSZip uses the library pako released under the MIT license :
https://github.com/nodeca/pako/blob/main/LICENSE
*/var rt;function St(){return rt||(rt=1,(function(Te,ye){(function(_){Te.exports=_()})(function(){return(function _(F,j,h){function c(u,y){if(!j[u]){if(!F[u]){var x=typeof Ue=="function"&&Ue;if(!y&&x)return x(u,!0);if(a)return a(u,!0);var w=new Error("Cannot find module '"+u+"'");throw w.code="MODULE_NOT_FOUND",w}var i=j[u]={exports:{}};F[u][0].call(i.exports,function(p){var s=F[u][1][p];return c(s||p)},i,i.exports,_,F,j,h)}return j[u].exports}for(var a=typeof Ue=="function"&&Ue,l=0;l<h.length;l++)c(h[l]);return c})({1:[function(_,F,j){var h=_("./utils"),c=_("./support"),a="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=";j.encode=function(l){for(var u,y,x,w,i,p,s,f=[],n=0,m=l.length,v=m,z=h.getTypeOf(l)!=="string";n<l.length;)v=m-n,x=z?(u=l[n++],y=n<m?l[n++]:0,n<m?l[n++]:0):(u=l.charCodeAt(n++),y=n<m?l.charCodeAt(n++):0,n<m?l.charCodeAt(n++):0),w=u>>2,i=(3&u)<<4|y>>4,p=1<v?(15&y)<<2|x>>6:64,s=2<v?63&x:64,f.push(a.charAt(w)+a.charAt(i)+a.charAt(p)+a.charAt(s));return f.join("")},j.decode=function(l){var u,y,x,w,i,p,s=0,f=0,n="data:";if(l.substr(0,n.length)===n)throw new Error("Invalid base64 input, it looks like a data url.");var m,v=3*(l=l.replace(/[^A-Za-z0-9+/=]/g,"")).length/4;if(l.charAt(l.length-1)===a.charAt(64)&&v--,l.charAt(l.length-2)===a.charAt(64)&&v--,v%1!=0)throw new Error("Invalid base64 input, bad content length.");for(m=c.uint8array?new Uint8Array(0|v):new Array(0|v);s<l.length;)u=a.indexOf(l.charAt(s++))<<2|(w=a.indexOf(l.charAt(s++)))>>4,y=(15&w)<<4|(i=a.indexOf(l.charAt(s++)))>>2,x=(3&i)<<6|(p=a.indexOf(l.charAt(s++))),m[f++]=u,i!==64&&(m[f++]=y),p!==64&&(m[f++]=x);return m}},{"./support":30,"./utils":32}],2:[function(_,F,j){var h=_("./external"),c=_("./stream/DataWorker"),a=_("./stream/Crc32Probe"),l=_("./stream/DataLengthProbe");function u(y,x,w,i,p){this.compressedSize=y,this.uncompressedSize=x,this.crc32=w,this.compression=i,this.compressedContent=p}u.prototype={getContentWorker:function(){var y=new c(h.Promise.resolve(this.compressedContent)).pipe(this.compression.uncompressWorker()).pipe(new l("data_length")),x=this;return y.on("end",function(){if(this.streamInfo.data_length!==x.uncompressedSize)throw new Error("Bug : uncompressed data size mismatch")}),y},getCompressedWorker:function(){return new c(h.Promise.resolve(this.compressedContent)).withStreamInfo("compressedSize",this.compressedSize).withStreamInfo("uncompressedSize",this.uncompressedSize).withStreamInfo("crc32",this.crc32).withStreamInfo("compression",this.compression)}},u.createWorkerFrom=function(y,x,w){return y.pipe(new a).pipe(new l("uncompressedSize")).pipe(x.compressWorker(w)).pipe(new l("compressedSize")).withStreamInfo("compression",x)},F.exports=u},{"./external":6,"./stream/Crc32Probe":25,"./stream/DataLengthProbe":26,"./stream/DataWorker":27}],3:[function(_,F,j){var h=_("./stream/GenericWorker");j.STORE={magic:"\0\0",compressWorker:function(){return new h("STORE compression")},uncompressWorker:function(){return new h("STORE decompression")}},j.DEFLATE=_("./flate")},{"./flate":7,"./stream/GenericWorker":28}],4:[function(_,F,j){var h=_("./utils"),c=(function(){for(var a,l=[],u=0;u<256;u++){a=u;for(var y=0;y<8;y++)a=1&a?3988292384^a>>>1:a>>>1;l[u]=a}return l})();F.exports=function(a,l){return a!==void 0&&a.length?h.getTypeOf(a)!=="string"?(function(u,y,x,w){var i=c,p=w+x;u^=-1;for(var s=w;s<p;s++)u=u>>>8^i[255&(u^y[s])];return-1^u})(0|l,a,a.length,0):(function(u,y,x,w){var i=c,p=w+x;u^=-1;for(var s=w;s<p;s++)u=u>>>8^i[255&(u^y.charCodeAt(s))];return-1^u})(0|l,a,a.length,0):0}},{"./utils":32}],5:[function(_,F,j){j.base64=!1,j.binary=!1,j.dir=!1,j.createFolders=!0,j.date=null,j.compression=null,j.compressionOptions=null,j.comment=null,j.unixPermissions=null,j.dosPermissions=null},{}],6:[function(_,F,j){var h=null;h=typeof Promise<"u"?Promise:_("lie"),F.exports={Promise:h}},{lie:37}],7:[function(_,F,j){var h=typeof Uint8Array<"u"&&typeof Uint16Array<"u"&&typeof Uint32Array<"u",c=_("pako"),a=_("./utils"),l=_("./stream/GenericWorker"),u=h?"uint8array":"array";function y(x,w){l.call(this,"FlateWorker/"+x),this._pako=null,this._pakoAction=x,this._pakoOptions=w,this.meta={}}j.magic="\b\0",a.inherits(y,l),y.prototype.processChunk=function(x){this.meta=x.meta,this._pako===null&&this._createPako(),this._pako.push(a.transformTo(u,x.data),!1)},y.prototype.flush=function(){l.prototype.flush.call(this),this._pako===null&&this._createPako(),this._pako.push([],!0)},y.prototype.cleanUp=function(){l.prototype.cleanUp.call(this),this._pako=null},y.prototype._createPako=function(){this._pako=new c[this._pakoAction]({raw:!0,level:this._pakoOptions.level||-1});var x=this;this._pako.onData=function(w){x.push({data:w,meta:x.meta})}},j.compressWorker=function(x){return new y("Deflate",x)},j.uncompressWorker=function(){return new y("Inflate",{})}},{"./stream/GenericWorker":28,"./utils":32,pako:38}],8:[function(_,F,j){function h(i,p){var s,f="";for(s=0;s<p;s++)f+=String.fromCharCode(255&i),i>>>=8;return f}function c(i,p,s,f,n,m){var v,z,N=i.file,B=i.compression,R=m!==u.utf8encode,M=a.transformTo("string",m(N.name)),I=a.transformTo("string",u.utf8encode(N.name)),$=N.comment,J=a.transformTo("string",m($)),g=a.transformTo("string",u.utf8encode($)),O=I.length!==N.name.length,r=g.length!==$.length,T="",re="",U="",ae=N.dir,Z=N.date,te={crc32:0,compressedSize:0,uncompressedSize:0};p&&!s||(te.crc32=i.crc32,te.compressedSize=i.compressedSize,te.uncompressedSize=i.uncompressedSize);var A=0;p&&(A|=8),R||!O&&!r||(A|=2048);var E=0,X=0;ae&&(E|=16),n==="UNIX"?(X=798,E|=(function(H,me){var ce=H;return H||(ce=me?16893:33204),(65535&ce)<<16})(N.unixPermissions,ae)):(X=20,E|=(function(H){return 63&(H||0)})(N.dosPermissions)),v=Z.getUTCHours(),v<<=6,v|=Z.getUTCMinutes(),v<<=5,v|=Z.getUTCSeconds()/2,z=Z.getUTCFullYear()-1980,z<<=4,z|=Z.getUTCMonth()+1,z<<=5,z|=Z.getUTCDate(),O&&(re=h(1,1)+h(y(M),4)+I,T+="up"+h(re.length,2)+re),r&&(U=h(1,1)+h(y(J),4)+g,T+="uc"+h(U.length,2)+U);var K="";return K+=`
\0`,K+=h(A,2),K+=B.magic,K+=h(v,2),K+=h(z,2),K+=h(te.crc32,4),K+=h(te.compressedSize,4),K+=h(te.uncompressedSize,4),K+=h(M.length,2),K+=h(T.length,2),{fileRecord:x.LOCAL_FILE_HEADER+K+M+T,dirRecord:x.CENTRAL_FILE_HEADER+h(X,2)+K+h(J.length,2)+"\0\0\0\0"+h(E,4)+h(f,4)+M+T+J}}var a=_("../utils"),l=_("../stream/GenericWorker"),u=_("../utf8"),y=_("../crc32"),x=_("../signature");function w(i,p,s,f){l.call(this,"ZipFileWorker"),this.bytesWritten=0,this.zipComment=p,this.zipPlatform=s,this.encodeFileName=f,this.streamFiles=i,this.accumulate=!1,this.contentBuffer=[],this.dirRecords=[],this.currentSourceOffset=0,this.entriesCount=0,this.currentFile=null,this._sources=[]}a.inherits(w,l),w.prototype.push=function(i){var p=i.meta.percent||0,s=this.entriesCount,f=this._sources.length;this.accumulate?this.contentBuffer.push(i):(this.bytesWritten+=i.data.length,l.prototype.push.call(this,{data:i.data,meta:{currentFile:this.currentFile,percent:s?(p+100*(s-f-1))/s:100}}))},w.prototype.openedSource=function(i){this.currentSourceOffset=this.bytesWritten,this.currentFile=i.file.name;var p=this.streamFiles&&!i.file.dir;if(p){var s=c(i,p,!1,this.currentSourceOffset,this.zipPlatform,this.encodeFileName);this.push({data:s.fileRecord,meta:{percent:0}})}else this.accumulate=!0},w.prototype.closedSource=function(i){this.accumulate=!1;var p=this.streamFiles&&!i.file.dir,s=c(i,p,!0,this.currentSourceOffset,this.zipPlatform,this.encodeFileName);if(this.dirRecords.push(s.dirRecord),p)this.push({data:(function(f){return x.DATA_DESCRIPTOR+h(f.crc32,4)+h(f.compressedSize,4)+h(f.uncompressedSize,4)})(i),meta:{percent:100}});else for(this.push({data:s.fileRecord,meta:{percent:0}});this.contentBuffer.length;)this.push(this.contentBuffer.shift());this.currentFile=null},w.prototype.flush=function(){for(var i=this.bytesWritten,p=0;p<this.dirRecords.length;p++)this.push({data:this.dirRecords[p],meta:{percent:100}});var s=this.bytesWritten-i,f=(function(n,m,v,z,N){var B=a.transformTo("string",N(z));return x.CENTRAL_DIRECTORY_END+"\0\0\0\0"+h(n,2)+h(n,2)+h(m,4)+h(v,4)+h(B.length,2)+B})(this.dirRecords.length,s,i,this.zipComment,this.encodeFileName);this.push({data:f,meta:{percent:100}})},w.prototype.prepareNextSource=function(){this.previous=this._sources.shift(),this.openedSource(this.previous.streamInfo),this.isPaused?this.previous.pause():this.previous.resume()},w.prototype.registerPrevious=function(i){this._sources.push(i);var p=this;return i.on("data",function(s){p.processChunk(s)}),i.on("end",function(){p.closedSource(p.previous.streamInfo),p._sources.length?p.prepareNextSource():p.end()}),i.on("error",function(s){p.error(s)}),this},w.prototype.resume=function(){return!!l.prototype.resume.call(this)&&(!this.previous&&this._sources.length?(this.prepareNextSource(),!0):this.previous||this._sources.length||this.generatedError?void 0:(this.end(),!0))},w.prototype.error=function(i){var p=this._sources;if(!l.prototype.error.call(this,i))return!1;for(var s=0;s<p.length;s++)try{p[s].error(i)}catch{}return!0},w.prototype.lock=function(){l.prototype.lock.call(this);for(var i=this._sources,p=0;p<i.length;p++)i[p].lock()},F.exports=w},{"../crc32":4,"../signature":23,"../stream/GenericWorker":28,"../utf8":31,"../utils":32}],9:[function(_,F,j){var h=_("../compressions"),c=_("./ZipFileWorker");j.generateWorker=function(a,l,u){var y=new c(l.streamFiles,u,l.platform,l.encodeFileName),x=0;try{a.forEach(function(w,i){x++;var p=(function(m,v){var z=m||v,N=h[z];if(!N)throw new Error(z+" is not a valid compression method !");return N})(i.options.compression,l.compression),s=i.options.compressionOptions||l.compressionOptions||{},f=i.dir,n=i.date;i._compressWorker(p,s).withStreamInfo("file",{name:w,dir:f,date:n,comment:i.comment||"",unixPermissions:i.unixPermissions,dosPermissions:i.dosPermissions}).pipe(y)}),y.entriesCount=x}catch(w){y.error(w)}return y}},{"../compressions":3,"./ZipFileWorker":8}],10:[function(_,F,j){function h(){if(!(this instanceof h))return new h;if(arguments.length)throw new Error("The constructor with parameters has been removed in JSZip 3.0, please check the upgrade guide.");this.files=Object.create(null),this.comment=null,this.root="",this.clone=function(){var c=new h;for(var a in this)typeof this[a]!="function"&&(c[a]=this[a]);return c}}(h.prototype=_("./object")).loadAsync=_("./load"),h.support=_("./support"),h.defaults=_("./defaults"),h.version="3.10.1",h.loadAsync=function(c,a){return new h().loadAsync(c,a)},h.external=_("./external"),F.exports=h},{"./defaults":5,"./external":6,"./load":11,"./object":15,"./support":30}],11:[function(_,F,j){var h=_("./utils"),c=_("./external"),a=_("./utf8"),l=_("./zipEntries"),u=_("./stream/Crc32Probe"),y=_("./nodejsUtils");function x(w){return new c.Promise(function(i,p){var s=w.decompressed.getContentWorker().pipe(new u);s.on("error",function(f){p(f)}).on("end",function(){s.streamInfo.crc32!==w.decompressed.crc32?p(new Error("Corrupted zip : CRC32 mismatch")):i()}).resume()})}F.exports=function(w,i){var p=this;return i=h.extend(i||{},{base64:!1,checkCRC32:!1,optimizedBinaryString:!1,createFolders:!1,decodeFileName:a.utf8decode}),y.isNode&&y.isStream(w)?c.Promise.reject(new Error("JSZip can't accept a stream when loading a zip file.")):h.prepareContent("the loaded zip file",w,!0,i.optimizedBinaryString,i.base64).then(function(s){var f=new l(i);return f.load(s),f}).then(function(s){var f=[c.Promise.resolve(s)],n=s.files;if(i.checkCRC32)for(var m=0;m<n.length;m++)f.push(x(n[m]));return c.Promise.all(f)}).then(function(s){for(var f=s.shift(),n=f.files,m=0;m<n.length;m++){var v=n[m],z=v.fileNameStr,N=h.resolve(v.fileNameStr);p.file(N,v.decompressed,{binary:!0,optimizedBinaryString:!0,date:v.date,dir:v.dir,comment:v.fileCommentStr.length?v.fileCommentStr:null,unixPermissions:v.unixPermissions,dosPermissions:v.dosPermissions,createFolders:i.createFolders}),v.dir||(p.file(N).unsafeOriginalName=z)}return f.zipComment.length&&(p.comment=f.zipComment),p})}},{"./external":6,"./nodejsUtils":14,"./stream/Crc32Probe":25,"./utf8":31,"./utils":32,"./zipEntries":33}],12:[function(_,F,j){var h=_("../utils"),c=_("../stream/GenericWorker");function a(l,u){c.call(this,"Nodejs stream input adapter for "+l),this._upstreamEnded=!1,this._bindStream(u)}h.inherits(a,c),a.prototype._bindStream=function(l){var u=this;(this._stream=l).pause(),l.on("data",function(y){u.push({data:y,meta:{percent:0}})}).on("error",function(y){u.isPaused?this.generatedError=y:u.error(y)}).on("end",function(){u.isPaused?u._upstreamEnded=!0:u.end()})},a.prototype.pause=function(){return!!c.prototype.pause.call(this)&&(this._stream.pause(),!0)},a.prototype.resume=function(){return!!c.prototype.resume.call(this)&&(this._upstreamEnded?this.end():this._stream.resume(),!0)},F.exports=a},{"../stream/GenericWorker":28,"../utils":32}],13:[function(_,F,j){var h=_("readable-stream").Readable;function c(a,l,u){h.call(this,l),this._helper=a;var y=this;a.on("data",function(x,w){y.push(x)||y._helper.pause(),u&&u(w)}).on("error",function(x){y.emit("error",x)}).on("end",function(){y.push(null)})}_("../utils").inherits(c,h),c.prototype._read=function(){this._helper.resume()},F.exports=c},{"../utils":32,"readable-stream":16}],14:[function(_,F,j){F.exports={isNode:typeof Buffer<"u",newBufferFrom:function(h,c){if(Buffer.from&&Buffer.from!==Uint8Array.from)return Buffer.from(h,c);if(typeof h=="number")throw new Error('The "data" argument must not be a number');return new Buffer(h,c)},allocBuffer:function(h){if(Buffer.alloc)return Buffer.alloc(h);var c=new Buffer(h);return c.fill(0),c},isBuffer:function(h){return Buffer.isBuffer(h)},isStream:function(h){return h&&typeof h.on=="function"&&typeof h.pause=="function"&&typeof h.resume=="function"}}},{}],15:[function(_,F,j){function h(N,B,R){var M,I=a.getTypeOf(B),$=a.extend(R||{},y);$.date=$.date||new Date,$.compression!==null&&($.compression=$.compression.toUpperCase()),typeof $.unixPermissions=="string"&&($.unixPermissions=parseInt($.unixPermissions,8)),$.unixPermissions&&16384&$.unixPermissions&&($.dir=!0),$.dosPermissions&&16&$.dosPermissions&&($.dir=!0),$.dir&&(N=n(N)),$.createFolders&&(M=f(N))&&m.call(this,M,!0);var J=I==="string"&&$.binary===!1&&$.base64===!1;R&&R.binary!==void 0||($.binary=!J),(B instanceof x&&B.uncompressedSize===0||$.dir||!B||B.length===0)&&($.base64=!1,$.binary=!0,B="",$.compression="STORE",I="string");var g=null;g=B instanceof x||B instanceof l?B:p.isNode&&p.isStream(B)?new s(N,B):a.prepareContent(N,B,$.binary,$.optimizedBinaryString,$.base64);var O=new w(N,g,$);this.files[N]=O}var c=_("./utf8"),a=_("./utils"),l=_("./stream/GenericWorker"),u=_("./stream/StreamHelper"),y=_("./defaults"),x=_("./compressedObject"),w=_("./zipObject"),i=_("./generate"),p=_("./nodejsUtils"),s=_("./nodejs/NodejsStreamInputAdapter"),f=function(N){N.slice(-1)==="/"&&(N=N.substring(0,N.length-1));var B=N.lastIndexOf("/");return 0<B?N.substring(0,B):""},n=function(N){return N.slice(-1)!=="/"&&(N+="/"),N},m=function(N,B){return B=B!==void 0?B:y.createFolders,N=n(N),this.files[N]||h.call(this,N,null,{dir:!0,createFolders:B}),this.files[N]};function v(N){return Object.prototype.toString.call(N)==="[object RegExp]"}var z={load:function(){throw new Error("This method has been removed in JSZip 3.0, please check the upgrade guide.")},forEach:function(N){var B,R,M;for(B in this.files)M=this.files[B],(R=B.slice(this.root.length,B.length))&&B.slice(0,this.root.length)===this.root&&N(R,M)},filter:function(N){var B=[];return this.forEach(function(R,M){N(R,M)&&B.push(M)}),B},file:function(N,B,R){if(arguments.length!==1)return N=this.root+N,h.call(this,N,B,R),this;if(v(N)){var M=N;return this.filter(function($,J){return!J.dir&&M.test($)})}var I=this.files[this.root+N];return I&&!I.dir?I:null},folder:function(N){if(!N)return this;if(v(N))return this.filter(function(I,$){return $.dir&&N.test(I)});var B=this.root+N,R=m.call(this,B),M=this.clone();return M.root=R.name,M},remove:function(N){N=this.root+N;var B=this.files[N];if(B||(N.slice(-1)!=="/"&&(N+="/"),B=this.files[N]),B&&!B.dir)delete this.files[N];else for(var R=this.filter(function(I,$){return $.name.slice(0,N.length)===N}),M=0;M<R.length;M++)delete this.files[R[M].name];return this},generate:function(){throw new Error("This method has been removed in JSZip 3.0, please check the upgrade guide.")},generateInternalStream:function(N){var B,R={};try{if((R=a.extend(N||{},{streamFiles:!1,compression:"STORE",compressionOptions:null,type:"",platform:"DOS",comment:null,mimeType:"application/zip",encodeFileName:c.utf8encode})).type=R.type.toLowerCase(),R.compression=R.compression.toUpperCase(),R.type==="binarystring"&&(R.type="string"),!R.type)throw new Error("No output type specified.");a.checkSupport(R.type),R.platform!=="darwin"&&R.platform!=="freebsd"&&R.platform!=="linux"&&R.platform!=="sunos"||(R.platform="UNIX"),R.platform==="win32"&&(R.platform="DOS");var M=R.comment||this.comment||"";B=i.generateWorker(this,R,M)}catch(I){(B=new l("error")).error(I)}return new u(B,R.type||"string",R.mimeType)},generateAsync:function(N,B){return this.generateInternalStream(N).accumulate(B)},generateNodeStream:function(N,B){return(N=N||{}).type||(N.type="nodebuffer"),this.generateInternalStream(N).toNodejsStream(B)}};F.exports=z},{"./compressedObject":2,"./defaults":5,"./generate":9,"./nodejs/NodejsStreamInputAdapter":12,"./nodejsUtils":14,"./stream/GenericWorker":28,"./stream/StreamHelper":29,"./utf8":31,"./utils":32,"./zipObject":35}],16:[function(_,F,j){F.exports=_("stream")},{stream:void 0}],17:[function(_,F,j){var h=_("./DataReader");function c(a){h.call(this,a);for(var l=0;l<this.data.length;l++)a[l]=255&a[l]}_("../utils").inherits(c,h),c.prototype.byteAt=function(a){return this.data[this.zero+a]},c.prototype.lastIndexOfSignature=function(a){for(var l=a.charCodeAt(0),u=a.charCodeAt(1),y=a.charCodeAt(2),x=a.charCodeAt(3),w=this.length-4;0<=w;--w)if(this.data[w]===l&&this.data[w+1]===u&&this.data[w+2]===y&&this.data[w+3]===x)return w-this.zero;return-1},c.prototype.readAndCheckSignature=function(a){var l=a.charCodeAt(0),u=a.charCodeAt(1),y=a.charCodeAt(2),x=a.charCodeAt(3),w=this.readData(4);return l===w[0]&&u===w[1]&&y===w[2]&&x===w[3]},c.prototype.readData=function(a){if(this.checkOffset(a),a===0)return[];var l=this.data.slice(this.zero+this.index,this.zero+this.index+a);return this.index+=a,l},F.exports=c},{"../utils":32,"./DataReader":18}],18:[function(_,F,j){var h=_("../utils");function c(a){this.data=a,this.length=a.length,this.index=0,this.zero=0}c.prototype={checkOffset:function(a){this.checkIndex(this.index+a)},checkIndex:function(a){if(this.length<this.zero+a||a<0)throw new Error("End of data reached (data length = "+this.length+", asked index = "+a+"). Corrupted zip ?")},setIndex:function(a){this.checkIndex(a),this.index=a},skip:function(a){this.setIndex(this.index+a)},byteAt:function(){},readInt:function(a){var l,u=0;for(this.checkOffset(a),l=this.index+a-1;l>=this.index;l--)u=(u<<8)+this.byteAt(l);return this.index+=a,u},readString:function(a){return h.transformTo("string",this.readData(a))},readData:function(){},lastIndexOfSignature:function(){},readAndCheckSignature:function(){},readDate:function(){var a=this.readInt(4);return new Date(Date.UTC(1980+(a>>25&127),(a>>21&15)-1,a>>16&31,a>>11&31,a>>5&63,(31&a)<<1))}},F.exports=c},{"../utils":32}],19:[function(_,F,j){var h=_("./Uint8ArrayReader");function c(a){h.call(this,a)}_("../utils").inherits(c,h),c.prototype.readData=function(a){this.checkOffset(a);var l=this.data.slice(this.zero+this.index,this.zero+this.index+a);return this.index+=a,l},F.exports=c},{"../utils":32,"./Uint8ArrayReader":21}],20:[function(_,F,j){var h=_("./DataReader");function c(a){h.call(this,a)}_("../utils").inherits(c,h),c.prototype.byteAt=function(a){return this.data.charCodeAt(this.zero+a)},c.prototype.lastIndexOfSignature=function(a){return this.data.lastIndexOf(a)-this.zero},c.prototype.readAndCheckSignature=function(a){return a===this.readData(4)},c.prototype.readData=function(a){this.checkOffset(a);var l=this.data.slice(this.zero+this.index,this.zero+this.index+a);return this.index+=a,l},F.exports=c},{"../utils":32,"./DataReader":18}],21:[function(_,F,j){var h=_("./ArrayReader");function c(a){h.call(this,a)}_("../utils").inherits(c,h),c.prototype.readData=function(a){if(this.checkOffset(a),a===0)return new Uint8Array(0);var l=this.data.subarray(this.zero+this.index,this.zero+this.index+a);return this.index+=a,l},F.exports=c},{"../utils":32,"./ArrayReader":17}],22:[function(_,F,j){var h=_("../utils"),c=_("../support"),a=_("./ArrayReader"),l=_("./StringReader"),u=_("./NodeBufferReader"),y=_("./Uint8ArrayReader");F.exports=function(x){var w=h.getTypeOf(x);return h.checkSupport(w),w!=="string"||c.uint8array?w==="nodebuffer"?new u(x):c.uint8array?new y(h.transformTo("uint8array",x)):new a(h.transformTo("array",x)):new l(x)}},{"../support":30,"../utils":32,"./ArrayReader":17,"./NodeBufferReader":19,"./StringReader":20,"./Uint8ArrayReader":21}],23:[function(_,F,j){j.LOCAL_FILE_HEADER="PK",j.CENTRAL_FILE_HEADER="PK",j.CENTRAL_DIRECTORY_END="PK",j.ZIP64_CENTRAL_DIRECTORY_LOCATOR="PK\x07",j.ZIP64_CENTRAL_DIRECTORY_END="PK",j.DATA_DESCRIPTOR="PK\x07\b"},{}],24:[function(_,F,j){var h=_("./GenericWorker"),c=_("../utils");function a(l){h.call(this,"ConvertWorker to "+l),this.destType=l}c.inherits(a,h),a.prototype.processChunk=function(l){this.push({data:c.transformTo(this.destType,l.data),meta:l.meta})},F.exports=a},{"../utils":32,"./GenericWorker":28}],25:[function(_,F,j){var h=_("./GenericWorker"),c=_("../crc32");function a(){h.call(this,"Crc32Probe"),this.withStreamInfo("crc32",0)}_("../utils").inherits(a,h),a.prototype.processChunk=function(l){this.streamInfo.crc32=c(l.data,this.streamInfo.crc32||0),this.push(l)},F.exports=a},{"../crc32":4,"../utils":32,"./GenericWorker":28}],26:[function(_,F,j){var h=_("../utils"),c=_("./GenericWorker");function a(l){c.call(this,"DataLengthProbe for "+l),this.propName=l,this.withStreamInfo(l,0)}h.inherits(a,c),a.prototype.processChunk=function(l){if(l){var u=this.streamInfo[this.propName]||0;this.streamInfo[this.propName]=u+l.data.length}c.prototype.processChunk.call(this,l)},F.exports=a},{"../utils":32,"./GenericWorker":28}],27:[function(_,F,j){var h=_("../utils"),c=_("./GenericWorker");function a(l){c.call(this,"DataWorker");var u=this;this.dataIsReady=!1,this.index=0,this.max=0,this.data=null,this.type="",this._tickScheduled=!1,l.then(function(y){u.dataIsReady=!0,u.data=y,u.max=y&&y.length||0,u.type=h.getTypeOf(y),u.isPaused||u._tickAndRepeat()},function(y){u.error(y)})}h.inherits(a,c),a.prototype.cleanUp=function(){c.prototype.cleanUp.call(this),this.data=null},a.prototype.resume=function(){return!!c.prototype.resume.call(this)&&(!this._tickScheduled&&this.dataIsReady&&(this._tickScheduled=!0,h.delay(this._tickAndRepeat,[],this)),!0)},a.prototype._tickAndRepeat=function(){this._tickScheduled=!1,this.isPaused||this.isFinished||(this._tick(),this.isFinished||(h.delay(this._tickAndRepeat,[],this),this._tickScheduled=!0))},a.prototype._tick=function(){if(this.isPaused||this.isFinished)return!1;var l=null,u=Math.min(this.max,this.index+16384);if(this.index>=this.max)return this.end();switch(this.type){case"string":l=this.data.substring(this.index,u);break;case"uint8array":l=this.data.subarray(this.index,u);break;case"array":case"nodebuffer":l=this.data.slice(this.index,u)}return this.index=u,this.push({data:l,meta:{percent:this.max?this.index/this.max*100:0}})},F.exports=a},{"../utils":32,"./GenericWorker":28}],28:[function(_,F,j){function h(c){this.name=c||"default",this.streamInfo={},this.generatedError=null,this.extraStreamInfo={},this.isPaused=!0,this.isFinished=!1,this.isLocked=!1,this._listeners={data:[],end:[],error:[]},this.previous=null}h.prototype={push:function(c){this.emit("data",c)},end:function(){if(this.isFinished)return!1;this.flush();try{this.emit("end"),this.cleanUp(),this.isFinished=!0}catch(c){this.emit("error",c)}return!0},error:function(c){return!this.isFinished&&(this.isPaused?this.generatedError=c:(this.isFinished=!0,this.emit("error",c),this.previous&&this.previous.error(c),this.cleanUp()),!0)},on:function(c,a){return this._listeners[c].push(a),this},cleanUp:function(){this.streamInfo=this.generatedError=this.extraStreamInfo=null,this._listeners=[]},emit:function(c,a){if(this._listeners[c])for(var l=0;l<this._listeners[c].length;l++)this._listeners[c][l].call(this,a)},pipe:function(c){return c.registerPrevious(this)},registerPrevious:function(c){if(this.isLocked)throw new Error("The stream '"+this+"' has already been used.");this.streamInfo=c.streamInfo,this.mergeStreamInfo(),this.previous=c;var a=this;return c.on("data",function(l){a.processChunk(l)}),c.on("end",function(){a.end()}),c.on("error",function(l){a.error(l)}),this},pause:function(){return!this.isPaused&&!this.isFinished&&(this.isPaused=!0,this.previous&&this.previous.pause(),!0)},resume:function(){if(!this.isPaused||this.isFinished)return!1;var c=this.isPaused=!1;return this.generatedError&&(this.error(this.generatedError),c=!0),this.previous&&this.previous.resume(),!c},flush:function(){},processChunk:function(c){this.push(c)},withStreamInfo:function(c,a){return this.extraStreamInfo[c]=a,this.mergeStreamInfo(),this},mergeStreamInfo:function(){for(var c in this.extraStreamInfo)Object.prototype.hasOwnProperty.call(this.extraStreamInfo,c)&&(this.streamInfo[c]=this.extraStreamInfo[c])},lock:function(){if(this.isLocked)throw new Error("The stream '"+this+"' has already been used.");this.isLocked=!0,this.previous&&this.previous.lock()},toString:function(){var c="Worker "+this.name;return this.previous?this.previous+" -> "+c:c}},F.exports=h},{}],29:[function(_,F,j){var h=_("../utils"),c=_("./ConvertWorker"),a=_("./GenericWorker"),l=_("../base64"),u=_("../support"),y=_("../external"),x=null;if(u.nodestream)try{x=_("../nodejs/NodejsStreamOutputAdapter")}catch{}function w(p,s){return new y.Promise(function(f,n){var m=[],v=p._internalType,z=p._outputType,N=p._mimeType;p.on("data",function(B,R){m.push(B),s&&s(R)}).on("error",function(B){m=[],n(B)}).on("end",function(){try{var B=(function(R,M,I){switch(R){case"blob":return h.newBlob(h.transformTo("arraybuffer",M),I);case"base64":return l.encode(M);default:return h.transformTo(R,M)}})(z,(function(R,M){var I,$=0,J=null,g=0;for(I=0;I<M.length;I++)g+=M[I].length;switch(R){case"string":return M.join("");case"array":return Array.prototype.concat.apply([],M);case"uint8array":for(J=new Uint8Array(g),I=0;I<M.length;I++)J.set(M[I],$),$+=M[I].length;return J;case"nodebuffer":return Buffer.concat(M);default:throw new Error("concat : unsupported type '"+R+"'")}})(v,m),N);f(B)}catch(R){n(R)}m=[]}).resume()})}function i(p,s,f){var n=s;switch(s){case"blob":case"arraybuffer":n="uint8array";break;case"base64":n="string"}try{this._internalType=n,this._outputType=s,this._mimeType=f,h.checkSupport(n),this._worker=p.pipe(new c(n)),p.lock()}catch(m){this._worker=new a("error"),this._worker.error(m)}}i.prototype={accumulate:function(p){return w(this,p)},on:function(p,s){var f=this;return p==="data"?this._worker.on(p,function(n){s.call(f,n.data,n.meta)}):this._worker.on(p,function(){h.delay(s,arguments,f)}),this},resume:function(){return h.delay(this._worker.resume,[],this._worker),this},pause:function(){return this._worker.pause(),this},toNodejsStream:function(p){if(h.checkSupport("nodestream"),this._outputType!=="nodebuffer")throw new Error(this._outputType+" is not supported by this method");return new x(this,{objectMode:this._outputType!=="nodebuffer"},p)}},F.exports=i},{"../base64":1,"../external":6,"../nodejs/NodejsStreamOutputAdapter":13,"../support":30,"../utils":32,"./ConvertWorker":24,"./GenericWorker":28}],30:[function(_,F,j){if(j.base64=!0,j.array=!0,j.string=!0,j.arraybuffer=typeof ArrayBuffer<"u"&&typeof Uint8Array<"u",j.nodebuffer=typeof Buffer<"u",j.uint8array=typeof Uint8Array<"u",typeof ArrayBuffer>"u")j.blob=!1;else{var h=new ArrayBuffer(0);try{j.blob=new Blob([h],{type:"application/zip"}).size===0}catch{try{var c=new(self.BlobBuilder||self.WebKitBlobBuilder||self.MozBlobBuilder||self.MSBlobBuilder);c.append(h),j.blob=c.getBlob("application/zip").size===0}catch{j.blob=!1}}}try{j.nodestream=!!_("readable-stream").Readable}catch{j.nodestream=!1}},{"readable-stream":16}],31:[function(_,F,j){for(var h=_("./utils"),c=_("./support"),a=_("./nodejsUtils"),l=_("./stream/GenericWorker"),u=new Array(256),y=0;y<256;y++)u[y]=252<=y?6:248<=y?5:240<=y?4:224<=y?3:192<=y?2:1;u[254]=u[254]=1;function x(){l.call(this,"utf-8 decode"),this.leftOver=null}function w(){l.call(this,"utf-8 encode")}j.utf8encode=function(i){return c.nodebuffer?a.newBufferFrom(i,"utf-8"):(function(p){var s,f,n,m,v,z=p.length,N=0;for(m=0;m<z;m++)(64512&(f=p.charCodeAt(m)))==55296&&m+1<z&&(64512&(n=p.charCodeAt(m+1)))==56320&&(f=65536+(f-55296<<10)+(n-56320),m++),N+=f<128?1:f<2048?2:f<65536?3:4;for(s=c.uint8array?new Uint8Array(N):new Array(N),m=v=0;v<N;m++)(64512&(f=p.charCodeAt(m)))==55296&&m+1<z&&(64512&(n=p.charCodeAt(m+1)))==56320&&(f=65536+(f-55296<<10)+(n-56320),m++),f<128?s[v++]=f:(f<2048?s[v++]=192|f>>>6:(f<65536?s[v++]=224|f>>>12:(s[v++]=240|f>>>18,s[v++]=128|f>>>12&63),s[v++]=128|f>>>6&63),s[v++]=128|63&f);return s})(i)},j.utf8decode=function(i){return c.nodebuffer?h.transformTo("nodebuffer",i).toString("utf-8"):(function(p){var s,f,n,m,v=p.length,z=new Array(2*v);for(s=f=0;s<v;)if((n=p[s++])<128)z[f++]=n;else if(4<(m=u[n]))z[f++]=65533,s+=m-1;else{for(n&=m===2?31:m===3?15:7;1<m&&s<v;)n=n<<6|63&p[s++],m--;1<m?z[f++]=65533:n<65536?z[f++]=n:(n-=65536,z[f++]=55296|n>>10&1023,z[f++]=56320|1023&n)}return z.length!==f&&(z.subarray?z=z.subarray(0,f):z.length=f),h.applyFromCharCode(z)})(i=h.transformTo(c.uint8array?"uint8array":"array",i))},h.inherits(x,l),x.prototype.processChunk=function(i){var p=h.transformTo(c.uint8array?"uint8array":"array",i.data);if(this.leftOver&&this.leftOver.length){if(c.uint8array){var s=p;(p=new Uint8Array(s.length+this.leftOver.length)).set(this.leftOver,0),p.set(s,this.leftOver.length)}else p=this.leftOver.concat(p);this.leftOver=null}var f=(function(m,v){var z;for((v=v||m.length)>m.length&&(v=m.length),z=v-1;0<=z&&(192&m[z])==128;)z--;return z<0||z===0?v:z+u[m[z]]>v?z:v})(p),n=p;f!==p.length&&(c.uint8array?(n=p.subarray(0,f),this.leftOver=p.subarray(f,p.length)):(n=p.slice(0,f),this.leftOver=p.slice(f,p.length))),this.push({data:j.utf8decode(n),meta:i.meta})},x.prototype.flush=function(){this.leftOver&&this.leftOver.length&&(this.push({data:j.utf8decode(this.leftOver),meta:{}}),this.leftOver=null)},j.Utf8DecodeWorker=x,h.inherits(w,l),w.prototype.processChunk=function(i){this.push({data:j.utf8encode(i.data),meta:i.meta})},j.Utf8EncodeWorker=w},{"./nodejsUtils":14,"./stream/GenericWorker":28,"./support":30,"./utils":32}],32:[function(_,F,j){var h=_("./support"),c=_("./base64"),a=_("./nodejsUtils"),l=_("./external");function u(s){return s}function y(s,f){for(var n=0;n<s.length;++n)f[n]=255&s.charCodeAt(n);return f}_("setimmediate"),j.newBlob=function(s,f){j.checkSupport("blob");try{return new Blob([s],{type:f})}catch{try{var n=new(self.BlobBuilder||self.WebKitBlobBuilder||self.MozBlobBuilder||self.MSBlobBuilder);return n.append(s),n.getBlob(f)}catch{throw new Error("Bug : can't construct the Blob.")}}};var x={stringifyByChunk:function(s,f,n){var m=[],v=0,z=s.length;if(z<=n)return String.fromCharCode.apply(null,s);for(;v<z;)f==="array"||f==="nodebuffer"?m.push(String.fromCharCode.apply(null,s.slice(v,Math.min(v+n,z)))):m.push(String.fromCharCode.apply(null,s.subarray(v,Math.min(v+n,z)))),v+=n;return m.join("")},stringifyByChar:function(s){for(var f="",n=0;n<s.length;n++)f+=String.fromCharCode(s[n]);return f},applyCanBeUsed:{uint8array:(function(){try{return h.uint8array&&String.fromCharCode.apply(null,new Uint8Array(1)).length===1}catch{return!1}})(),nodebuffer:(function(){try{return h.nodebuffer&&String.fromCharCode.apply(null,a.allocBuffer(1)).length===1}catch{return!1}})()}};function w(s){var f=65536,n=j.getTypeOf(s),m=!0;if(n==="uint8array"?m=x.applyCanBeUsed.uint8array:n==="nodebuffer"&&(m=x.applyCanBeUsed.nodebuffer),m)for(;1<f;)try{return x.stringifyByChunk(s,n,f)}catch{f=Math.floor(f/2)}return x.stringifyByChar(s)}function i(s,f){for(var n=0;n<s.length;n++)f[n]=s[n];return f}j.applyFromCharCode=w;var p={};p.string={string:u,array:function(s){return y(s,new Array(s.length))},arraybuffer:function(s){return p.string.uint8array(s).buffer},uint8array:function(s){return y(s,new Uint8Array(s.length))},nodebuffer:function(s){return y(s,a.allocBuffer(s.length))}},p.array={string:w,array:u,arraybuffer:function(s){return new Uint8Array(s).buffer},uint8array:function(s){return new Uint8Array(s)},nodebuffer:function(s){return a.newBufferFrom(s)}},p.arraybuffer={string:function(s){return w(new Uint8Array(s))},array:function(s){return i(new Uint8Array(s),new Array(s.byteLength))},arraybuffer:u,uint8array:function(s){return new Uint8Array(s)},nodebuffer:function(s){return a.newBufferFrom(new Uint8Array(s))}},p.uint8array={string:w,array:function(s){return i(s,new Array(s.length))},arraybuffer:function(s){return s.buffer},uint8array:u,nodebuffer:function(s){return a.newBufferFrom(s)}},p.nodebuffer={string:w,array:function(s){return i(s,new Array(s.length))},arraybuffer:function(s){return p.nodebuffer.uint8array(s).buffer},uint8array:function(s){return i(s,new Uint8Array(s.length))},nodebuffer:u},j.transformTo=function(s,f){if(f=f||"",!s)return f;j.checkSupport(s);var n=j.getTypeOf(f);return p[n][s](f)},j.resolve=function(s){for(var f=s.split("/"),n=[],m=0;m<f.length;m++){var v=f[m];v==="."||v===""&&m!==0&&m!==f.length-1||(v===".."?n.pop():n.push(v))}return n.join("/")},j.getTypeOf=function(s){return typeof s=="string"?"string":Object.prototype.toString.call(s)==="[object Array]"?"array":h.nodebuffer&&a.isBuffer(s)?"nodebuffer":h.uint8array&&s instanceof Uint8Array?"uint8array":h.arraybuffer&&s instanceof ArrayBuffer?"arraybuffer":void 0},j.checkSupport=function(s){if(!h[s.toLowerCase()])throw new Error(s+" is not supported by this platform")},j.MAX_VALUE_16BITS=65535,j.MAX_VALUE_32BITS=-1,j.pretty=function(s){var f,n,m="";for(n=0;n<(s||"").length;n++)m+="\\x"+((f=s.charCodeAt(n))<16?"0":"")+f.toString(16).toUpperCase();return m},j.delay=function(s,f,n){setImmediate(function(){s.apply(n||null,f||[])})},j.inherits=function(s,f){function n(){}n.prototype=f.prototype,s.prototype=new n},j.extend=function(){var s,f,n={};for(s=0;s<arguments.length;s++)for(f in arguments[s])Object.prototype.hasOwnProperty.call(arguments[s],f)&&n[f]===void 0&&(n[f]=arguments[s][f]);return n},j.prepareContent=function(s,f,n,m,v){return l.Promise.resolve(f).then(function(z){return h.blob&&(z instanceof Blob||["[object File]","[object Blob]"].indexOf(Object.prototype.toString.call(z))!==-1)&&typeof FileReader<"u"?new l.Promise(function(N,B){var R=new FileReader;R.onload=function(M){N(M.target.result)},R.onerror=function(M){B(M.target.error)},R.readAsArrayBuffer(z)}):z}).then(function(z){var N=j.getTypeOf(z);return N?(N==="arraybuffer"?z=j.transformTo("uint8array",z):N==="string"&&(v?z=c.decode(z):n&&m!==!0&&(z=(function(B){return y(B,h.uint8array?new Uint8Array(B.length):new Array(B.length))})(z))),z):l.Promise.reject(new Error("Can't read the data of '"+s+"'. Is it in a supported JavaScript type (String, Blob, ArrayBuffer, etc) ?"))})}},{"./base64":1,"./external":6,"./nodejsUtils":14,"./support":30,setimmediate:54}],33:[function(_,F,j){var h=_("./reader/readerFor"),c=_("./utils"),a=_("./signature"),l=_("./zipEntry"),u=_("./support");function y(x){this.files=[],this.loadOptions=x}y.prototype={checkSignature:function(x){if(!this.reader.readAndCheckSignature(x)){this.reader.index-=4;var w=this.reader.readString(4);throw new Error("Corrupted zip or bug: unexpected signature ("+c.pretty(w)+", expected "+c.pretty(x)+")")}},isSignature:function(x,w){var i=this.reader.index;this.reader.setIndex(x);var p=this.reader.readString(4)===w;return this.reader.setIndex(i),p},readBlockEndOfCentral:function(){this.diskNumber=this.reader.readInt(2),this.diskWithCentralDirStart=this.reader.readInt(2),this.centralDirRecordsOnThisDisk=this.reader.readInt(2),this.centralDirRecords=this.reader.readInt(2),this.centralDirSize=this.reader.readInt(4),this.centralDirOffset=this.reader.readInt(4),this.zipCommentLength=this.reader.readInt(2);var x=this.reader.readData(this.zipCommentLength),w=u.uint8array?"uint8array":"array",i=c.transformTo(w,x);this.zipComment=this.loadOptions.decodeFileName(i)},readBlockZip64EndOfCentral:function(){this.zip64EndOfCentralSize=this.reader.readInt(8),this.reader.skip(4),this.diskNumber=this.reader.readInt(4),this.diskWithCentralDirStart=this.reader.readInt(4),this.centralDirRecordsOnThisDisk=this.reader.readInt(8),this.centralDirRecords=this.reader.readInt(8),this.centralDirSize=this.reader.readInt(8),this.centralDirOffset=this.reader.readInt(8),this.zip64ExtensibleData={};for(var x,w,i,p=this.zip64EndOfCentralSize-44;0<p;)x=this.reader.readInt(2),w=this.reader.readInt(4),i=this.reader.readData(w),this.zip64ExtensibleData[x]={id:x,length:w,value:i}},readBlockZip64EndOfCentralLocator:function(){if(this.diskWithZip64CentralDirStart=this.reader.readInt(4),this.relativeOffsetEndOfZip64CentralDir=this.reader.readInt(8),this.disksCount=this.reader.readInt(4),1<this.disksCount)throw new Error("Multi-volumes zip are not supported")},readLocalFiles:function(){var x,w;for(x=0;x<this.files.length;x++)w=this.files[x],this.reader.setIndex(w.localHeaderOffset),this.checkSignature(a.LOCAL_FILE_HEADER),w.readLocalPart(this.reader),w.handleUTF8(),w.processAttributes()},readCentralDir:function(){var x;for(this.reader.setIndex(this.centralDirOffset);this.reader.readAndCheckSignature(a.CENTRAL_FILE_HEADER);)(x=new l({zip64:this.zip64},this.loadOptions)).readCentralPart(this.reader),this.files.push(x);if(this.centralDirRecords!==this.files.length&&this.centralDirRecords!==0&&this.files.length===0)throw new Error("Corrupted zip or bug: expected "+this.centralDirRecords+" records in central dir, got "+this.files.length)},readEndOfCentral:function(){var x=this.reader.lastIndexOfSignature(a.CENTRAL_DIRECTORY_END);if(x<0)throw this.isSignature(0,a.LOCAL_FILE_HEADER)?new Error("Corrupted zip: can't find end of central directory"):new Error("Can't find end of central directory : is this a zip file ? If it is, see https://stuk.github.io/jszip/documentation/howto/read_zip.html");this.reader.setIndex(x);var w=x;if(this.checkSignature(a.CENTRAL_DIRECTORY_END),this.readBlockEndOfCentral(),this.diskNumber===c.MAX_VALUE_16BITS||this.diskWithCentralDirStart===c.MAX_VALUE_16BITS||this.centralDirRecordsOnThisDisk===c.MAX_VALUE_16BITS||this.centralDirRecords===c.MAX_VALUE_16BITS||this.centralDirSize===c.MAX_VALUE_32BITS||this.centralDirOffset===c.MAX_VALUE_32BITS){if(this.zip64=!0,(x=this.reader.lastIndexOfSignature(a.ZIP64_CENTRAL_DIRECTORY_LOCATOR))<0)throw new Error("Corrupted zip: can't find the ZIP64 end of central directory locator");if(this.reader.setIndex(x),this.checkSignature(a.ZIP64_CENTRAL_DIRECTORY_LOCATOR),this.readBlockZip64EndOfCentralLocator(),!this.isSignature(this.relativeOffsetEndOfZip64CentralDir,a.ZIP64_CENTRAL_DIRECTORY_END)&&(this.relativeOffsetEndOfZip64CentralDir=this.reader.lastIndexOfSignature(a.ZIP64_CENTRAL_DIRECTORY_END),this.relativeOffsetEndOfZip64CentralDir<0))throw new Error("Corrupted zip: can't find the ZIP64 end of central directory");this.reader.setIndex(this.relativeOffsetEndOfZip64CentralDir),this.checkSignature(a.ZIP64_CENTRAL_DIRECTORY_END),this.readBlockZip64EndOfCentral()}var i=this.centralDirOffset+this.centralDirSize;this.zip64&&(i+=20,i+=12+this.zip64EndOfCentralSize);var p=w-i;if(0<p)this.isSignature(w,a.CENTRAL_FILE_HEADER)||(this.reader.zero=p);else if(p<0)throw new Error("Corrupted zip: missing "+Math.abs(p)+" bytes.")},prepareReader:function(x){this.reader=h(x)},load:function(x){this.prepareReader(x),this.readEndOfCentral(),this.readCentralDir(),this.readLocalFiles()}},F.exports=y},{"./reader/readerFor":22,"./signature":23,"./support":30,"./utils":32,"./zipEntry":34}],34:[function(_,F,j){var h=_("./reader/readerFor"),c=_("./utils"),a=_("./compressedObject"),l=_("./crc32"),u=_("./utf8"),y=_("./compressions"),x=_("./support");function w(i,p){this.options=i,this.loadOptions=p}w.prototype={isEncrypted:function(){return(1&this.bitFlag)==1},useUTF8:function(){return(2048&this.bitFlag)==2048},readLocalPart:function(i){var p,s;if(i.skip(22),this.fileNameLength=i.readInt(2),s=i.readInt(2),this.fileName=i.readData(this.fileNameLength),i.skip(s),this.compressedSize===-1||this.uncompressedSize===-1)throw new Error("Bug or corrupted zip : didn't get enough information from the central directory (compressedSize === -1 || uncompressedSize === -1)");if((p=(function(f){for(var n in y)if(Object.prototype.hasOwnProperty.call(y,n)&&y[n].magic===f)return y[n];return null})(this.compressionMethod))===null)throw new Error("Corrupted zip : compression "+c.pretty(this.compressionMethod)+" unknown (inner file : "+c.transformTo("string",this.fileName)+")");this.decompressed=new a(this.compressedSize,this.uncompressedSize,this.crc32,p,i.readData(this.compressedSize))},readCentralPart:function(i){this.versionMadeBy=i.readInt(2),i.skip(2),this.bitFlag=i.readInt(2),this.compressionMethod=i.readString(2),this.date=i.readDate(),this.crc32=i.readInt(4),this.compressedSize=i.readInt(4),this.uncompressedSize=i.readInt(4);var p=i.readInt(2);if(this.extraFieldsLength=i.readInt(2),this.fileCommentLength=i.readInt(2),this.diskNumberStart=i.readInt(2),this.internalFileAttributes=i.readInt(2),this.externalFileAttributes=i.readInt(4),this.localHeaderOffset=i.readInt(4),this.isEncrypted())throw new Error("Encrypted zip are not supported");i.skip(p),this.readExtraFields(i),this.parseZIP64ExtraField(i),this.fileComment=i.readData(this.fileCommentLength)},processAttributes:function(){this.unixPermissions=null,this.dosPermissions=null;var i=this.versionMadeBy>>8;this.dir=!!(16&this.externalFileAttributes),i==0&&(this.dosPermissions=63&this.externalFileAttributes),i==3&&(this.unixPermissions=this.externalFileAttributes>>16&65535),this.dir||this.fileNameStr.slice(-1)!=="/"||(this.dir=!0)},parseZIP64ExtraField:function(){if(this.extraFields[1]){var i=h(this.extraFields[1].value);this.uncompressedSize===c.MAX_VALUE_32BITS&&(this.uncompressedSize=i.readInt(8)),this.compressedSize===c.MAX_VALUE_32BITS&&(this.compressedSize=i.readInt(8)),this.localHeaderOffset===c.MAX_VALUE_32BITS&&(this.localHeaderOffset=i.readInt(8)),this.diskNumberStart===c.MAX_VALUE_32BITS&&(this.diskNumberStart=i.readInt(4))}},readExtraFields:function(i){var p,s,f,n=i.index+this.extraFieldsLength;for(this.extraFields||(this.extraFields={});i.index+4<n;)p=i.readInt(2),s=i.readInt(2),f=i.readData(s),this.extraFields[p]={id:p,length:s,value:f};i.setIndex(n)},handleUTF8:function(){var i=x.uint8array?"uint8array":"array";if(this.useUTF8())this.fileNameStr=u.utf8decode(this.fileName),this.fileCommentStr=u.utf8decode(this.fileComment);else{var p=this.findExtraFieldUnicodePath();if(p!==null)this.fileNameStr=p;else{var s=c.transformTo(i,this.fileName);this.fileNameStr=this.loadOptions.decodeFileName(s)}var f=this.findExtraFieldUnicodeComment();if(f!==null)this.fileCommentStr=f;else{var n=c.transformTo(i,this.fileComment);this.fileCommentStr=this.loadOptions.decodeFileName(n)}}},findExtraFieldUnicodePath:function(){var i=this.extraFields[28789];if(i){var p=h(i.value);return p.readInt(1)!==1||l(this.fileName)!==p.readInt(4)?null:u.utf8decode(p.readData(i.length-5))}return null},findExtraFieldUnicodeComment:function(){var i=this.extraFields[25461];if(i){var p=h(i.value);return p.readInt(1)!==1||l(this.fileComment)!==p.readInt(4)?null:u.utf8decode(p.readData(i.length-5))}return null}},F.exports=w},{"./compressedObject":2,"./compressions":3,"./crc32":4,"./reader/readerFor":22,"./support":30,"./utf8":31,"./utils":32}],35:[function(_,F,j){function h(p,s,f){this.name=p,this.dir=f.dir,this.date=f.date,this.comment=f.comment,this.unixPermissions=f.unixPermissions,this.dosPermissions=f.dosPermissions,this._data=s,this._dataBinary=f.binary,this.options={compression:f.compression,compressionOptions:f.compressionOptions}}var c=_("./stream/StreamHelper"),a=_("./stream/DataWorker"),l=_("./utf8"),u=_("./compressedObject"),y=_("./stream/GenericWorker");h.prototype={internalStream:function(p){var s=null,f="string";try{if(!p)throw new Error("No output type specified.");var n=(f=p.toLowerCase())==="string"||f==="text";f!=="binarystring"&&f!=="text"||(f="string"),s=this._decompressWorker();var m=!this._dataBinary;m&&!n&&(s=s.pipe(new l.Utf8EncodeWorker)),!m&&n&&(s=s.pipe(new l.Utf8DecodeWorker))}catch(v){(s=new y("error")).error(v)}return new c(s,f,"")},async:function(p,s){return this.internalStream(p).accumulate(s)},nodeStream:function(p,s){return this.internalStream(p||"nodebuffer").toNodejsStream(s)},_compressWorker:function(p,s){if(this._data instanceof u&&this._data.compression.magic===p.magic)return this._data.getCompressedWorker();var f=this._decompressWorker();return this._dataBinary||(f=f.pipe(new l.Utf8EncodeWorker)),u.createWorkerFrom(f,p,s)},_decompressWorker:function(){return this._data instanceof u?this._data.getContentWorker():this._data instanceof y?this._data:new a(this._data)}};for(var x=["asText","asBinary","asNodeBuffer","asUint8Array","asArrayBuffer"],w=function(){throw new Error("This method has been removed in JSZip 3.0, please check the upgrade guide.")},i=0;i<x.length;i++)h.prototype[x[i]]=w;F.exports=h},{"./compressedObject":2,"./stream/DataWorker":27,"./stream/GenericWorker":28,"./stream/StreamHelper":29,"./utf8":31}],36:[function(_,F,j){(function(h){var c,a,l=h.MutationObserver||h.WebKitMutationObserver;if(l){var u=0,y=new l(p),x=h.document.createTextNode("");y.observe(x,{characterData:!0}),c=function(){x.data=u=++u%2}}else if(h.setImmediate||h.MessageChannel===void 0)c="document"in h&&"onreadystatechange"in h.document.createElement("script")?function(){var s=h.document.createElement("script");s.onreadystatechange=function(){p(),s.onreadystatechange=null,s.parentNode.removeChild(s),s=null},h.document.documentElement.appendChild(s)}:function(){setTimeout(p,0)};else{var w=new h.MessageChannel;w.port1.onmessage=p,c=function(){w.port2.postMessage(0)}}var i=[];function p(){var s,f;a=!0;for(var n=i.length;n;){for(f=i,i=[],s=-1;++s<n;)f[s]();n=i.length}a=!1}F.exports=function(s){i.push(s)!==1||a||c()}}).call(this,typeof De<"u"?De:typeof self<"u"?self:typeof window<"u"?window:{})},{}],37:[function(_,F,j){var h=_("immediate");function c(){}var a={},l=["REJECTED"],u=["FULFILLED"],y=["PENDING"];function x(n){if(typeof n!="function")throw new TypeError("resolver must be a function");this.state=y,this.queue=[],this.outcome=void 0,n!==c&&s(this,n)}function w(n,m,v){this.promise=n,typeof m=="function"&&(this.onFulfilled=m,this.callFulfilled=this.otherCallFulfilled),typeof v=="function"&&(this.onRejected=v,this.callRejected=this.otherCallRejected)}function i(n,m,v){h(function(){var z;try{z=m(v)}catch(N){return a.reject(n,N)}z===n?a.reject(n,new TypeError("Cannot resolve promise with itself")):a.resolve(n,z)})}function p(n){var m=n&&n.then;if(n&&(typeof n=="object"||typeof n=="function")&&typeof m=="function")return function(){m.apply(n,arguments)}}function s(n,m){var v=!1;function z(R){v||(v=!0,a.reject(n,R))}function N(R){v||(v=!0,a.resolve(n,R))}var B=f(function(){m(N,z)});B.status==="error"&&z(B.value)}function f(n,m){var v={};try{v.value=n(m),v.status="success"}catch(z){v.status="error",v.value=z}return v}(F.exports=x).prototype.finally=function(n){if(typeof n!="function")return this;var m=this.constructor;return this.then(function(v){return m.resolve(n()).then(function(){return v})},function(v){return m.resolve(n()).then(function(){throw v})})},x.prototype.catch=function(n){return this.then(null,n)},x.prototype.then=function(n,m){if(typeof n!="function"&&this.state===u||typeof m!="function"&&this.state===l)return this;var v=new this.constructor(c);return this.state!==y?i(v,this.state===u?n:m,this.outcome):this.queue.push(new w(v,n,m)),v},w.prototype.callFulfilled=function(n){a.resolve(this.promise,n)},w.prototype.otherCallFulfilled=function(n){i(this.promise,this.onFulfilled,n)},w.prototype.callRejected=function(n){a.reject(this.promise,n)},w.prototype.otherCallRejected=function(n){i(this.promise,this.onRejected,n)},a.resolve=function(n,m){var v=f(p,m);if(v.status==="error")return a.reject(n,v.value);var z=v.value;if(z)s(n,z);else{n.state=u,n.outcome=m;for(var N=-1,B=n.queue.length;++N<B;)n.queue[N].callFulfilled(m)}return n},a.reject=function(n,m){n.state=l,n.outcome=m;for(var v=-1,z=n.queue.length;++v<z;)n.queue[v].callRejected(m);return n},x.resolve=function(n){return n instanceof this?n:a.resolve(new this(c),n)},x.reject=function(n){var m=new this(c);return a.reject(m,n)},x.all=function(n){var m=this;if(Object.prototype.toString.call(n)!=="[object Array]")return this.reject(new TypeError("must be an array"));var v=n.length,z=!1;if(!v)return this.resolve([]);for(var N=new Array(v),B=0,R=-1,M=new this(c);++R<v;)I(n[R],R);return M;function I($,J){m.resolve($).then(function(g){N[J]=g,++B!==v||z||(z=!0,a.resolve(M,N))},function(g){z||(z=!0,a.reject(M,g))})}},x.race=function(n){var m=this;if(Object.prototype.toString.call(n)!=="[object Array]")return this.reject(new TypeError("must be an array"));var v=n.length,z=!1;if(!v)return this.resolve([]);for(var N=-1,B=new this(c);++N<v;)R=n[N],m.resolve(R).then(function(M){z||(z=!0,a.resolve(B,M))},function(M){z||(z=!0,a.reject(B,M))});var R;return B}},{immediate:36}],38:[function(_,F,j){var h={};(0,_("./lib/utils/common").assign)(h,_("./lib/deflate"),_("./lib/inflate"),_("./lib/zlib/constants")),F.exports=h},{"./lib/deflate":39,"./lib/inflate":40,"./lib/utils/common":41,"./lib/zlib/constants":44}],39:[function(_,F,j){var h=_("./zlib/deflate"),c=_("./utils/common"),a=_("./utils/strings"),l=_("./zlib/messages"),u=_("./zlib/zstream"),y=Object.prototype.toString,x=0,w=-1,i=0,p=8;function s(n){if(!(this instanceof s))return new s(n);this.options=c.assign({level:w,method:p,chunkSize:16384,windowBits:15,memLevel:8,strategy:i,to:""},n||{});var m=this.options;m.raw&&0<m.windowBits?m.windowBits=-m.windowBits:m.gzip&&0<m.windowBits&&m.windowBits<16&&(m.windowBits+=16),this.err=0,this.msg="",this.ended=!1,this.chunks=[],this.strm=new u,this.strm.avail_out=0;var v=h.deflateInit2(this.strm,m.level,m.method,m.windowBits,m.memLevel,m.strategy);if(v!==x)throw new Error(l[v]);if(m.header&&h.deflateSetHeader(this.strm,m.header),m.dictionary){var z;if(z=typeof m.dictionary=="string"?a.string2buf(m.dictionary):y.call(m.dictionary)==="[object ArrayBuffer]"?new Uint8Array(m.dictionary):m.dictionary,(v=h.deflateSetDictionary(this.strm,z))!==x)throw new Error(l[v]);this._dict_set=!0}}function f(n,m){var v=new s(m);if(v.push(n,!0),v.err)throw v.msg||l[v.err];return v.result}s.prototype.push=function(n,m){var v,z,N=this.strm,B=this.options.chunkSize;if(this.ended)return!1;z=m===~~m?m:m===!0?4:0,typeof n=="string"?N.input=a.string2buf(n):y.call(n)==="[object ArrayBuffer]"?N.input=new Uint8Array(n):N.input=n,N.next_in=0,N.avail_in=N.input.length;do{if(N.avail_out===0&&(N.output=new c.Buf8(B),N.next_out=0,N.avail_out=B),(v=h.deflate(N,z))!==1&&v!==x)return this.onEnd(v),!(this.ended=!0);N.avail_out!==0&&(N.avail_in!==0||z!==4&&z!==2)||(this.options.to==="string"?this.onData(a.buf2binstring(c.shrinkBuf(N.output,N.next_out))):this.onData(c.shrinkBuf(N.output,N.next_out)))}while((0<N.avail_in||N.avail_out===0)&&v!==1);return z===4?(v=h.deflateEnd(this.strm),this.onEnd(v),this.ended=!0,v===x):z!==2||(this.onEnd(x),!(N.avail_out=0))},s.prototype.onData=function(n){this.chunks.push(n)},s.prototype.onEnd=function(n){n===x&&(this.options.to==="string"?this.result=this.chunks.join(""):this.result=c.flattenChunks(this.chunks)),this.chunks=[],this.err=n,this.msg=this.strm.msg},j.Deflate=s,j.deflate=f,j.deflateRaw=function(n,m){return(m=m||{}).raw=!0,f(n,m)},j.gzip=function(n,m){return(m=m||{}).gzip=!0,f(n,m)}},{"./utils/common":41,"./utils/strings":42,"./zlib/deflate":46,"./zlib/messages":51,"./zlib/zstream":53}],40:[function(_,F,j){var h=_("./zlib/inflate"),c=_("./utils/common"),a=_("./utils/strings"),l=_("./zlib/constants"),u=_("./zlib/messages"),y=_("./zlib/zstream"),x=_("./zlib/gzheader"),w=Object.prototype.toString;function i(s){if(!(this instanceof i))return new i(s);this.options=c.assign({chunkSize:16384,windowBits:0,to:""},s||{});var f=this.options;f.raw&&0<=f.windowBits&&f.windowBits<16&&(f.windowBits=-f.windowBits,f.windowBits===0&&(f.windowBits=-15)),!(0<=f.windowBits&&f.windowBits<16)||s&&s.windowBits||(f.windowBits+=32),15<f.windowBits&&f.windowBits<48&&(15&f.windowBits)==0&&(f.windowBits|=15),this.err=0,this.msg="",this.ended=!1,this.chunks=[],this.strm=new y,this.strm.avail_out=0;var n=h.inflateInit2(this.strm,f.windowBits);if(n!==l.Z_OK)throw new Error(u[n]);this.header=new x,h.inflateGetHeader(this.strm,this.header)}function p(s,f){var n=new i(f);if(n.push(s,!0),n.err)throw n.msg||u[n.err];return n.result}i.prototype.push=function(s,f){var n,m,v,z,N,B,R=this.strm,M=this.options.chunkSize,I=this.options.dictionary,$=!1;if(this.ended)return!1;m=f===~~f?f:f===!0?l.Z_FINISH:l.Z_NO_FLUSH,typeof s=="string"?R.input=a.binstring2buf(s):w.call(s)==="[object ArrayBuffer]"?R.input=new Uint8Array(s):R.input=s,R.next_in=0,R.avail_in=R.input.length;do{if(R.avail_out===0&&(R.output=new c.Buf8(M),R.next_out=0,R.avail_out=M),(n=h.inflate(R,l.Z_NO_FLUSH))===l.Z_NEED_DICT&&I&&(B=typeof I=="string"?a.string2buf(I):w.call(I)==="[object ArrayBuffer]"?new Uint8Array(I):I,n=h.inflateSetDictionary(this.strm,B)),n===l.Z_BUF_ERROR&&$===!0&&(n=l.Z_OK,$=!1),n!==l.Z_STREAM_END&&n!==l.Z_OK)return this.onEnd(n),!(this.ended=!0);R.next_out&&(R.avail_out!==0&&n!==l.Z_STREAM_END&&(R.avail_in!==0||m!==l.Z_FINISH&&m!==l.Z_SYNC_FLUSH)||(this.options.to==="string"?(v=a.utf8border(R.output,R.next_out),z=R.next_out-v,N=a.buf2string(R.output,v),R.next_out=z,R.avail_out=M-z,z&&c.arraySet(R.output,R.output,v,z,0),this.onData(N)):this.onData(c.shrinkBuf(R.output,R.next_out)))),R.avail_in===0&&R.avail_out===0&&($=!0)}while((0<R.avail_in||R.avail_out===0)&&n!==l.Z_STREAM_END);return n===l.Z_STREAM_END&&(m=l.Z_FINISH),m===l.Z_FINISH?(n=h.inflateEnd(this.strm),this.onEnd(n),this.ended=!0,n===l.Z_OK):m!==l.Z_SYNC_FLUSH||(this.onEnd(l.Z_OK),!(R.avail_out=0))},i.prototype.onData=function(s){this.chunks.push(s)},i.prototype.onEnd=function(s){s===l.Z_OK&&(this.options.to==="string"?this.result=this.chunks.join(""):this.result=c.flattenChunks(this.chunks)),this.chunks=[],this.err=s,this.msg=this.strm.msg},j.Inflate=i,j.inflate=p,j.inflateRaw=function(s,f){return(f=f||{}).raw=!0,p(s,f)},j.ungzip=p},{"./utils/common":41,"./utils/strings":42,"./zlib/constants":44,"./zlib/gzheader":47,"./zlib/inflate":49,"./zlib/messages":51,"./zlib/zstream":53}],41:[function(_,F,j){var h=typeof Uint8Array<"u"&&typeof Uint16Array<"u"&&typeof Int32Array<"u";j.assign=function(l){for(var u=Array.prototype.slice.call(arguments,1);u.length;){var y=u.shift();if(y){if(typeof y!="object")throw new TypeError(y+"must be non-object");for(var x in y)y.hasOwnProperty(x)&&(l[x]=y[x])}}return l},j.shrinkBuf=function(l,u){return l.length===u?l:l.subarray?l.subarray(0,u):(l.length=u,l)};var c={arraySet:function(l,u,y,x,w){if(u.subarray&&l.subarray)l.set(u.subarray(y,y+x),w);else for(var i=0;i<x;i++)l[w+i]=u[y+i]},flattenChunks:function(l){var u,y,x,w,i,p;for(u=x=0,y=l.length;u<y;u++)x+=l[u].length;for(p=new Uint8Array(x),u=w=0,y=l.length;u<y;u++)i=l[u],p.set(i,w),w+=i.length;return p}},a={arraySet:function(l,u,y,x,w){for(var i=0;i<x;i++)l[w+i]=u[y+i]},flattenChunks:function(l){return[].concat.apply([],l)}};j.setTyped=function(l){l?(j.Buf8=Uint8Array,j.Buf16=Uint16Array,j.Buf32=Int32Array,j.assign(j,c)):(j.Buf8=Array,j.Buf16=Array,j.Buf32=Array,j.assign(j,a))},j.setTyped(h)},{}],42:[function(_,F,j){var h=_("./common"),c=!0,a=!0;try{String.fromCharCode.apply(null,[0])}catch{c=!1}try{String.fromCharCode.apply(null,new Uint8Array(1))}catch{a=!1}for(var l=new h.Buf8(256),u=0;u<256;u++)l[u]=252<=u?6:248<=u?5:240<=u?4:224<=u?3:192<=u?2:1;function y(x,w){if(w<65537&&(x.subarray&&a||!x.subarray&&c))return String.fromCharCode.apply(null,h.shrinkBuf(x,w));for(var i="",p=0;p<w;p++)i+=String.fromCharCode(x[p]);return i}l[254]=l[254]=1,j.string2buf=function(x){var w,i,p,s,f,n=x.length,m=0;for(s=0;s<n;s++)(64512&(i=x.charCodeAt(s)))==55296&&s+1<n&&(64512&(p=x.charCodeAt(s+1)))==56320&&(i=65536+(i-55296<<10)+(p-56320),s++),m+=i<128?1:i<2048?2:i<65536?3:4;for(w=new h.Buf8(m),s=f=0;f<m;s++)(64512&(i=x.charCodeAt(s)))==55296&&s+1<n&&(64512&(p=x.charCodeAt(s+1)))==56320&&(i=65536+(i-55296<<10)+(p-56320),s++),i<128?w[f++]=i:(i<2048?w[f++]=192|i>>>6:(i<65536?w[f++]=224|i>>>12:(w[f++]=240|i>>>18,w[f++]=128|i>>>12&63),w[f++]=128|i>>>6&63),w[f++]=128|63&i);return w},j.buf2binstring=function(x){return y(x,x.length)},j.binstring2buf=function(x){for(var w=new h.Buf8(x.length),i=0,p=w.length;i<p;i++)w[i]=x.charCodeAt(i);return w},j.buf2string=function(x,w){var i,p,s,f,n=w||x.length,m=new Array(2*n);for(i=p=0;i<n;)if((s=x[i++])<128)m[p++]=s;else if(4<(f=l[s]))m[p++]=65533,i+=f-1;else{for(s&=f===2?31:f===3?15:7;1<f&&i<n;)s=s<<6|63&x[i++],f--;1<f?m[p++]=65533:s<65536?m[p++]=s:(s-=65536,m[p++]=55296|s>>10&1023,m[p++]=56320|1023&s)}return y(m,p)},j.utf8border=function(x,w){var i;for((w=w||x.length)>x.length&&(w=x.length),i=w-1;0<=i&&(192&x[i])==128;)i--;return i<0||i===0?w:i+l[x[i]]>w?i:w}},{"./common":41}],43:[function(_,F,j){F.exports=function(h,c,a,l){for(var u=65535&h|0,y=h>>>16&65535|0,x=0;a!==0;){for(a-=x=2e3<a?2e3:a;y=y+(u=u+c[l++]|0)|0,--x;);u%=65521,y%=65521}return u|y<<16|0}},{}],44:[function(_,F,j){F.exports={Z_NO_FLUSH:0,Z_PARTIAL_FLUSH:1,Z_SYNC_FLUSH:2,Z_FULL_FLUSH:3,Z_FINISH:4,Z_BLOCK:5,Z_TREES:6,Z_OK:0,Z_STREAM_END:1,Z_NEED_DICT:2,Z_ERRNO:-1,Z_STREAM_ERROR:-2,Z_DATA_ERROR:-3,Z_BUF_ERROR:-5,Z_NO_COMPRESSION:0,Z_BEST_SPEED:1,Z_BEST_COMPRESSION:9,Z_DEFAULT_COMPRESSION:-1,Z_FILTERED:1,Z_HUFFMAN_ONLY:2,Z_RLE:3,Z_FIXED:4,Z_DEFAULT_STRATEGY:0,Z_BINARY:0,Z_TEXT:1,Z_UNKNOWN:2,Z_DEFLATED:8}},{}],45:[function(_,F,j){var h=(function(){for(var c,a=[],l=0;l<256;l++){c=l;for(var u=0;u<8;u++)c=1&c?3988292384^c>>>1:c>>>1;a[l]=c}return a})();F.exports=function(c,a,l,u){var y=h,x=u+l;c^=-1;for(var w=u;w<x;w++)c=c>>>8^y[255&(c^a[w])];return-1^c}},{}],46:[function(_,F,j){var h,c=_("../utils/common"),a=_("./trees"),l=_("./adler32"),u=_("./crc32"),y=_("./messages"),x=0,w=4,i=0,p=-2,s=-1,f=4,n=2,m=8,v=9,z=286,N=30,B=19,R=2*z+1,M=15,I=3,$=258,J=$+I+1,g=42,O=113,r=1,T=2,re=3,U=4;function ae(t,D){return t.msg=y[D],D}function Z(t){return(t<<1)-(4<t?9:0)}function te(t){for(var D=t.length;0<=--D;)t[D]=0}function A(t){var D=t.state,C=D.pending;C>t.avail_out&&(C=t.avail_out),C!==0&&(c.arraySet(t.output,D.pending_buf,D.pending_out,C,t.next_out),t.next_out+=C,D.pending_out+=C,t.total_out+=C,t.avail_out-=C,D.pending-=C,D.pending===0&&(D.pending_out=0))}function E(t,D){a._tr_flush_block(t,0<=t.block_start?t.block_start:-1,t.strstart-t.block_start,D),t.block_start=t.strstart,A(t.strm)}function X(t,D){t.pending_buf[t.pending++]=D}function K(t,D){t.pending_buf[t.pending++]=D>>>8&255,t.pending_buf[t.pending++]=255&D}function H(t,D){var C,d,o=t.max_chain_length,k=t.strstart,P=t.prev_length,L=t.nice_match,S=t.strstart>t.w_size-J?t.strstart-(t.w_size-J):0,W=t.window,Y=t.w_mask,G=t.prev,Q=t.strstart+$,de=W[k+P-1],se=W[k+P];t.prev_length>=t.good_match&&(o>>=2),L>t.lookahead&&(L=t.lookahead);do if(W[(C=D)+P]===se&&W[C+P-1]===de&&W[C]===W[k]&&W[++C]===W[k+1]){k+=2,C++;do;while(W[++k]===W[++C]&&W[++k]===W[++C]&&W[++k]===W[++C]&&W[++k]===W[++C]&&W[++k]===W[++C]&&W[++k]===W[++C]&&W[++k]===W[++C]&&W[++k]===W[++C]&&k<Q);if(d=$-(Q-k),k=Q-$,P<d){if(t.match_start=D,L<=(P=d))break;de=W[k+P-1],se=W[k+P]}}while((D=G[D&Y])>S&&--o!=0);return P<=t.lookahead?P:t.lookahead}function me(t){var D,C,d,o,k,P,L,S,W,Y,G=t.w_size;do{if(o=t.window_size-t.lookahead-t.strstart,t.strstart>=G+(G-J)){for(c.arraySet(t.window,t.window,G,G,0),t.match_start-=G,t.strstart-=G,t.block_start-=G,D=C=t.hash_size;d=t.head[--D],t.head[D]=G<=d?d-G:0,--C;);for(D=C=G;d=t.prev[--D],t.prev[D]=G<=d?d-G:0,--C;);o+=G}if(t.strm.avail_in===0)break;if(P=t.strm,L=t.window,S=t.strstart+t.lookahead,W=o,Y=void 0,Y=P.avail_in,W<Y&&(Y=W),C=Y===0?0:(P.avail_in-=Y,c.arraySet(L,P.input,P.next_in,Y,S),P.state.wrap===1?P.adler=l(P.adler,L,Y,S):P.state.wrap===2&&(P.adler=u(P.adler,L,Y,S)),P.next_in+=Y,P.total_in+=Y,Y),t.lookahead+=C,t.lookahead+t.insert>=I)for(k=t.strstart-t.insert,t.ins_h=t.window[k],t.ins_h=(t.ins_h<<t.hash_shift^t.window[k+1])&t.hash_mask;t.insert&&(t.ins_h=(t.ins_h<<t.hash_shift^t.window[k+I-1])&t.hash_mask,t.prev[k&t.w_mask]=t.head[t.ins_h],t.head[t.ins_h]=k,k++,t.insert--,!(t.lookahead+t.insert<I)););}while(t.lookahead<J&&t.strm.avail_in!==0)}function ce(t,D){for(var C,d;;){if(t.lookahead<J){if(me(t),t.lookahead<J&&D===x)return r;if(t.lookahead===0)break}if(C=0,t.lookahead>=I&&(t.ins_h=(t.ins_h<<t.hash_shift^t.window[t.strstart+I-1])&t.hash_mask,C=t.prev[t.strstart&t.w_mask]=t.head[t.ins_h],t.head[t.ins_h]=t.strstart),C!==0&&t.strstart-C<=t.w_size-J&&(t.match_length=H(t,C)),t.match_length>=I)if(d=a._tr_tally(t,t.strstart-t.match_start,t.match_length-I),t.lookahead-=t.match_length,t.match_length<=t.max_lazy_match&&t.lookahead>=I){for(t.match_length--;t.strstart++,t.ins_h=(t.ins_h<<t.hash_shift^t.window[t.strstart+I-1])&t.hash_mask,C=t.prev[t.strstart&t.w_mask]=t.head[t.ins_h],t.head[t.ins_h]=t.strstart,--t.match_length!=0;);t.strstart++}else t.strstart+=t.match_length,t.match_length=0,t.ins_h=t.window[t.strstart],t.ins_h=(t.ins_h<<t.hash_shift^t.window[t.strstart+1])&t.hash_mask;else d=a._tr_tally(t,0,t.window[t.strstart]),t.lookahead--,t.strstart++;if(d&&(E(t,!1),t.strm.avail_out===0))return r}return t.insert=t.strstart<I-1?t.strstart:I-1,D===w?(E(t,!0),t.strm.avail_out===0?re:U):t.last_lit&&(E(t,!1),t.strm.avail_out===0)?r:T}function ie(t,D){for(var C,d,o;;){if(t.lookahead<J){if(me(t),t.lookahead<J&&D===x)return r;if(t.lookahead===0)break}if(C=0,t.lookahead>=I&&(t.ins_h=(t.ins_h<<t.hash_shift^t.window[t.strstart+I-1])&t.hash_mask,C=t.prev[t.strstart&t.w_mask]=t.head[t.ins_h],t.head[t.ins_h]=t.strstart),t.prev_length=t.match_length,t.prev_match=t.match_start,t.match_length=I-1,C!==0&&t.prev_length<t.max_lazy_match&&t.strstart-C<=t.w_size-J&&(t.match_length=H(t,C),t.match_length<=5&&(t.strategy===1||t.match_length===I&&4096<t.strstart-t.match_start)&&(t.match_length=I-1)),t.prev_length>=I&&t.match_length<=t.prev_length){for(o=t.strstart+t.lookahead-I,d=a._tr_tally(t,t.strstart-1-t.prev_match,t.prev_length-I),t.lookahead-=t.prev_length-1,t.prev_length-=2;++t.strstart<=o&&(t.ins_h=(t.ins_h<<t.hash_shift^t.window[t.strstart+I-1])&t.hash_mask,C=t.prev[t.strstart&t.w_mask]=t.head[t.ins_h],t.head[t.ins_h]=t.strstart),--t.prev_length!=0;);if(t.match_available=0,t.match_length=I-1,t.strstart++,d&&(E(t,!1),t.strm.avail_out===0))return r}else if(t.match_available){if((d=a._tr_tally(t,0,t.window[t.strstart-1]))&&E(t,!1),t.strstart++,t.lookahead--,t.strm.avail_out===0)return r}else t.match_available=1,t.strstart++,t.lookahead--}return t.match_available&&(d=a._tr_tally(t,0,t.window[t.strstart-1]),t.match_available=0),t.insert=t.strstart<I-1?t.strstart:I-1,D===w?(E(t,!0),t.strm.avail_out===0?re:U):t.last_lit&&(E(t,!1),t.strm.avail_out===0)?r:T}function oe(t,D,C,d,o){this.good_length=t,this.max_lazy=D,this.nice_length=C,this.max_chain=d,this.func=o}function xe(){this.strm=null,this.status=0,this.pending_buf=null,this.pending_buf_size=0,this.pending_out=0,this.pending=0,this.wrap=0,this.gzhead=null,this.gzindex=0,this.method=m,this.last_flush=-1,this.w_size=0,this.w_bits=0,this.w_mask=0,this.window=null,this.window_size=0,this.prev=null,this.head=null,this.ins_h=0,this.hash_size=0,this.hash_bits=0,this.hash_mask=0,this.hash_shift=0,this.block_start=0,this.match_length=0,this.prev_match=0,this.match_available=0,this.strstart=0,this.match_start=0,this.lookahead=0,this.prev_length=0,this.max_chain_length=0,this.max_lazy_match=0,this.level=0,this.strategy=0,this.good_match=0,this.nice_match=0,this.dyn_ltree=new c.Buf16(2*R),this.dyn_dtree=new c.Buf16(2*(2*N+1)),this.bl_tree=new c.Buf16(2*(2*B+1)),te(this.dyn_ltree),te(this.dyn_dtree),te(this.bl_tree),this.l_desc=null,this.d_desc=null,this.bl_desc=null,this.bl_count=new c.Buf16(M+1),this.heap=new c.Buf16(2*z+1),te(this.heap),this.heap_len=0,this.heap_max=0,this.depth=new c.Buf16(2*z+1),te(this.depth),this.l_buf=0,this.lit_bufsize=0,this.last_lit=0,this.d_buf=0,this.opt_len=0,this.static_len=0,this.matches=0,this.insert=0,this.bi_buf=0,this.bi_valid=0}function ue(t){var D;return t&&t.state?(t.total_in=t.total_out=0,t.data_type=n,(D=t.state).pending=0,D.pending_out=0,D.wrap<0&&(D.wrap=-D.wrap),D.status=D.wrap?g:O,t.adler=D.wrap===2?0:1,D.last_flush=x,a._tr_init(D),i):ae(t,p)}function ke(t){var D=ue(t);return D===i&&(function(C){C.window_size=2*C.w_size,te(C.head),C.max_lazy_match=h[C.level].max_lazy,C.good_match=h[C.level].good_length,C.nice_match=h[C.level].nice_length,C.max_chain_length=h[C.level].max_chain,C.strstart=0,C.block_start=0,C.lookahead=0,C.insert=0,C.match_length=C.prev_length=I-1,C.match_available=0,C.ins_h=0})(t.state),D}function ne(t,D,C,d,o,k){if(!t)return p;var P=1;if(D===s&&(D=6),d<0?(P=0,d=-d):15<d&&(P=2,d-=16),o<1||v<o||C!==m||d<8||15<d||D<0||9<D||k<0||f<k)return ae(t,p);d===8&&(d=9);var L=new xe;return(t.state=L).strm=t,L.wrap=P,L.gzhead=null,L.w_bits=d,L.w_size=1<<L.w_bits,L.w_mask=L.w_size-1,L.hash_bits=o+7,L.hash_size=1<<L.hash_bits,L.hash_mask=L.hash_size-1,L.hash_shift=~~((L.hash_bits+I-1)/I),L.window=new c.Buf8(2*L.w_size),L.head=new c.Buf16(L.hash_size),L.prev=new c.Buf16(L.w_size),L.lit_bufsize=1<<o+6,L.pending_buf_size=4*L.lit_bufsize,L.pending_buf=new c.Buf8(L.pending_buf_size),L.d_buf=1*L.lit_bufsize,L.l_buf=3*L.lit_bufsize,L.level=D,L.strategy=k,L.method=C,ke(t)}h=[new oe(0,0,0,0,function(t,D){var C=65535;for(C>t.pending_buf_size-5&&(C=t.pending_buf_size-5);;){if(t.lookahead<=1){if(me(t),t.lookahead===0&&D===x)return r;if(t.lookahead===0)break}t.strstart+=t.lookahead,t.lookahead=0;var d=t.block_start+C;if((t.strstart===0||t.strstart>=d)&&(t.lookahead=t.strstart-d,t.strstart=d,E(t,!1),t.strm.avail_out===0)||t.strstart-t.block_start>=t.w_size-J&&(E(t,!1),t.strm.avail_out===0))return r}return t.insert=0,D===w?(E(t,!0),t.strm.avail_out===0?re:U):(t.strstart>t.block_start&&(E(t,!1),t.strm.avail_out),r)}),new oe(4,4,8,4,ce),new oe(4,5,16,8,ce),new oe(4,6,32,32,ce),new oe(4,4,16,16,ie),new oe(8,16,32,32,ie),new oe(8,16,128,128,ie),new oe(8,32,128,256,ie),new oe(32,128,258,1024,ie),new oe(32,258,258,4096,ie)],j.deflateInit=function(t,D){return ne(t,D,m,15,8,0)},j.deflateInit2=ne,j.deflateReset=ke,j.deflateResetKeep=ue,j.deflateSetHeader=function(t,D){return t&&t.state?t.state.wrap!==2?p:(t.state.gzhead=D,i):p},j.deflate=function(t,D){var C,d,o,k;if(!t||!t.state||5<D||D<0)return t?ae(t,p):p;if(d=t.state,!t.output||!t.input&&t.avail_in!==0||d.status===666&&D!==w)return ae(t,t.avail_out===0?-5:p);if(d.strm=t,C=d.last_flush,d.last_flush=D,d.status===g)if(d.wrap===2)t.adler=0,X(d,31),X(d,139),X(d,8),d.gzhead?(X(d,(d.gzhead.text?1:0)+(d.gzhead.hcrc?2:0)+(d.gzhead.extra?4:0)+(d.gzhead.name?8:0)+(d.gzhead.comment?16:0)),X(d,255&d.gzhead.time),X(d,d.gzhead.time>>8&255),X(d,d.gzhead.time>>16&255),X(d,d.gzhead.time>>24&255),X(d,d.level===9?2:2<=d.strategy||d.level<2?4:0),X(d,255&d.gzhead.os),d.gzhead.extra&&d.gzhead.extra.length&&(X(d,255&d.gzhead.extra.length),X(d,d.gzhead.extra.length>>8&255)),d.gzhead.hcrc&&(t.adler=u(t.adler,d.pending_buf,d.pending,0)),d.gzindex=0,d.status=69):(X(d,0),X(d,0),X(d,0),X(d,0),X(d,0),X(d,d.level===9?2:2<=d.strategy||d.level<2?4:0),X(d,3),d.status=O);else{var P=m+(d.w_bits-8<<4)<<8;P|=(2<=d.strategy||d.level<2?0:d.level<6?1:d.level===6?2:3)<<6,d.strstart!==0&&(P|=32),P+=31-P%31,d.status=O,K(d,P),d.strstart!==0&&(K(d,t.adler>>>16),K(d,65535&t.adler)),t.adler=1}if(d.status===69)if(d.gzhead.extra){for(o=d.pending;d.gzindex<(65535&d.gzhead.extra.length)&&(d.pending!==d.pending_buf_size||(d.gzhead.hcrc&&d.pending>o&&(t.adler=u(t.adler,d.pending_buf,d.pending-o,o)),A(t),o=d.pending,d.pending!==d.pending_buf_size));)X(d,255&d.gzhead.extra[d.gzindex]),d.gzindex++;d.gzhead.hcrc&&d.pending>o&&(t.adler=u(t.adler,d.pending_buf,d.pending-o,o)),d.gzindex===d.gzhead.extra.length&&(d.gzindex=0,d.status=73)}else d.status=73;if(d.status===73)if(d.gzhead.name){o=d.pending;do{if(d.pending===d.pending_buf_size&&(d.gzhead.hcrc&&d.pending>o&&(t.adler=u(t.adler,d.pending_buf,d.pending-o,o)),A(t),o=d.pending,d.pending===d.pending_buf_size)){k=1;break}k=d.gzindex<d.gzhead.name.length?255&d.gzhead.name.charCodeAt(d.gzindex++):0,X(d,k)}while(k!==0);d.gzhead.hcrc&&d.pending>o&&(t.adler=u(t.adler,d.pending_buf,d.pending-o,o)),k===0&&(d.gzindex=0,d.status=91)}else d.status=91;if(d.status===91)if(d.gzhead.comment){o=d.pending;do{if(d.pending===d.pending_buf_size&&(d.gzhead.hcrc&&d.pending>o&&(t.adler=u(t.adler,d.pending_buf,d.pending-o,o)),A(t),o=d.pending,d.pending===d.pending_buf_size)){k=1;break}k=d.gzindex<d.gzhead.comment.length?255&d.gzhead.comment.charCodeAt(d.gzindex++):0,X(d,k)}while(k!==0);d.gzhead.hcrc&&d.pending>o&&(t.adler=u(t.adler,d.pending_buf,d.pending-o,o)),k===0&&(d.status=103)}else d.status=103;if(d.status===103&&(d.gzhead.hcrc?(d.pending+2>d.pending_buf_size&&A(t),d.pending+2<=d.pending_buf_size&&(X(d,255&t.adler),X(d,t.adler>>8&255),t.adler=0,d.status=O)):d.status=O),d.pending!==0){if(A(t),t.avail_out===0)return d.last_flush=-1,i}else if(t.avail_in===0&&Z(D)<=Z(C)&&D!==w)return ae(t,-5);if(d.status===666&&t.avail_in!==0)return ae(t,-5);if(t.avail_in!==0||d.lookahead!==0||D!==x&&d.status!==666){var L=d.strategy===2?(function(S,W){for(var Y;;){if(S.lookahead===0&&(me(S),S.lookahead===0)){if(W===x)return r;break}if(S.match_length=0,Y=a._tr_tally(S,0,S.window[S.strstart]),S.lookahead--,S.strstart++,Y&&(E(S,!1),S.strm.avail_out===0))return r}return S.insert=0,W===w?(E(S,!0),S.strm.avail_out===0?re:U):S.last_lit&&(E(S,!1),S.strm.avail_out===0)?r:T})(d,D):d.strategy===3?(function(S,W){for(var Y,G,Q,de,se=S.window;;){if(S.lookahead<=$){if(me(S),S.lookahead<=$&&W===x)return r;if(S.lookahead===0)break}if(S.match_length=0,S.lookahead>=I&&0<S.strstart&&(G=se[Q=S.strstart-1])===se[++Q]&&G===se[++Q]&&G===se[++Q]){de=S.strstart+$;do;while(G===se[++Q]&&G===se[++Q]&&G===se[++Q]&&G===se[++Q]&&G===se[++Q]&&G===se[++Q]&&G===se[++Q]&&G===se[++Q]&&Q<de);S.match_length=$-(de-Q),S.match_length>S.lookahead&&(S.match_length=S.lookahead)}if(S.match_length>=I?(Y=a._tr_tally(S,1,S.match_length-I),S.lookahead-=S.match_length,S.strstart+=S.match_length,S.match_length=0):(Y=a._tr_tally(S,0,S.window[S.strstart]),S.lookahead--,S.strstart++),Y&&(E(S,!1),S.strm.avail_out===0))return r}return S.insert=0,W===w?(E(S,!0),S.strm.avail_out===0?re:U):S.last_lit&&(E(S,!1),S.strm.avail_out===0)?r:T})(d,D):h[d.level].func(d,D);if(L!==re&&L!==U||(d.status=666),L===r||L===re)return t.avail_out===0&&(d.last_flush=-1),i;if(L===T&&(D===1?a._tr_align(d):D!==5&&(a._tr_stored_block(d,0,0,!1),D===3&&(te(d.head),d.lookahead===0&&(d.strstart=0,d.block_start=0,d.insert=0))),A(t),t.avail_out===0))return d.last_flush=-1,i}return D!==w?i:d.wrap<=0?1:(d.wrap===2?(X(d,255&t.adler),X(d,t.adler>>8&255),X(d,t.adler>>16&255),X(d,t.adler>>24&255),X(d,255&t.total_in),X(d,t.total_in>>8&255),X(d,t.total_in>>16&255),X(d,t.total_in>>24&255)):(K(d,t.adler>>>16),K(d,65535&t.adler)),A(t),0<d.wrap&&(d.wrap=-d.wrap),d.pending!==0?i:1)},j.deflateEnd=function(t){var D;return t&&t.state?(D=t.state.status)!==g&&D!==69&&D!==73&&D!==91&&D!==103&&D!==O&&D!==666?ae(t,p):(t.state=null,D===O?ae(t,-3):i):p},j.deflateSetDictionary=function(t,D){var C,d,o,k,P,L,S,W,Y=D.length;if(!t||!t.state||(k=(C=t.state).wrap)===2||k===1&&C.status!==g||C.lookahead)return p;for(k===1&&(t.adler=l(t.adler,D,Y,0)),C.wrap=0,Y>=C.w_size&&(k===0&&(te(C.head),C.strstart=0,C.block_start=0,C.insert=0),W=new c.Buf8(C.w_size),c.arraySet(W,D,Y-C.w_size,C.w_size,0),D=W,Y=C.w_size),P=t.avail_in,L=t.next_in,S=t.input,t.avail_in=Y,t.next_in=0,t.input=D,me(C);C.lookahead>=I;){for(d=C.strstart,o=C.lookahead-(I-1);C.ins_h=(C.ins_h<<C.hash_shift^C.window[d+I-1])&C.hash_mask,C.prev[d&C.w_mask]=C.head[C.ins_h],C.head[C.ins_h]=d,d++,--o;);C.strstart=d,C.lookahead=I-1,me(C)}return C.strstart+=C.lookahead,C.block_start=C.strstart,C.insert=C.lookahead,C.lookahead=0,C.match_length=C.prev_length=I-1,C.match_available=0,t.next_in=L,t.input=S,t.avail_in=P,C.wrap=k,i},j.deflateInfo="pako deflate (from Nodeca project)"},{"../utils/common":41,"./adler32":43,"./crc32":45,"./messages":51,"./trees":52}],47:[function(_,F,j){F.exports=function(){this.text=0,this.time=0,this.xflags=0,this.os=0,this.extra=null,this.extra_len=0,this.name="",this.comment="",this.hcrc=0,this.done=!1}},{}],48:[function(_,F,j){F.exports=function(h,c){var a,l,u,y,x,w,i,p,s,f,n,m,v,z,N,B,R,M,I,$,J,g,O,r,T;a=h.state,l=h.next_in,r=h.input,u=l+(h.avail_in-5),y=h.next_out,T=h.output,x=y-(c-h.avail_out),w=y+(h.avail_out-257),i=a.dmax,p=a.wsize,s=a.whave,f=a.wnext,n=a.window,m=a.hold,v=a.bits,z=a.lencode,N=a.distcode,B=(1<<a.lenbits)-1,R=(1<<a.distbits)-1;e:do{v<15&&(m+=r[l++]<<v,v+=8,m+=r[l++]<<v,v+=8),M=z[m&B];t:for(;;){if(m>>>=I=M>>>24,v-=I,(I=M>>>16&255)===0)T[y++]=65535&M;else{if(!(16&I)){if((64&I)==0){M=z[(65535&M)+(m&(1<<I)-1)];continue t}if(32&I){a.mode=12;break e}h.msg="invalid literal/length code",a.mode=30;break e}$=65535&M,(I&=15)&&(v<I&&(m+=r[l++]<<v,v+=8),$+=m&(1<<I)-1,m>>>=I,v-=I),v<15&&(m+=r[l++]<<v,v+=8,m+=r[l++]<<v,v+=8),M=N[m&R];r:for(;;){if(m>>>=I=M>>>24,v-=I,!(16&(I=M>>>16&255))){if((64&I)==0){M=N[(65535&M)+(m&(1<<I)-1)];continue r}h.msg="invalid distance code",a.mode=30;break e}if(J=65535&M,v<(I&=15)&&(m+=r[l++]<<v,(v+=8)<I&&(m+=r[l++]<<v,v+=8)),i<(J+=m&(1<<I)-1)){h.msg="invalid distance too far back",a.mode=30;break e}if(m>>>=I,v-=I,(I=y-x)<J){if(s<(I=J-I)&&a.sane){h.msg="invalid distance too far back",a.mode=30;break e}if(O=n,(g=0)===f){if(g+=p-I,I<$){for($-=I;T[y++]=n[g++],--I;);g=y-J,O=T}}else if(f<I){if(g+=p+f-I,(I-=f)<$){for($-=I;T[y++]=n[g++],--I;);if(g=0,f<$){for($-=I=f;T[y++]=n[g++],--I;);g=y-J,O=T}}}else if(g+=f-I,I<$){for($-=I;T[y++]=n[g++],--I;);g=y-J,O=T}for(;2<$;)T[y++]=O[g++],T[y++]=O[g++],T[y++]=O[g++],$-=3;$&&(T[y++]=O[g++],1<$&&(T[y++]=O[g++]))}else{for(g=y-J;T[y++]=T[g++],T[y++]=T[g++],T[y++]=T[g++],2<($-=3););$&&(T[y++]=T[g++],1<$&&(T[y++]=T[g++]))}break}}break}}while(l<u&&y<w);l-=$=v>>3,m&=(1<<(v-=$<<3))-1,h.next_in=l,h.next_out=y,h.avail_in=l<u?u-l+5:5-(l-u),h.avail_out=y<w?w-y+257:257-(y-w),a.hold=m,a.bits=v}},{}],49:[function(_,F,j){var h=_("../utils/common"),c=_("./adler32"),a=_("./crc32"),l=_("./inffast"),u=_("./inftrees"),y=1,x=2,w=0,i=-2,p=1,s=852,f=592;function n(g){return(g>>>24&255)+(g>>>8&65280)+((65280&g)<<8)+((255&g)<<24)}function m(){this.mode=0,this.last=!1,this.wrap=0,this.havedict=!1,this.flags=0,this.dmax=0,this.check=0,this.total=0,this.head=null,this.wbits=0,this.wsize=0,this.whave=0,this.wnext=0,this.window=null,this.hold=0,this.bits=0,this.length=0,this.offset=0,this.extra=0,this.lencode=null,this.distcode=null,this.lenbits=0,this.distbits=0,this.ncode=0,this.nlen=0,this.ndist=0,this.have=0,this.next=null,this.lens=new h.Buf16(320),this.work=new h.Buf16(288),this.lendyn=null,this.distdyn=null,this.sane=0,this.back=0,this.was=0}function v(g){var O;return g&&g.state?(O=g.state,g.total_in=g.total_out=O.total=0,g.msg="",O.wrap&&(g.adler=1&O.wrap),O.mode=p,O.last=0,O.havedict=0,O.dmax=32768,O.head=null,O.hold=0,O.bits=0,O.lencode=O.lendyn=new h.Buf32(s),O.distcode=O.distdyn=new h.Buf32(f),O.sane=1,O.back=-1,w):i}function z(g){var O;return g&&g.state?((O=g.state).wsize=0,O.whave=0,O.wnext=0,v(g)):i}function N(g,O){var r,T;return g&&g.state?(T=g.state,O<0?(r=0,O=-O):(r=1+(O>>4),O<48&&(O&=15)),O&&(O<8||15<O)?i:(T.window!==null&&T.wbits!==O&&(T.window=null),T.wrap=r,T.wbits=O,z(g))):i}function B(g,O){var r,T;return g?(T=new m,(g.state=T).window=null,(r=N(g,O))!==w&&(g.state=null),r):i}var R,M,I=!0;function $(g){if(I){var O;for(R=new h.Buf32(512),M=new h.Buf32(32),O=0;O<144;)g.lens[O++]=8;for(;O<256;)g.lens[O++]=9;for(;O<280;)g.lens[O++]=7;for(;O<288;)g.lens[O++]=8;for(u(y,g.lens,0,288,R,0,g.work,{bits:9}),O=0;O<32;)g.lens[O++]=5;u(x,g.lens,0,32,M,0,g.work,{bits:5}),I=!1}g.lencode=R,g.lenbits=9,g.distcode=M,g.distbits=5}function J(g,O,r,T){var re,U=g.state;return U.window===null&&(U.wsize=1<<U.wbits,U.wnext=0,U.whave=0,U.window=new h.Buf8(U.wsize)),T>=U.wsize?(h.arraySet(U.window,O,r-U.wsize,U.wsize,0),U.wnext=0,U.whave=U.wsize):(T<(re=U.wsize-U.wnext)&&(re=T),h.arraySet(U.window,O,r-T,re,U.wnext),(T-=re)?(h.arraySet(U.window,O,r-T,T,0),U.wnext=T,U.whave=U.wsize):(U.wnext+=re,U.wnext===U.wsize&&(U.wnext=0),U.whave<U.wsize&&(U.whave+=re))),0}j.inflateReset=z,j.inflateReset2=N,j.inflateResetKeep=v,j.inflateInit=function(g){return B(g,15)},j.inflateInit2=B,j.inflate=function(g,O){var r,T,re,U,ae,Z,te,A,E,X,K,H,me,ce,ie,oe,xe,ue,ke,ne,t,D,C,d,o=0,k=new h.Buf8(4),P=[16,17,18,0,8,7,9,6,10,5,11,4,12,3,13,2,14,1,15];if(!g||!g.state||!g.output||!g.input&&g.avail_in!==0)return i;(r=g.state).mode===12&&(r.mode=13),ae=g.next_out,re=g.output,te=g.avail_out,U=g.next_in,T=g.input,Z=g.avail_in,A=r.hold,E=r.bits,X=Z,K=te,D=w;e:for(;;)switch(r.mode){case p:if(r.wrap===0){r.mode=13;break}for(;E<16;){if(Z===0)break e;Z--,A+=T[U++]<<E,E+=8}if(2&r.wrap&&A===35615){k[r.check=0]=255&A,k[1]=A>>>8&255,r.check=a(r.check,k,2,0),E=A=0,r.mode=2;break}if(r.flags=0,r.head&&(r.head.done=!1),!(1&r.wrap)||(((255&A)<<8)+(A>>8))%31){g.msg="incorrect header check",r.mode=30;break}if((15&A)!=8){g.msg="unknown compression method",r.mode=30;break}if(E-=4,t=8+(15&(A>>>=4)),r.wbits===0)r.wbits=t;else if(t>r.wbits){g.msg="invalid window size",r.mode=30;break}r.dmax=1<<t,g.adler=r.check=1,r.mode=512&A?10:12,E=A=0;break;case 2:for(;E<16;){if(Z===0)break e;Z--,A+=T[U++]<<E,E+=8}if(r.flags=A,(255&r.flags)!=8){g.msg="unknown compression method",r.mode=30;break}if(57344&r.flags){g.msg="unknown header flags set",r.mode=30;break}r.head&&(r.head.text=A>>8&1),512&r.flags&&(k[0]=255&A,k[1]=A>>>8&255,r.check=a(r.check,k,2,0)),E=A=0,r.mode=3;case 3:for(;E<32;){if(Z===0)break e;Z--,A+=T[U++]<<E,E+=8}r.head&&(r.head.time=A),512&r.flags&&(k[0]=255&A,k[1]=A>>>8&255,k[2]=A>>>16&255,k[3]=A>>>24&255,r.check=a(r.check,k,4,0)),E=A=0,r.mode=4;case 4:for(;E<16;){if(Z===0)break e;Z--,A+=T[U++]<<E,E+=8}r.head&&(r.head.xflags=255&A,r.head.os=A>>8),512&r.flags&&(k[0]=255&A,k[1]=A>>>8&255,r.check=a(r.check,k,2,0)),E=A=0,r.mode=5;case 5:if(1024&r.flags){for(;E<16;){if(Z===0)break e;Z--,A+=T[U++]<<E,E+=8}r.length=A,r.head&&(r.head.extra_len=A),512&r.flags&&(k[0]=255&A,k[1]=A>>>8&255,r.check=a(r.check,k,2,0)),E=A=0}else r.head&&(r.head.extra=null);r.mode=6;case 6:if(1024&r.flags&&(Z<(H=r.length)&&(H=Z),H&&(r.head&&(t=r.head.extra_len-r.length,r.head.extra||(r.head.extra=new Array(r.head.extra_len)),h.arraySet(r.head.extra,T,U,H,t)),512&r.flags&&(r.check=a(r.check,T,H,U)),Z-=H,U+=H,r.length-=H),r.length))break e;r.length=0,r.mode=7;case 7:if(2048&r.flags){if(Z===0)break e;for(H=0;t=T[U+H++],r.head&&t&&r.length<65536&&(r.head.name+=String.fromCharCode(t)),t&&H<Z;);if(512&r.flags&&(r.check=a(r.check,T,H,U)),Z-=H,U+=H,t)break e}else r.head&&(r.head.name=null);r.length=0,r.mode=8;case 8:if(4096&r.flags){if(Z===0)break e;for(H=0;t=T[U+H++],r.head&&t&&r.length<65536&&(r.head.comment+=String.fromCharCode(t)),t&&H<Z;);if(512&r.flags&&(r.check=a(r.check,T,H,U)),Z-=H,U+=H,t)break e}else r.head&&(r.head.comment=null);r.mode=9;case 9:if(512&r.flags){for(;E<16;){if(Z===0)break e;Z--,A+=T[U++]<<E,E+=8}if(A!==(65535&r.check)){g.msg="header crc mismatch",r.mode=30;break}E=A=0}r.head&&(r.head.hcrc=r.flags>>9&1,r.head.done=!0),g.adler=r.check=0,r.mode=12;break;case 10:for(;E<32;){if(Z===0)break e;Z--,A+=T[U++]<<E,E+=8}g.adler=r.check=n(A),E=A=0,r.mode=11;case 11:if(r.havedict===0)return g.next_out=ae,g.avail_out=te,g.next_in=U,g.avail_in=Z,r.hold=A,r.bits=E,2;g.adler=r.check=1,r.mode=12;case 12:if(O===5||O===6)break e;case 13:if(r.last){A>>>=7&E,E-=7&E,r.mode=27;break}for(;E<3;){if(Z===0)break e;Z--,A+=T[U++]<<E,E+=8}switch(r.last=1&A,E-=1,3&(A>>>=1)){case 0:r.mode=14;break;case 1:if($(r),r.mode=20,O!==6)break;A>>>=2,E-=2;break e;case 2:r.mode=17;break;case 3:g.msg="invalid block type",r.mode=30}A>>>=2,E-=2;break;case 14:for(A>>>=7&E,E-=7&E;E<32;){if(Z===0)break e;Z--,A+=T[U++]<<E,E+=8}if((65535&A)!=(A>>>16^65535)){g.msg="invalid stored block lengths",r.mode=30;break}if(r.length=65535&A,E=A=0,r.mode=15,O===6)break e;case 15:r.mode=16;case 16:if(H=r.length){if(Z<H&&(H=Z),te<H&&(H=te),H===0)break e;h.arraySet(re,T,U,H,ae),Z-=H,U+=H,te-=H,ae+=H,r.length-=H;break}r.mode=12;break;case 17:for(;E<14;){if(Z===0)break e;Z--,A+=T[U++]<<E,E+=8}if(r.nlen=257+(31&A),A>>>=5,E-=5,r.ndist=1+(31&A),A>>>=5,E-=5,r.ncode=4+(15&A),A>>>=4,E-=4,286<r.nlen||30<r.ndist){g.msg="too many length or distance symbols",r.mode=30;break}r.have=0,r.mode=18;case 18:for(;r.have<r.ncode;){for(;E<3;){if(Z===0)break e;Z--,A+=T[U++]<<E,E+=8}r.lens[P[r.have++]]=7&A,A>>>=3,E-=3}for(;r.have<19;)r.lens[P[r.have++]]=0;if(r.lencode=r.lendyn,r.lenbits=7,C={bits:r.lenbits},D=u(0,r.lens,0,19,r.lencode,0,r.work,C),r.lenbits=C.bits,D){g.msg="invalid code lengths set",r.mode=30;break}r.have=0,r.mode=19;case 19:for(;r.have<r.nlen+r.ndist;){for(;oe=(o=r.lencode[A&(1<<r.lenbits)-1])>>>16&255,xe=65535&o,!((ie=o>>>24)<=E);){if(Z===0)break e;Z--,A+=T[U++]<<E,E+=8}if(xe<16)A>>>=ie,E-=ie,r.lens[r.have++]=xe;else{if(xe===16){for(d=ie+2;E<d;){if(Z===0)break e;Z--,A+=T[U++]<<E,E+=8}if(A>>>=ie,E-=ie,r.have===0){g.msg="invalid bit length repeat",r.mode=30;break}t=r.lens[r.have-1],H=3+(3&A),A>>>=2,E-=2}else if(xe===17){for(d=ie+3;E<d;){if(Z===0)break e;Z--,A+=T[U++]<<E,E+=8}E-=ie,t=0,H=3+(7&(A>>>=ie)),A>>>=3,E-=3}else{for(d=ie+7;E<d;){if(Z===0)break e;Z--,A+=T[U++]<<E,E+=8}E-=ie,t=0,H=11+(127&(A>>>=ie)),A>>>=7,E-=7}if(r.have+H>r.nlen+r.ndist){g.msg="invalid bit length repeat",r.mode=30;break}for(;H--;)r.lens[r.have++]=t}}if(r.mode===30)break;if(r.lens[256]===0){g.msg="invalid code -- missing end-of-block",r.mode=30;break}if(r.lenbits=9,C={bits:r.lenbits},D=u(y,r.lens,0,r.nlen,r.lencode,0,r.work,C),r.lenbits=C.bits,D){g.msg="invalid literal/lengths set",r.mode=30;break}if(r.distbits=6,r.distcode=r.distdyn,C={bits:r.distbits},D=u(x,r.lens,r.nlen,r.ndist,r.distcode,0,r.work,C),r.distbits=C.bits,D){g.msg="invalid distances set",r.mode=30;break}if(r.mode=20,O===6)break e;case 20:r.mode=21;case 21:if(6<=Z&&258<=te){g.next_out=ae,g.avail_out=te,g.next_in=U,g.avail_in=Z,r.hold=A,r.bits=E,l(g,K),ae=g.next_out,re=g.output,te=g.avail_out,U=g.next_in,T=g.input,Z=g.avail_in,A=r.hold,E=r.bits,r.mode===12&&(r.back=-1);break}for(r.back=0;oe=(o=r.lencode[A&(1<<r.lenbits)-1])>>>16&255,xe=65535&o,!((ie=o>>>24)<=E);){if(Z===0)break e;Z--,A+=T[U++]<<E,E+=8}if(oe&&(240&oe)==0){for(ue=ie,ke=oe,ne=xe;oe=(o=r.lencode[ne+((A&(1<<ue+ke)-1)>>ue)])>>>16&255,xe=65535&o,!(ue+(ie=o>>>24)<=E);){if(Z===0)break e;Z--,A+=T[U++]<<E,E+=8}A>>>=ue,E-=ue,r.back+=ue}if(A>>>=ie,E-=ie,r.back+=ie,r.length=xe,oe===0){r.mode=26;break}if(32&oe){r.back=-1,r.mode=12;break}if(64&oe){g.msg="invalid literal/length code",r.mode=30;break}r.extra=15&oe,r.mode=22;case 22:if(r.extra){for(d=r.extra;E<d;){if(Z===0)break e;Z--,A+=T[U++]<<E,E+=8}r.length+=A&(1<<r.extra)-1,A>>>=r.extra,E-=r.extra,r.back+=r.extra}r.was=r.length,r.mode=23;case 23:for(;oe=(o=r.distcode[A&(1<<r.distbits)-1])>>>16&255,xe=65535&o,!((ie=o>>>24)<=E);){if(Z===0)break e;Z--,A+=T[U++]<<E,E+=8}if((240&oe)==0){for(ue=ie,ke=oe,ne=xe;oe=(o=r.distcode[ne+((A&(1<<ue+ke)-1)>>ue)])>>>16&255,xe=65535&o,!(ue+(ie=o>>>24)<=E);){if(Z===0)break e;Z--,A+=T[U++]<<E,E+=8}A>>>=ue,E-=ue,r.back+=ue}if(A>>>=ie,E-=ie,r.back+=ie,64&oe){g.msg="invalid distance code",r.mode=30;break}r.offset=xe,r.extra=15&oe,r.mode=24;case 24:if(r.extra){for(d=r.extra;E<d;){if(Z===0)break e;Z--,A+=T[U++]<<E,E+=8}r.offset+=A&(1<<r.extra)-1,A>>>=r.extra,E-=r.extra,r.back+=r.extra}if(r.offset>r.dmax){g.msg="invalid distance too far back",r.mode=30;break}r.mode=25;case 25:if(te===0)break e;if(H=K-te,r.offset>H){if((H=r.offset-H)>r.whave&&r.sane){g.msg="invalid distance too far back",r.mode=30;break}me=H>r.wnext?(H-=r.wnext,r.wsize-H):r.wnext-H,H>r.length&&(H=r.length),ce=r.window}else ce=re,me=ae-r.offset,H=r.length;for(te<H&&(H=te),te-=H,r.length-=H;re[ae++]=ce[me++],--H;);r.length===0&&(r.mode=21);break;case 26:if(te===0)break e;re[ae++]=r.length,te--,r.mode=21;break;case 27:if(r.wrap){for(;E<32;){if(Z===0)break e;Z--,A|=T[U++]<<E,E+=8}if(K-=te,g.total_out+=K,r.total+=K,K&&(g.adler=r.check=r.flags?a(r.check,re,K,ae-K):c(r.check,re,K,ae-K)),K=te,(r.flags?A:n(A))!==r.check){g.msg="incorrect data check",r.mode=30;break}E=A=0}r.mode=28;case 28:if(r.wrap&&r.flags){for(;E<32;){if(Z===0)break e;Z--,A+=T[U++]<<E,E+=8}if(A!==(4294967295&r.total)){g.msg="incorrect length check",r.mode=30;break}E=A=0}r.mode=29;case 29:D=1;break e;case 30:D=-3;break e;case 31:return-4;case 32:default:return i}return g.next_out=ae,g.avail_out=te,g.next_in=U,g.avail_in=Z,r.hold=A,r.bits=E,(r.wsize||K!==g.avail_out&&r.mode<30&&(r.mode<27||O!==4))&&J(g,g.output,g.next_out,K-g.avail_out)?(r.mode=31,-4):(X-=g.avail_in,K-=g.avail_out,g.total_in+=X,g.total_out+=K,r.total+=K,r.wrap&&K&&(g.adler=r.check=r.flags?a(r.check,re,K,g.next_out-K):c(r.check,re,K,g.next_out-K)),g.data_type=r.bits+(r.last?64:0)+(r.mode===12?128:0)+(r.mode===20||r.mode===15?256:0),(X==0&&K===0||O===4)&&D===w&&(D=-5),D)},j.inflateEnd=function(g){if(!g||!g.state)return i;var O=g.state;return O.window&&(O.window=null),g.state=null,w},j.inflateGetHeader=function(g,O){var r;return g&&g.state?(2&(r=g.state).wrap)==0?i:((r.head=O).done=!1,w):i},j.inflateSetDictionary=function(g,O){var r,T=O.length;return g&&g.state?(r=g.state).wrap!==0&&r.mode!==11?i:r.mode===11&&c(1,O,T,0)!==r.check?-3:J(g,O,T,T)?(r.mode=31,-4):(r.havedict=1,w):i},j.inflateInfo="pako inflate (from Nodeca project)"},{"../utils/common":41,"./adler32":43,"./crc32":45,"./inffast":48,"./inftrees":50}],50:[function(_,F,j){var h=_("../utils/common"),c=[3,4,5,6,7,8,9,10,11,13,15,17,19,23,27,31,35,43,51,59,67,83,99,115,131,163,195,227,258,0,0],a=[16,16,16,16,16,16,16,16,17,17,17,17,18,18,18,18,19,19,19,19,20,20,20,20,21,21,21,21,16,72,78],l=[1,2,3,4,5,7,9,13,17,25,33,49,65,97,129,193,257,385,513,769,1025,1537,2049,3073,4097,6145,8193,12289,16385,24577,0,0],u=[16,16,16,16,17,17,18,18,19,19,20,20,21,21,22,22,23,23,24,24,25,25,26,26,27,27,28,28,29,29,64,64];F.exports=function(y,x,w,i,p,s,f,n){var m,v,z,N,B,R,M,I,$,J=n.bits,g=0,O=0,r=0,T=0,re=0,U=0,ae=0,Z=0,te=0,A=0,E=null,X=0,K=new h.Buf16(16),H=new h.Buf16(16),me=null,ce=0;for(g=0;g<=15;g++)K[g]=0;for(O=0;O<i;O++)K[x[w+O]]++;for(re=J,T=15;1<=T&&K[T]===0;T--);if(T<re&&(re=T),T===0)return p[s++]=20971520,p[s++]=20971520,n.bits=1,0;for(r=1;r<T&&K[r]===0;r++);for(re<r&&(re=r),g=Z=1;g<=15;g++)if(Z<<=1,(Z-=K[g])<0)return-1;if(0<Z&&(y===0||T!==1))return-1;for(H[1]=0,g=1;g<15;g++)H[g+1]=H[g]+K[g];for(O=0;O<i;O++)x[w+O]!==0&&(f[H[x[w+O]]++]=O);if(R=y===0?(E=me=f,19):y===1?(E=c,X-=257,me=a,ce-=257,256):(E=l,me=u,-1),g=r,B=s,ae=O=A=0,z=-1,N=(te=1<<(U=re))-1,y===1&&852<te||y===2&&592<te)return 1;for(;;){for(M=g-ae,$=f[O]<R?(I=0,f[O]):f[O]>R?(I=me[ce+f[O]],E[X+f[O]]):(I=96,0),m=1<<g-ae,r=v=1<<U;p[B+(A>>ae)+(v-=m)]=M<<24|I<<16|$|0,v!==0;);for(m=1<<g-1;A&m;)m>>=1;if(m!==0?(A&=m-1,A+=m):A=0,O++,--K[g]==0){if(g===T)break;g=x[w+f[O]]}if(re<g&&(A&N)!==z){for(ae===0&&(ae=re),B+=r,Z=1<<(U=g-ae);U+ae<T&&!((Z-=K[U+ae])<=0);)U++,Z<<=1;if(te+=1<<U,y===1&&852<te||y===2&&592<te)return 1;p[z=A&N]=re<<24|U<<16|B-s|0}}return A!==0&&(p[B+A]=g-ae<<24|64<<16|0),n.bits=re,0}},{"../utils/common":41}],51:[function(_,F,j){F.exports={2:"need dictionary",1:"stream end",0:"","-1":"file error","-2":"stream error","-3":"data error","-4":"insufficient memory","-5":"buffer error","-6":"incompatible version"}},{}],52:[function(_,F,j){var h=_("../utils/common"),c=0,a=1;function l(o){for(var k=o.length;0<=--k;)o[k]=0}var u=0,y=29,x=256,w=x+1+y,i=30,p=19,s=2*w+1,f=15,n=16,m=7,v=256,z=16,N=17,B=18,R=[0,0,0,0,0,0,0,0,1,1,1,1,2,2,2,2,3,3,3,3,4,4,4,4,5,5,5,5,0],M=[0,0,0,0,1,1,2,2,3,3,4,4,5,5,6,6,7,7,8,8,9,9,10,10,11,11,12,12,13,13],I=[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,2,3,7],$=[16,17,18,0,8,7,9,6,10,5,11,4,12,3,13,2,14,1,15],J=new Array(2*(w+2));l(J);var g=new Array(2*i);l(g);var O=new Array(512);l(O);var r=new Array(256);l(r);var T=new Array(y);l(T);var re,U,ae,Z=new Array(i);function te(o,k,P,L,S){this.static_tree=o,this.extra_bits=k,this.extra_base=P,this.elems=L,this.max_length=S,this.has_stree=o&&o.length}function A(o,k){this.dyn_tree=o,this.max_code=0,this.stat_desc=k}function E(o){return o<256?O[o]:O[256+(o>>>7)]}function X(o,k){o.pending_buf[o.pending++]=255&k,o.pending_buf[o.pending++]=k>>>8&255}function K(o,k,P){o.bi_valid>n-P?(o.bi_buf|=k<<o.bi_valid&65535,X(o,o.bi_buf),o.bi_buf=k>>n-o.bi_valid,o.bi_valid+=P-n):(o.bi_buf|=k<<o.bi_valid&65535,o.bi_valid+=P)}function H(o,k,P){K(o,P[2*k],P[2*k+1])}function me(o,k){for(var P=0;P|=1&o,o>>>=1,P<<=1,0<--k;);return P>>>1}function ce(o,k,P){var L,S,W=new Array(f+1),Y=0;for(L=1;L<=f;L++)W[L]=Y=Y+P[L-1]<<1;for(S=0;S<=k;S++){var G=o[2*S+1];G!==0&&(o[2*S]=me(W[G]++,G))}}function ie(o){var k;for(k=0;k<w;k++)o.dyn_ltree[2*k]=0;for(k=0;k<i;k++)o.dyn_dtree[2*k]=0;for(k=0;k<p;k++)o.bl_tree[2*k]=0;o.dyn_ltree[2*v]=1,o.opt_len=o.static_len=0,o.last_lit=o.matches=0}function oe(o){8<o.bi_valid?X(o,o.bi_buf):0<o.bi_valid&&(o.pending_buf[o.pending++]=o.bi_buf),o.bi_buf=0,o.bi_valid=0}function xe(o,k,P,L){var S=2*k,W=2*P;return o[S]<o[W]||o[S]===o[W]&&L[k]<=L[P]}function ue(o,k,P){for(var L=o.heap[P],S=P<<1;S<=o.heap_len&&(S<o.heap_len&&xe(k,o.heap[S+1],o.heap[S],o.depth)&&S++,!xe(k,L,o.heap[S],o.depth));)o.heap[P]=o.heap[S],P=S,S<<=1;o.heap[P]=L}function ke(o,k,P){var L,S,W,Y,G=0;if(o.last_lit!==0)for(;L=o.pending_buf[o.d_buf+2*G]<<8|o.pending_buf[o.d_buf+2*G+1],S=o.pending_buf[o.l_buf+G],G++,L===0?H(o,S,k):(H(o,(W=r[S])+x+1,k),(Y=R[W])!==0&&K(o,S-=T[W],Y),H(o,W=E(--L),P),(Y=M[W])!==0&&K(o,L-=Z[W],Y)),G<o.last_lit;);H(o,v,k)}function ne(o,k){var P,L,S,W=k.dyn_tree,Y=k.stat_desc.static_tree,G=k.stat_desc.has_stree,Q=k.stat_desc.elems,de=-1;for(o.heap_len=0,o.heap_max=s,P=0;P<Q;P++)W[2*P]!==0?(o.heap[++o.heap_len]=de=P,o.depth[P]=0):W[2*P+1]=0;for(;o.heap_len<2;)W[2*(S=o.heap[++o.heap_len]=de<2?++de:0)]=1,o.depth[S]=0,o.opt_len--,G&&(o.static_len-=Y[2*S+1]);for(k.max_code=de,P=o.heap_len>>1;1<=P;P--)ue(o,W,P);for(S=Q;P=o.heap[1],o.heap[1]=o.heap[o.heap_len--],ue(o,W,1),L=o.heap[1],o.heap[--o.heap_max]=P,o.heap[--o.heap_max]=L,W[2*S]=W[2*P]+W[2*L],o.depth[S]=(o.depth[P]>=o.depth[L]?o.depth[P]:o.depth[L])+1,W[2*P+1]=W[2*L+1]=S,o.heap[1]=S++,ue(o,W,1),2<=o.heap_len;);o.heap[--o.heap_max]=o.heap[1],(function(se,_e){var we,je,Ce,pe,b,q,V=_e.dyn_tree,ee=_e.max_code,le=_e.stat_desc.static_tree,ve=_e.stat_desc.has_stree,be=_e.stat_desc.extra_bits,ze=_e.stat_desc.extra_base,Ne=_e.stat_desc.max_length,Se=0;for(pe=0;pe<=f;pe++)se.bl_count[pe]=0;for(V[2*se.heap[se.heap_max]+1]=0,we=se.heap_max+1;we<s;we++)Ne<(pe=V[2*V[2*(je=se.heap[we])+1]+1]+1)&&(pe=Ne,Se++),V[2*je+1]=pe,ee<je||(se.bl_count[pe]++,b=0,ze<=je&&(b=be[je-ze]),q=V[2*je],se.opt_len+=q*(pe+b),ve&&(se.static_len+=q*(le[2*je+1]+b)));if(Se!==0){do{for(pe=Ne-1;se.bl_count[pe]===0;)pe--;se.bl_count[pe]--,se.bl_count[pe+1]+=2,se.bl_count[Ne]--,Se-=2}while(0<Se);for(pe=Ne;pe!==0;pe--)for(je=se.bl_count[pe];je!==0;)ee<(Ce=se.heap[--we])||(V[2*Ce+1]!==pe&&(se.opt_len+=(pe-V[2*Ce+1])*V[2*Ce],V[2*Ce+1]=pe),je--)}})(o,k),ce(W,de,o.bl_count)}function t(o,k,P){var L,S,W=-1,Y=k[1],G=0,Q=7,de=4;for(Y===0&&(Q=138,de=3),k[2*(P+1)+1]=65535,L=0;L<=P;L++)S=Y,Y=k[2*(L+1)+1],++G<Q&&S===Y||(G<de?o.bl_tree[2*S]+=G:S!==0?(S!==W&&o.bl_tree[2*S]++,o.bl_tree[2*z]++):G<=10?o.bl_tree[2*N]++:o.bl_tree[2*B]++,W=S,de=(G=0)===Y?(Q=138,3):S===Y?(Q=6,3):(Q=7,4))}function D(o,k,P){var L,S,W=-1,Y=k[1],G=0,Q=7,de=4;for(Y===0&&(Q=138,de=3),L=0;L<=P;L++)if(S=Y,Y=k[2*(L+1)+1],!(++G<Q&&S===Y)){if(G<de)for(;H(o,S,o.bl_tree),--G!=0;);else S!==0?(S!==W&&(H(o,S,o.bl_tree),G--),H(o,z,o.bl_tree),K(o,G-3,2)):G<=10?(H(o,N,o.bl_tree),K(o,G-3,3)):(H(o,B,o.bl_tree),K(o,G-11,7));W=S,de=(G=0)===Y?(Q=138,3):S===Y?(Q=6,3):(Q=7,4)}}l(Z);var C=!1;function d(o,k,P,L){K(o,(u<<1)+(L?1:0),3),(function(S,W,Y,G){oe(S),X(S,Y),X(S,~Y),h.arraySet(S.pending_buf,S.window,W,Y,S.pending),S.pending+=Y})(o,k,P)}j._tr_init=function(o){C||((function(){var k,P,L,S,W,Y=new Array(f+1);for(S=L=0;S<y-1;S++)for(T[S]=L,k=0;k<1<<R[S];k++)r[L++]=S;for(r[L-1]=S,S=W=0;S<16;S++)for(Z[S]=W,k=0;k<1<<M[S];k++)O[W++]=S;for(W>>=7;S<i;S++)for(Z[S]=W<<7,k=0;k<1<<M[S]-7;k++)O[256+W++]=S;for(P=0;P<=f;P++)Y[P]=0;for(k=0;k<=143;)J[2*k+1]=8,k++,Y[8]++;for(;k<=255;)J[2*k+1]=9,k++,Y[9]++;for(;k<=279;)J[2*k+1]=7,k++,Y[7]++;for(;k<=287;)J[2*k+1]=8,k++,Y[8]++;for(ce(J,w+1,Y),k=0;k<i;k++)g[2*k+1]=5,g[2*k]=me(k,5);re=new te(J,R,x+1,w,f),U=new te(g,M,0,i,f),ae=new te(new Array(0),I,0,p,m)})(),C=!0),o.l_desc=new A(o.dyn_ltree,re),o.d_desc=new A(o.dyn_dtree,U),o.bl_desc=new A(o.bl_tree,ae),o.bi_buf=0,o.bi_valid=0,ie(o)},j._tr_stored_block=d,j._tr_flush_block=function(o,k,P,L){var S,W,Y=0;0<o.level?(o.strm.data_type===2&&(o.strm.data_type=(function(G){var Q,de=4093624447;for(Q=0;Q<=31;Q++,de>>>=1)if(1&de&&G.dyn_ltree[2*Q]!==0)return c;if(G.dyn_ltree[18]!==0||G.dyn_ltree[20]!==0||G.dyn_ltree[26]!==0)return a;for(Q=32;Q<x;Q++)if(G.dyn_ltree[2*Q]!==0)return a;return c})(o)),ne(o,o.l_desc),ne(o,o.d_desc),Y=(function(G){var Q;for(t(G,G.dyn_ltree,G.l_desc.max_code),t(G,G.dyn_dtree,G.d_desc.max_code),ne(G,G.bl_desc),Q=p-1;3<=Q&&G.bl_tree[2*$[Q]+1]===0;Q--);return G.opt_len+=3*(Q+1)+5+5+4,Q})(o),S=o.opt_len+3+7>>>3,(W=o.static_len+3+7>>>3)<=S&&(S=W)):S=W=P+5,P+4<=S&&k!==-1?d(o,k,P,L):o.strategy===4||W===S?(K(o,2+(L?1:0),3),ke(o,J,g)):(K(o,4+(L?1:0),3),(function(G,Q,de,se){var _e;for(K(G,Q-257,5),K(G,de-1,5),K(G,se-4,4),_e=0;_e<se;_e++)K(G,G.bl_tree[2*$[_e]+1],3);D(G,G.dyn_ltree,Q-1),D(G,G.dyn_dtree,de-1)})(o,o.l_desc.max_code+1,o.d_desc.max_code+1,Y+1),ke(o,o.dyn_ltree,o.dyn_dtree)),ie(o),L&&oe(o)},j._tr_tally=function(o,k,P){return o.pending_buf[o.d_buf+2*o.last_lit]=k>>>8&255,o.pending_buf[o.d_buf+2*o.last_lit+1]=255&k,o.pending_buf[o.l_buf+o.last_lit]=255&P,o.last_lit++,k===0?o.dyn_ltree[2*P]++:(o.matches++,k--,o.dyn_ltree[2*(r[P]+x+1)]++,o.dyn_dtree[2*E(k)]++),o.last_lit===o.lit_bufsize-1},j._tr_align=function(o){K(o,2,3),H(o,v,J),(function(k){k.bi_valid===16?(X(k,k.bi_buf),k.bi_buf=0,k.bi_valid=0):8<=k.bi_valid&&(k.pending_buf[k.pending++]=255&k.bi_buf,k.bi_buf>>=8,k.bi_valid-=8)})(o)}},{"../utils/common":41}],53:[function(_,F,j){F.exports=function(){this.input=null,this.next_in=0,this.avail_in=0,this.total_in=0,this.output=null,this.next_out=0,this.avail_out=0,this.total_out=0,this.msg="",this.state=null,this.data_type=2,this.adler=0}},{}],54:[function(_,F,j){(function(h){(function(c,a){if(!c.setImmediate){var l,u,y,x,w=1,i={},p=!1,s=c.document,f=Object.getPrototypeOf&&Object.getPrototypeOf(c);f=f&&f.setTimeout?f:c,l={}.toString.call(c.process)==="[object process]"?function(z){process.nextTick(function(){m(z)})}:(function(){if(c.postMessage&&!c.importScripts){var z=!0,N=c.onmessage;return c.onmessage=function(){z=!1},c.postMessage("","*"),c.onmessage=N,z}})()?(x="setImmediate$"+Math.random()+"$",c.addEventListener?c.addEventListener("message",v,!1):c.attachEvent("onmessage",v),function(z){c.postMessage(x+z,"*")}):c.MessageChannel?((y=new MessageChannel).port1.onmessage=function(z){m(z.data)},function(z){y.port2.postMessage(z)}):s&&"onreadystatechange"in s.createElement("script")?(u=s.documentElement,function(z){var N=s.createElement("script");N.onreadystatechange=function(){m(z),N.onreadystatechange=null,u.removeChild(N),N=null},u.appendChild(N)}):function(z){setTimeout(m,0,z)},f.setImmediate=function(z){typeof z!="function"&&(z=new Function(""+z));for(var N=new Array(arguments.length-1),B=0;B<N.length;B++)N[B]=arguments[B+1];var R={callback:z,args:N};return i[w]=R,l(w),w++},f.clearImmediate=n}function n(z){delete i[z]}function m(z){if(p)setTimeout(m,0,z);else{var N=i[z];if(N){p=!0;try{(function(B){var R=B.callback,M=B.args;switch(M.length){case 0:R();break;case 1:R(M[0]);break;case 2:R(M[0],M[1]);break;case 3:R(M[0],M[1],M[2]);break;default:R.apply(a,M)}})(N)}finally{n(z),p=!1}}}}function v(z){z.source===c&&typeof z.data=="string"&&z.data.indexOf(x)===0&&m(+z.data.slice(x.length))}})(typeof self>"u"?h===void 0?this:h:self)}).call(this,typeof De<"u"?De:typeof self<"u"?self:typeof window<"u"?window:{})},{}]},{},[10])(10)})})(He)),He.exports}var Et=St();const st=it(Et),Bt=({user:Te,profile:ye,onBack:_,initialView:F="overview",onProxyClient:j})=>{var pe;const[h,c]=he.useState(F),[a,l]=he.useState(!1),[u,y]=he.useState(null),[x,w]=he.useState([]),[i,p]=he.useState([]),[s,f]=he.useState(""),[n,m]=he.useState(!1),[v,z]=he.useState(null),[N,B]=he.useState(null),[R,M]=he.useState(100),[I,$]=he.useState([]),[J,g]=he.useState(null),[O,r]=he.useState({message:"",type:null}),[T,re]=he.useState(null),[U,ae]=he.useState([]),[Z,te]=he.useState(!1),[A,E]=he.useState(""),[X,K]=he.useState(""),[H,me]=he.useState([]),[ce,ie]=he.useState([]),[oe,xe]=he.useState(!1),[ue,ke]=he.useState(!1),ne=(b,q="success")=>{r({message:b,type:q}),setTimeout(()=>r({message:"",type:null}),4e3)};he.useEffect(()=>{c(F)},[F]);const[t,D]=he.useState({primary_color:"#135bec",logo_url:"",radius:"12px",style_presets:["Superhroes","John Wick","Urbano"]}),[C,d]=he.useState({name:"",slug:"",client_email:"",credits:500,start_date:new Date().toISOString().split("T")[0],end_date:new Date(Date.now()+10080*60*1e3).toISOString().split("T")[0]});he.useEffect(()=>{o()},[ye.partner_id]);const o=async()=>{try{l(!0);let b=ye.partner_id,q=!1;if(!b){const{data:V}=await fe.from("partners").select("id").or(`user_id.eq.${ye.id},contact_email.eq.${ye.email}`).single();V?b=V.id:q=!0}if(q){y({id:ye.id,name:ye.full_name||ye.email.split("@")[0],credits_total:ye.credits||0,credits_used:ye.total_generations||0,is_virtual:!0,config:{primary_color:"#135bec",logo_url:null}});const[V,ee]=await Promise.all([fe.from("events").select("*").eq("partner_id",ye.id).order("created_at",{ascending:!1}),fe.from("wallet_transactions").select("*").eq("partner_id",ye.id).order("created_at",{ascending:!1})]);if(w(V.data||[]),p(ee.data||[]),V.data&&V.data.length>0){const le=V.data.map(be=>be.id),{data:ve}=await fe.from("generations").select("created_at, event_id").in("event_id",le);$(ve||[])}}else{const[V,ee,le]=await Promise.all([fe.from("partners").select("*").eq("id",b).single(),fe.from("events").select("*").eq("partner_id",b).order("created_at",{ascending:!1}),fe.from("wallet_transactions").select("*").eq("partner_id",b).order("created_at",{ascending:!1})]);if(V.error)throw V.error;if(y(V.data),p(le.data||[]),V.data.config&&D({primary_color:V.data.config.primary_color||"#135bec",logo_url:V.data.config.logo_url||"",radius:V.data.config.radius||"12px",style_presets:V.data.config.style_presets||["Superhroes","John Wick","Urbano"]}),ee.data&&ee.data.length>0){const ve=ee.data.map(ze=>ze.id),{data:be}=await fe.from("generations").select("id, created_at, event_id, image_url").in("event_id",ve).order("created_at",{ascending:!1});$(be||[]),me((be==null?void 0:be.slice(0,10))||[])}w(ee.data||[])}}catch(b){console.error("Error fetching partner data:",b)}finally{l(!1)}},k=async()=>{if(u)try{const{error:b}=await fe.from("partners").update({config:t}).eq("id",u.id);if(b)throw b;y({...u,config:t}),ne("Configuracin de marca guardada")}catch(b){console.error("Error updating branding:",b)}},P=async b=>{try{te(!0);const{data:q,error:V}=await fe.from("generations").select("*, profiles(email)").eq("event_id",b).order("created_at",{ascending:!1});if(V)throw V;ae(q||[])}catch(q){console.error("Error fetching photos:",q),ne("No se pudieron cargar las fotos","error")}finally{te(!1)}},L=async b=>{if(window.confirm("Ests seguro de que deseas eliminar esta foto de la galera?"))try{const{error:q}=await fe.from("generations").delete().eq("id",b);if(q)throw q;ae(V=>V.filter(ee=>ee.id!==b)),ne("Foto eliminada correctamente")}catch(q){console.error("Error deleting photo:",q),ne("Error al eliminar la foto","error")}},S=async b=>{if(!b.target.files||b.target.files.length===0)return;const q=b.target.files[0],V=q.name.split(".").pop(),ee=`${u==null?void 0:u.id}-${Date.now()}.${V}`;try{l(!0);const{error:le}=await fe.storage.from("logos").upload(ee,q);if(le){const{error:ve}=await fe.storage.from("public").upload(`logos/${ee}`,q);if(ve)throw le;const{data:be}=fe.storage.from("public").getPublicUrl(`logos/${ee}`);D({...t,logo_url:be.publicUrl})}else{const{data:ve}=fe.storage.from("logos").getPublicUrl(ee);D({...t,logo_url:ve.publicUrl})}}catch(le){console.error("Error uploading logo:",le),ne("Error al subir logo: "+le.message,"error")}finally{l(!1)}},W=async b=>{if(b.preventDefault(),!u)return;const q=Number(C.credits);if(q>u.credits_total-u.credits_used){ne("Crditos insuficientes en tu balance mayorista.","error");return}try{l(!0);const{data:V,error:ee}=await fe.from("events").insert([{partner_id:u.id,event_name:C.name,client_email:C.client_email,event_slug:C.slug||C.name.toLowerCase().replace(/\s+/g,"-"),credits_allocated:q,credits_used:0,start_date:new Date(C.start_date).toISOString(),end_date:new Date(C.end_date).toISOString(),is_active:!0,selected_styles:t.style_presets}]).select();if(ee)throw ee;if(u.is_virtual){const{error:le}=await fe.from("profiles").update({credits:Math.max(0,u.credits_total-q)}).eq("id",ye.id);if(le)throw le}else{const{error:le}=await fe.from("partners").update({credits_used:(u.credits_used||0)+q}).eq("id",u.id);if(le)throw le}m(!1),d({name:"",slug:"",client_email:"",credits:500,start_date:"",end_date:""}),ne("Evento creado con xito"),o()}catch(V){console.error("Error creating event:",V),ne("Error al crear el evento. "+(V.message||"El slug podra estar duplicado."),"error")}finally{l(!1)}},Y=async()=>{if(!N||!u)return;const b=Number(R),q=(u.credits_total||0)-(u.credits_used||0);if(b>q){ne("No tienes crditos suficientes.","error");return}try{l(!0);const{error:V}=await fe.from("events").update({credits_allocated:(N.credits_allocated||0)+b}).eq("id",N.id);if(V)throw V;if(u.is_virtual){const{error:ee}=await fe.from("profiles").update({credits:Math.max(0,u.credits_total-b)}).eq("id",ye.id);if(ee)throw ee}else{const{error:ee}=await fe.from("partners").update({credits_used:(u.credits_used||0)+b}).eq("id",u.id);if(ee)throw ee}await fe.from("wallet_transactions").insert({partner_id:u.id,amount:b,type:"usage",description:`Transferencia a evento: ${N.event_name}`}),ne(`Se han transferido ${b} crditos.`),B(null),o()}catch(V){ne("Error: "+V.message,"error")}finally{l(!1)}},G=async b=>{if(u)try{ke(!0);const q=window.location.href,ee=await(await fetch("https://elesttjfwfhvzdvldytn.supabase.co/functions/v1/mercadopago-payment",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({user_id:u.id,credits:b.qty,price:b.price,pack_name:b.label,redirect_url:q})})).json();if(ee.init_point)window.location.href=ee.init_point;else throw new Error(ee.message||"Error al iniciar pago")}catch(q){ne(q.message,"error")}finally{ke(!1)}},Q=async()=>{if(J)try{l(!0);const{error:b}=await fe.from("events").delete().eq("id",J.id);if(b)throw b;ne("Evento eliminado permanentemente"),g(null),o()}catch(b){console.error("Error deleting event:",b),ne("Error al eliminar evento: "+b.message,"error")}finally{l(!1)}},de=b=>{D(q=>({...q,style_presets:q.style_presets.includes(b)?q.style_presets.filter(V=>V!==b):[...q.style_presets,b]}))},se=he.useMemo(()=>U.filter(b=>{var le;const q=((le=b.profiles)==null?void 0:le.email)||"Annimo",V=!A||b.id.toLowerCase().includes(A.toLowerCase())||q.toLowerCase().includes(A.toLowerCase()),ee=!X||b.created_at&&b.created_at.startsWith(X);return V&&ee}),[U,A,X]),_e=he.useMemo(()=>x.filter(b=>(b.event_name||"").toLowerCase().includes(s.toLowerCase())||(b.event_slug||"").toLowerCase().includes(s.toLowerCase())),[x,s]);if(a&&!u)return e.jsxs("div",{className:"flex flex-col items-center justify-center min-h-[400px] text-white space-y-4",children:[e.jsx("div",{className:"size-12 border-4 border-[#135bec] border-t-transparent rounded-full animate-spin"}),e.jsx("p",{className:"font-bold tracking-widest text-[10px] uppercase opacity-50",children:"Sincronizando con la red..."})]});const we=((u==null?void 0:u.credits_total)||0)-((u==null?void 0:u.credits_used)||0),je=u!=null&&u.credits_total?Math.round(u.credits_used/u.credits_total*100):0,Ce=(b,q,V)=>{const ee=h===b;return e.jsxs("button",{onClick:()=>c(b),className:`flex items-center gap-2 px-4 py-2 rounded-lg transition-all text-sm font-bold border ${ee?"bg-[#135bec]/10 text-[#135bec] border-[#135bec]/30 shadow-[0_0_15px_rgba(19,91,236,0.1)]":"text-slate-400 border-transparent hover:text-white hover:bg-white/5"}`,children:[e.jsx(V,{className:"size-4"}),q]},b)};return e.jsxs("div",{className:"space-y-8 animate-fade-in text-slate-100",children:[e.jsxs("header",{className:"flex flex-wrap items-center justify-between gap-6 pb-6 border-b border-white/5",children:[e.jsxs(ge.div,{initial:{opacity:0,x:-20},animate:{opacity:1,x:0},children:[e.jsxs("h1",{className:"text-3xl font-black tracking-tight text-white mb-1 flex items-center gap-3",children:[e.jsx("div",{className:"size-10 rounded-xl bg-gradient-to-br from-[#135bec] to-[#0a1f4d] flex items-center justify-center shadow-lg shadow-[#135bec]/20",children:e.jsx(Ve,{className:"text-white size-6"})}),"Panel de Partner ",e.jsxs("span",{className:"text-[#135bec] opacity-50 text-xl font-medium",children:["/ ",u==null?void 0:u.name]})]}),e.jsx("p",{className:"text-slate-400 text-sm",children:"Sistema de gestin de eventos y marca blanca corporativa."})]}),e.jsxs("div",{className:"flex items-center gap-2 bg-slate-900/50 p-1 rounded-xl border border-white/5",children:[Ce("overview","Vista General",Ve),Ce("events","Mis Eventos",Be),Ce("wallet","Billetera",qe),Ce("branding","Marca Blanca",Ke)]})]}),e.jsxs(Ie,{mode:"wait",children:[h==="overview"&&e.jsxs(ge.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},exit:{opacity:0,y:-20},className:"space-y-8",children:[e.jsxs("section",{className:"grid grid-cols-1 md:grid-cols-3 gap-6",children:[(()=>{var V,ee;const b=we>0&&we<((u==null?void 0:u.credits_total)||0)*.2,q=we>0&&we<((u==null?void 0:u.credits_total)||0)*.1;return e.jsxs("div",{className:`glass-card rounded-2xl p-6 flex flex-col justify-between group overflow-hidden relative border transition-all duration-500 bg-gradient-to-br from-slate-900/80 to-slate-950/80 shadow-2xl ${q?"border-rose-500 shadow-[0_0_30px_rgba(244,63,94,0.2)]":b?"border-amber-500/50 shadow-[0_0_20px_rgba(245,158,11,0.1)]":"border-white/5"}`,children:[q&&e.jsx("div",{className:"absolute inset-0 bg-rose-500/5 animate-pulse pointer-events-none"}),e.jsx("div",{className:"absolute -right-4 -top-4 opacity-[0.03] group-hover:opacity-[0.1] transition-opacity duration-500",children:e.jsx(qe,{className:"size-40"})}),e.jsxs("div",{className:"flex justify-between items-start mb-6 relative z-10",children:[e.jsxs("div",{children:[e.jsxs("div",{className:"flex items-center gap-2 mb-1",children:[e.jsx("div",{className:`size-2 rounded-full animate-pulse ${q?"bg-rose-500":b?"bg-amber-500":"bg-[#135bec]"}`}),e.jsx("p",{className:"text-slate-400 text-[10px] font-black uppercase tracking-[2px]",children:"Wallet Mayorista"})]}),e.jsx("h3",{className:`text-4xl font-black transition-colors ${q?"text-rose-400":b?"text-amber-400":"text-white"}`,children:we.toLocaleString()}),e.jsx("p",{className:"text-[10px] text-slate-500 font-bold uppercase tracking-widest mt-1",children:"Crditos Disponibles"})]}),e.jsx("div",{className:`p-3 rounded-xl shadow-inner transition-colors ${q?"bg-rose-500/20 border border-rose-500/30 text-rose-500":b?"bg-amber-500/20 border border-amber-500/30 text-amber-500":"bg-[#135bec]/10 border border-[#135bec]/20 text-[#135bec]"}`,children:e.jsx(nt,{className:"w-6 h-6"})})]}),e.jsxs("div",{className:"space-y-3 relative z-10",children:[b&&e.jsxs("div",{className:`flex items-center gap-2 px-3 py-2 rounded-lg border mb-2 animate-in slide-in-from-top-2 duration-500 ${q?"bg-rose-500/10 border-rose-500/20 text-rose-400":"bg-amber-500/10 border-amber-500/20 text-amber-400"}`,children:[e.jsx("span",{className:"material-symbols-outlined !text-sm",children:"warning"}),e.jsx("span",{className:"text-[9px] font-black uppercase tracking-widest",children:q?"Servicio en Riesgo Crtico":"Saldo bajo detectado"})]}),e.jsxs("div",{className:"flex justify-between text-[11px] font-bold",children:[e.jsx("span",{className:"text-slate-500 uppercase tracking-[1px]",children:"Consumo Global"}),e.jsxs("span",{className:q?"text-rose-400":b?"text-amber-400":"text-[#135bec]",children:[je,"%"]})]}),e.jsx("div",{className:"w-full bg-slate-800/50 h-2.5 rounded-full overflow-hidden p-0.5 border border-white/5",children:e.jsx(ge.div,{initial:{width:0},animate:{width:`${je}%`},transition:{duration:1,ease:"easeOut"},className:`h-full rounded-full shadow-lg transition-colors ${q?"bg-gradient-to-r from-rose-600 to-rose-400":b?"bg-gradient-to-r from-amber-600 to-amber-400":"bg-gradient-to-r from-[#135bec] to-[#3b82f6]"}`})}),e.jsxs("div",{className:"flex justify-between items-center text-[10px]",children:[e.jsxs("div",{className:"flex flex-col",children:[e.jsxs("span",{className:"text-slate-500",children:["Total: ",(V=u==null?void 0:u.credits_total)==null?void 0:V.toLocaleString()]}),e.jsxs("span",{className:"text-slate-700 text-[8px] font-bold mt-0.5 italic",children:["Aprox. ",we," fotos restantes"]})]}),e.jsxs("span",{className:"text-slate-400 font-bold",children:["Usados: ",(ee=u==null?void 0:u.credits_used)==null?void 0:ee.toLocaleString()]})]}),e.jsx("button",{onClick:()=>{c("wallet"),xe(!0)},className:`w-full py-2.5 text-white text-[9px] font-black rounded-lg border transition-all uppercase tracking-[2px] mt-2 block text-center ${q?"bg-rose-500/20 border-rose-500/30 hover:bg-rose-500/30":b?"bg-amber-500/20 border-amber-500/30 hover:bg-amber-500/30":"bg-white/5 border-white/5 hover:bg-white/10"}`,children:"Gestionar Saldo / Recargar"})]})]})})(),e.jsxs("div",{className:"glass-card rounded-2xl p-6 flex flex-col justify-between group overflow-hidden relative border border-white/5 bg-gradient-to-br from-slate-900/80 to-slate-950/80",children:[e.jsx("div",{className:"absolute -right-4 -top-4 opacity-[0.03] group-hover:opacity-[0.1] transition-opacity duration-500",children:e.jsx(tt,{className:"size-40"})}),e.jsxs("div",{className:"flex justify-between items-start mb-6 relative z-10",children:[e.jsxs("div",{children:[e.jsx("p",{className:"text-slate-400 text-[10px] font-black uppercase tracking-[2px] mb-1",children:"Instancias Activas"}),e.jsx("h3",{className:"text-4xl font-black text-white",children:x.filter(b=>b.is_active).length}),e.jsx("p",{className:"text-[10px] text-slate-500 font-bold uppercase tracking-widest mt-1",children:"Eventos en curso"})]}),e.jsx("div",{className:"p-3 bg-emerald-500/10 border border-emerald-500/20 rounded-xl text-emerald-500",children:e.jsx(Oe,{className:"w-6 h-6"})})]}),e.jsxs("button",{onClick:()=>c("events"),className:"w-full py-3 bg-emerald-500/10 hover:bg-emerald-500/20 text-emerald-500 text-[10px] font-black rounded-xl border border-emerald-500/20 transition-all uppercase tracking-[2px] flex items-center justify-center gap-2 group/btn",children:[e.jsx(Be,{className:"size-4"}),"Gestionar Instancias"]})]}),e.jsxs("div",{className:"glass-card rounded-2xl p-6 flex flex-col justify-between group overflow-hidden relative border border-white/5 bg-gradient-to-br from-slate-900/80 to-slate-950/80",children:[e.jsx("div",{className:"absolute -right-4 -top-4 opacity-[0.03] group-hover:opacity-[0.1] transition-opacity duration-500",children:e.jsx(Ke,{className:"size-40"})}),e.jsxs("div",{className:"flex justify-between items-start mb-6 relative z-10",children:[e.jsxs("div",{children:[e.jsx("p",{className:"text-slate-400 text-[10px] font-black uppercase tracking-[2px] mb-1",children:"Identidad Visual"}),e.jsxs("div",{className:"mt-2 flex items-center gap-3",children:[t.logo_url?e.jsx("img",{src:t.logo_url,className:"h-8 object-contain",alt:"Logo"}):e.jsx("div",{className:"size-8 rounded-lg bg-slate-800 flex items-center justify-center border border-white/5",children:e.jsx(Pe,{className:"size-4 text-slate-600"})}),e.jsx("div",{className:"size-6 rounded-full border border-white/20 shadow-lg",style:{backgroundColor:t.primary_color}})]})]}),e.jsx("div",{className:"p-3 bg-indigo-500/10 border border-indigo-500/20 rounded-xl text-indigo-500",children:e.jsx(Pe,{className:"w-6 h-6"})})]}),e.jsx("button",{onClick:()=>c("branding"),className:"w-full py-3 bg-slate-800 hover:bg-slate-700 text-slate-300 text-[10px] font-black rounded-xl border border-white/10 transition-all uppercase tracking-[2px]",children:"Editar Identidad Visual"})]})]}),e.jsxs("div",{className:"bg-slate-900/50 border border-white/5 rounded-[32px] p-8 glass-card",children:[e.jsxs("div",{className:"flex items-center justify-between mb-8",children:[e.jsxs("div",{children:[e.jsx("h4",{className:"text-sm font-black text-white uppercase tracking-widest",children:"Actividad de Generacin"}),e.jsx("p",{className:"text-[10px] text-slate-500 uppercase font-bold mt-1",children:"Fotos creadas por da (ltimos 7 das)"})]}),e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx("div",{className:"size-2 rounded-full bg-[#135bec] animate-pulse"}),e.jsx("span",{className:"text-[10px] font-bold text-slate-400 uppercase",children:"Tiempo Real"})]})]}),e.jsx("div",{className:"h-48 flex items-end gap-2 px-2",children:Array.from({length:7}).map((b,q)=>{const V=new Date;V.setDate(V.getDate()-(6-q));const ee=V.toISOString().split("T")[0],le=I.filter(Ne=>Ne.created_at.startsWith(ee)).length,ve=Array.from({length:7}).map((Ne,Se)=>{const Ae=new Date;Ae.setDate(Ae.getDate()-(6-Se));const Me=Ae.toISOString().split("T")[0];return I.filter(at=>at.created_at.startsWith(Me)).length}),be=Math.max(...ve,1),ze=le/be*100;return e.jsxs("div",{className:"flex-1 flex flex-col items-center gap-3 group",children:[e.jsxs("div",{className:"w-full relative h-[140px] flex items-end",children:[e.jsx(ge.div,{initial:{height:0},animate:{height:`${Math.max(ze,5)}%`},className:`w-full rounded-t-xl transition-all duration-500 hover:brightness-125 ${le>0?"bg-gradient-to-t from-[#135bec] to-[#7f13ec]":"bg-white/5"}`}),le>0&&e.jsxs("div",{className:"absolute -top-8 left-1/2 -translate-x-1/2 bg-white text-[#0f172a] text-[9px] font-black px-2 py-1 rounded-lg opacity-0 group-hover:opacity-100 transition-opacity whitespace-nowrap z-20",children:[le," fotos"]})]}),e.jsx("span",{className:"text-[8px] font-black text-slate-600 uppercase",children:V.toLocaleDateString("es-AR",{weekday:"short"})})]},q)})})]})]},"overview"),h==="events"&&e.jsxs(ge.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},exit:{opacity:0,y:-20},className:"space-y-6",children:[e.jsxs("div",{className:"flex items-center justify-between px-2",children:[e.jsxs("div",{children:[e.jsx("h2",{className:"text-2xl font-black text-white uppercase tracking-tighter",children:"Mis Eventos"}),e.jsx("p",{className:"text-slate-500 text-xs mt-1",children:"Gestiona las instancias activas y el consumo de crditos."})]}),e.jsxs("div",{className:"flex items-center gap-4",children:[e.jsxs("div",{className:"relative group",children:[e.jsx(Ye,{className:"w-4 h-4 absolute left-3 top-1/2 -translate-y-1/2 text-slate-500 group-focus-within:text-[#135bec] transition-colors"}),e.jsx("input",{type:"text",placeholder:"Buscar por nombre o slug...",value:s,onChange:b=>f(b.target.value),className:"bg-slate-900 border border-slate-800 rounded-xl pl-9 pr-4 py-2.5 text-xs text-white focus:ring-1 focus:ring-[#135bec] focus:border-[#135bec] w-64 transition-all outline-none"})]}),e.jsxs("button",{onClick:()=>m(!0),className:"px-6 py-2.5 bg-[#135bec] hover:bg-[#135bec]/90 text-white text-[10px] font-black rounded-xl shadow-lg shadow-[#135bec]/20 transition-all uppercase tracking-[2px] flex items-center gap-2",children:[e.jsx(ht,{className:"size-4"}),"Nuevo Evento"]})]})]}),e.jsx("div",{className:"glass-card rounded-2xl overflow-hidden border border-white/5 bg-slate-900/50 backdrop-blur-xl",children:e.jsxs("table",{className:"w-full text-left border-collapse",children:[e.jsx("thead",{className:"bg-white/[0.03] border-b border-white/5",children:e.jsxs("tr",{children:[e.jsx("th",{className:"px-6 py-5 text-[10px] font-black text-slate-500 uppercase tracking-widest",children:"Identificacin"}),e.jsx("th",{className:"px-6 py-5 text-[10px] font-black text-slate-500 uppercase tracking-widest",children:"Consumo de Crditos"}),e.jsx("th",{className:"px-6 py-5 text-[10px] font-black text-slate-500 uppercase tracking-widest",children:"Estado"}),e.jsx("th",{className:"px-6 py-5 text-[10px] font-black text-slate-500 uppercase tracking-widest text-right",children:"Panel de Control"})]})}),e.jsxs("tbody",{className:"divide-y divide-white/5",children:[_e.map(b=>{const q=b.credits_allocated?Math.min(100,Math.round(b.credits_used/b.credits_allocated*100)):0;return e.jsxs("tr",{className:"hover:bg-white/[0.02] transition-colors group",children:[e.jsx("td",{className:"px-6 py-5",children:e.jsxs("div",{className:"flex items-center gap-4",children:[e.jsx("div",{className:"size-12 rounded-xl bg-gradient-to-br from-[#135bec]/20 to-[#0a1f4d]/20 border border-[#135bec]/20 flex items-center justify-center text-[#135bec] font-black text-sm group-hover:scale-110 transition-transform",children:((b==null?void 0:b.event_name)||"E").substring(0,2).toUpperCase()}),e.jsxs("div",{children:[e.jsx("p",{className:"text-sm font-bold text-white group-hover:text-[#135bec] transition-colors",children:b.event_name}),e.jsxs("div",{className:"flex items-center gap-2 mt-0.5",children:[e.jsx(wt,{className:"size-3 text-slate-600"}),e.jsxs("p",{className:"text-[10px] text-slate-500 font-mono",children:["/",b.event_slug]})]})]})]})}),e.jsx("td",{className:"px-6 py-5",children:e.jsxs("div",{className:"w-48",children:[e.jsxs("div",{className:"flex justify-between text-[10px] mb-1.5 font-bold",children:[e.jsxs("span",{className:"text-slate-400",children:[b.credits_used.toLocaleString()," / ",b.credits_allocated.toLocaleString()]}),e.jsxs("span",{className:`${q>90?"text-rose-500":"text-emerald-500"}`,children:[q,"%"]})]}),e.jsx("div",{className:"w-full h-1.5 bg-slate-800 rounded-full overflow-hidden p-[1px]",children:e.jsx(ge.div,{initial:{width:0},animate:{width:`${q}%`},transition:{duration:1,ease:"easeOut"},className:`h-full ${q>90?"bg-rose-500":"bg-[#135bec]"} rounded-full shadow-[0_0_8px_rgba(19,91,236,0.5)]`})})]})}),e.jsx("td",{className:"px-6 py-5",children:e.jsxs("span",{className:`inline-flex items-center gap-1.5 px-3 py-1.5 rounded-full text-[10px] font-black uppercase tracking-wider ${b.is_active?"bg-emerald-500/10 text-emerald-500 border border-emerald-500/20":"bg-rose-500/10 text-rose-500 border border-rose-500/20"}`,children:[e.jsx("span",{className:`size-2 rounded-full ${b.is_active?"bg-emerald-500 animate-pulse":"bg-rose-500"}`}),b.is_active?"En Lnea":"Pausado"]})}),e.jsx("td",{className:"px-6 py-5 text-right",children:e.jsxs("div",{className:"flex items-center justify-end gap-3",children:[e.jsx("button",{onClick:()=>B(b),className:"p-2.5 bg-emerald-500/10 hover:bg-emerald-500 border border-emerald-500/20 rounded-xl text-emerald-500 hover:text-white transition-all group/action",title:"Cargar Crditos",children:e.jsx($e,{className:"w-4 h-4 group-hover/action:scale-110 transition-transform"})}),e.jsx("button",{onClick:()=>{re(b),P(b.id),c("moderation")},className:"p-2.5 bg-indigo-500/10 hover:bg-indigo-500 border border-indigo-500/20 rounded-xl text-indigo-500 hover:text-white transition-all group/action",title:"Moderacin de Galera",children:e.jsx(lt,{className:"w-4 h-4 group-hover/action:scale-110 transition-transform"})}),e.jsx("button",{onClick:()=>z(b),className:"p-2.5 bg-slate-800/50 hover:bg-slate-800 border border-white/5 rounded-xl text-slate-400 hover:text-white transition-all group/action",title:"Editar Evento",children:e.jsx(We,{className:"w-4 h-4 group-hover/action:rotate-12 transition-transform"})}),e.jsx("button",{onClick:()=>window.open(`https://photobooth.creativa-labs.com/?event=${b.event_slug}`,"_blank"),className:"p-2.5 bg-slate-800/50 hover:bg-slate-800 border border-white/5 rounded-xl text-slate-400 hover:text-white transition-all group/action",title:"Ver Kiosco (Pblico)",children:e.jsx(Je,{className:"w-4 h-4 group-hover/action:scale-110 transition-transform"})}),j&&b.client_email&&e.jsx("button",{onClick:()=>j(b.client_email),className:"p-2.5 bg-[#135bec]/10 hover:bg-[#135bec] border border-[#135bec]/20 rounded-xl text-[#135bec] hover:text-white transition-all group/action",title:"Gestionar Branding como Cliente",children:e.jsx(ct,{className:"w-4 h-4 group-hover/action:scale-110 transition-transform"})}),e.jsx("button",{onClick:()=>g({id:b.id,name:b.event_name}),className:"p-2.5 bg-rose-500/10 hover:bg-rose-500 border border-rose-500/20 rounded-xl text-rose-500 hover:text-white transition-all group/action",title:"Eliminar Instancia",children:e.jsx(Ge,{className:"w-4 h-4 group-hover/action:scale-110 transition-transform"})})]})})]},b.id)}),_e.length===0&&e.jsx("tr",{children:e.jsx("td",{colSpan:4,className:"p-20 text-center",children:e.jsxs("div",{className:"flex flex-col items-center",children:[e.jsx("div",{className:"size-16 rounded-2xl bg-slate-800/50 flex items-center justify-center mb-4",children:e.jsx(Be,{className:"size-8 text-slate-600 opacity-20"})}),e.jsx("p",{className:"text-slate-400 text-sm font-bold uppercase tracking-widest",children:"No hay eventos para mostrar"}),e.jsx("p",{className:"text-slate-600 text-[10px] mt-1",children:"Crea tu primera instancia para comenzar."})]})})})]})]})})]},"events"),h==="moderation"&&e.jsxs(ge.div,{initial:{opacity:0,scale:.95},animate:{opacity:1,scale:1},exit:{opacity:0,scale:1.05},className:"space-y-6",children:[e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{className:"flex items-center gap-4",children:[e.jsx("button",{onClick:()=>c("events"),className:"p-2.5 bg-slate-800 hover:bg-slate-700 rounded-xl text-white transition-all border border-white/5",children:e.jsx(Qe,{className:"w-5 h-5 rotate-180"})}),e.jsxs("div",{children:[e.jsxs("h2",{className:"text-2xl font-black text-white uppercase tracking-tighter",children:["Galera: ",T==null?void 0:T.event_name]}),e.jsxs("div",{className:"flex items-center gap-2 mt-1",children:[e.jsx("span",{className:`size-2 rounded-full ${se.length>0?"bg-emerald-500 animate-pulse":"bg-slate-700"}`}),e.jsxs("p",{className:"text-slate-500 text-[10px] font-black uppercase tracking-widest",children:[se.length," de ",U.length," Fotos"]})]})]})]}),e.jsxs("div",{className:"flex items-center gap-4",children:[e.jsxs("div",{className:"flex items-center gap-3 bg-slate-900/80 p-1.5 rounded-2xl border border-white/5 shadow-inner",children:[e.jsxs("div",{className:"relative",children:[e.jsx(Ye,{className:"absolute left-3.5 top-1/2 -translate-y-1/2 size-3.5 text-slate-600"}),e.jsx("input",{type:"text",placeholder:"Buscar email o ID...",className:"bg-slate-950/50 border border-white/5 rounded-xl py-2.5 pl-10 pr-4 text-[10px] text-white focus:border-[#135bec] outline-none transition-all w-52 placeholder:text-slate-700 font-bold uppercase tracking-widest",value:A,onChange:b=>E(b.target.value)})]}),e.jsxs("div",{className:"relative",children:[e.jsx(Be,{className:"absolute left-3.5 top-1/2 -translate-y-1/2 size-3.5 text-slate-600"}),e.jsx("input",{type:"date",className:"bg-slate-950/50 border border-white/5 rounded-xl py-2.5 pl-10 pr-4 text-[10px] text-white focus:border-[#135bec] outline-none transition-all w-40 font-bold",value:X,onChange:b=>K(b.target.value)})]}),(A||X)&&e.jsx("button",{onClick:()=>{E(""),K("")},className:"p-2.5 hover:bg-white/5 text-slate-500 hover:text-white transition-all rounded-xl",children:e.jsx(Re,{className:"size-4"})})]}),e.jsx("div",{className:"w-px h-8 bg-white/5 mx-1"}),e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsxs("button",{onClick:()=>{const b=se.map(le=>le.image_url).join(`
`);if(b.length===0)return ne("No hay links para exportar","error");const q=new Blob([b],{type:"text/plain"}),V=window.URL.createObjectURL(q),ee=document.createElement("a");ee.href=V,ee.download=`links-${T==null?void 0:T.event_slug}-filtrados.txt`,ee.click(),window.URL.revokeObjectURL(V),ne("Links filtrados exportados")},className:"px-6 py-2.5 bg-slate-800 hover:bg-slate-700 text-white text-[10px] font-black rounded-xl border border-white/5 transition-all uppercase tracking-[2px] flex items-center gap-2",children:[e.jsx(Xe,{className:"size-4"}),"Exportar Links"]}),e.jsxs("button",{onClick:async()=>{if(se.length===0)return ne("No hay fotos para descargar","error");try{ne("Preparando descarga ZIP (Filtrada)...","info");const b=new st,q=b.folder(`${T==null?void 0:T.event_slug}-photos-filtered`);if(!q)throw new Error("No se pudo crear la carpeta en el ZIP");const V=se.map(async(be,ze)=>{var Ne;try{const Ae=await(await fetch(be.image_url)).blob(),Me=((Ne=be.image_url.split(".").pop())==null?void 0:Ne.split("?")[0])||"jpg";q.file(`photo-${ze+1}.${Me}`,Ae)}catch(Se){console.error("Error al descargar foto para el ZIP:",Se)}});await Promise.all(V);const ee=await b.generateAsync({type:"blob"}),le=window.URL.createObjectURL(ee),ve=document.createElement("a");ve.href=le,ve.download=`galeria-${T==null?void 0:T.event_slug}.zip`,ve.click(),window.URL.revokeObjectURL(le),ne("Galera completa descargada")}catch(b){console.error("Error al generar ZIP:",b),ne("Error al generar el archivo ZIP","error")}},className:"px-6 py-2.5 bg-[#135bec] hover:bg-[#135bec]/90 text-white text-[10px] font-black rounded-xl shadow-lg border border-white/10 transition-all uppercase tracking-[2px] flex items-center gap-2",children:[e.jsx(tt,{className:"size-4"}),"Descargar Todo (ZIP)"]})]})]})]}),e.jsx(Ie,{children:ce.length>0&&e.jsxs(ge.div,{initial:{y:100,opacity:0},animate:{y:0,opacity:1},exit:{y:100,opacity:0},className:"fixed bottom-10 left-1/2 -translate-x-1/2 z-[60] bg-slate-900/90 backdrop-blur-2xl border border-[#135bec]/30 rounded-2xl px-8 py-4 flex items-center gap-8 shadow-[0_20px_50px_rgba(0,0,0,0.5)]",children:[e.jsxs("div",{className:"flex flex-col",children:[e.jsx("span",{className:"text-[10px] font-black text-[#135bec] uppercase tracking-widest",children:"Seleccin Activa"}),e.jsxs("span",{className:"text-xl font-black text-white",children:[ce.length," ",e.jsx("span",{className:"text-xs text-slate-500 font-medium",children:"Fotos"})]})]}),e.jsx("div",{className:"w-px h-10 bg-white/10"}),e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx("button",{onClick:()=>ie([]),className:"px-4 py-2 text-[10px] font-black text-slate-400 uppercase tracking-widest hover:text-white transition-colors",children:"Cancelar"}),e.jsxs("button",{onClick:async()=>{const b=new st;ne(`Preparando ZIP de ${ce.length} fotos...`,"info");const q=b.folder("seleccion-personalizada"),ee=U.filter(ze=>ce.includes(ze.id)).map(async(ze,Ne)=>{const Ae=await(await fetch(ze.image_url)).blob();q==null||q.file(`photo-${Ne+1}.jpg`,Ae)});await Promise.all(ee);const le=await b.generateAsync({type:"blob"}),ve=window.URL.createObjectURL(le),be=document.createElement("a");be.href=ve,be.download="seleccion-fotos.zip",be.click(),ne("ZIP de seleccin descargado"),ie([])},className:"px-6 py-2.5 bg-white text-black text-[10px] font-black rounded-xl hover:bg-slate-200 transition-all uppercase tracking-[2px] flex items-center gap-2",children:[e.jsx(Xe,{className:"size-4"}),"Descargar ZIP"]}),e.jsxs("button",{onClick:async()=>{if(confirm(` ACCIN MASIVA: Ests seguro de eliminar ${ce.length} fotos definitivamente?`))try{te(!0);const{error:b}=await fe.from("generations").delete().in("id",ce);if(b)throw b;ne(`${ce.length} fotos eliminadas`),ie([]),P(T.id)}catch(b){ne(b.message,"error")}finally{te(!1)}},className:"px-6 py-2.5 bg-rose-500 text-white text-[10px] font-black rounded-xl hover:bg-rose-600 transition-all uppercase tracking-[2px] flex items-center gap-2",children:[e.jsx(Ge,{className:"size-4"}),"Eliminar Seleccionadas"]})]})]})}),Z?e.jsxs("div",{className:"h-96 flex flex-col items-center justify-center gap-4",children:[e.jsx("div",{className:"size-12 border-4 border-[#135bec]/30 border-t-[#135bec] rounded-full animate-spin"}),e.jsx("p",{className:"text-slate-500 text-[10px] font-black uppercase tracking-widest",children:"Sincronizando Galera..."})]}):e.jsxs("div",{className:"grid grid-cols-2 md:grid-cols-4 lg:grid-cols-5 xl:grid-cols-6 gap-4",children:[se.map(b=>{var q;return e.jsxs("div",{onClick:()=>{ce.includes(b.id)?ie(V=>V.filter(ee=>ee!==b.id)):ie(V=>[...V,b.id])},className:`group relative aspect-[3/4] rounded-2xl overflow-hidden border transition-all duration-300 cursor-pointer shadow-xl ${ce.includes(b.id)?"border-[#135bec] scale-[0.98] ring-4 ring-[#135bec]/20":"border-white/5 bg-slate-900"}`,children:[e.jsx("div",{className:`absolute top-4 left-4 z-20 size-5 rounded-md border flex items-center justify-center transition-all ${ce.includes(b.id)?"bg-[#135bec] border-[#135bec] text-white":"bg-black/20 border-white/20 text-transparent opacity-0 group-hover:opacity-100"}`,children:e.jsx("span",{className:"material-symbols-outlined !text-[14px] font-black",children:"check"})}),e.jsx("img",{src:b.image_url,alt:"Generation",className:`w-full h-full object-cover transition-transform duration-700 group-hover:scale-110 ${ce.includes(b.id)?"opacity-50":""}`}),e.jsxs("div",{className:"absolute inset-x-0 bottom-0 bg-gradient-to-t from-black/90 via-black/50 to-transparent p-4 translate-y-2 group-hover:translate-y-0 transition-transform",children:[e.jsx("p",{className:"text-[8px] font-mono text-white/50 mb-0.5 truncate",children:b.id}),e.jsx("p",{className:"text-[10px] font-black text-white mb-3 truncate uppercase tracking-widest",children:((q=b.profiles)==null?void 0:q.email)||"Annimo"}),e.jsxs("div",{className:"flex gap-2",children:[e.jsx("button",{onClick:V=>{V.stopPropagation(),L(b.id)},className:"p-2.5 bg-rose-500/20 hover:bg-rose-500 border border-rose-500/30 rounded-xl text-rose-500 hover:text-white transition-all group/del",title:"Eliminar de la galera",children:e.jsx(Ge,{className:"size-4 group-hover/del:scale-110 transition-transform"})}),e.jsxs("button",{onClick:V=>{V.stopPropagation(),window.open(b.image_url,"_blank")},className:"flex-1 py-2 bg-white/10 backdrop-blur-md border border-white/20 rounded-xl text-white text-[9px] font-black uppercase tracking-widest hover:bg-white/20 transition-all flex items-center justify-center gap-2",children:[e.jsx(Je,{className:"size-3"}),"Ver Original"]})]})]})]},b.id)}),se.length===0&&e.jsxs("div",{className:"col-span-full h-64 flex flex-col items-center justify-center bg-slate-900/50 rounded-[32px] border border-dashed border-white/5",children:[e.jsx(Ze,{className:"size-8 text-slate-800 mb-4"}),e.jsx("p",{className:"text-slate-500 text-xs font-black uppercase tracking-widest",children:"No hay fotos en este evento"})]})]})]},"moderation"),h==="wallet"&&e.jsxs(ge.div,{initial:{opacity:0,scale:.95},animate:{opacity:1,scale:1},exit:{opacity:0,scale:1.05},className:"space-y-8",children:[e.jsxs("section",{className:"grid grid-cols-1 lg:grid-cols-3 gap-8",children:[e.jsxs("div",{className:"lg:col-span-2 glass-card rounded-3xl p-10 bg-gradient-to-br from-[#135bec] to-[#0a1f4d] border-none shadow-2xl shadow-[#135bec]/20 relative overflow-hidden",children:[e.jsx("div",{className:"absolute top-0 right-0 p-10 opacity-10",children:e.jsx(ft,{className:"size-64"})}),e.jsxs("div",{className:"relative z-10 flex flex-col h-full justify-between",children:[e.jsxs("div",{children:[e.jsx("p",{className:"text-white/60 text-[11px] font-black uppercase tracking-[3px] mb-2",children:"Crditos Totales Disponibles"}),e.jsxs("h2",{className:"text-7xl font-black text-white tracking-tighter",children:[we.toLocaleString(),e.jsx("span",{className:"text-2xl text-white/40 ml-4 font-medium uppercase tracking-widest",children:"unidades"})]})]}),e.jsxs("div",{className:"mt-12 flex flex-wrap gap-8 items-end",children:[e.jsxs("div",{className:"space-y-1",children:[e.jsx("p",{className:"text-white/40 text-[10px] font-bold uppercase",children:"Consumo Total"}),e.jsxs("div",{className:"flex items-center gap-2 text-white",children:[e.jsx(zt,{className:"size-5 text-emerald-400"}),e.jsx("span",{className:"text-2xl font-black",children:((pe=u==null?void 0:u.credits_used)==null?void 0:pe.toLocaleString())||0})]})]}),e.jsxs("div",{className:"space-y-1",children:[e.jsx("p",{className:"text-white/40 text-[10px] font-bold uppercase",children:"Eventos Activos"}),e.jsxs("div",{className:"flex items-center gap-2 text-white/80",children:[e.jsx(Oe,{className:"size-5 text-yellow-400"}),e.jsx("span",{className:"text-2xl font-black",children:x.filter(b=>b.is_active).length})]})]}),e.jsx("button",{onClick:()=>xe(!0),className:"ml-auto px-8 py-4 bg-white text-[#135bec] font-black rounded-2xl hover:scale-105 transition-all text-xs uppercase tracking-[2px] shadow-xl",children:"Recargar Crditos"})]})]})]}),e.jsxs("div",{className:"glass-card rounded-3xl p-8 border border-white/5 bg-slate-900/50 backdrop-blur-xl flex flex-col justify-between",children:[e.jsxs("div",{children:[e.jsxs("h3",{className:"text-lg font-black text-white uppercase tracking-tighter mb-6 flex items-center gap-2",children:[e.jsx(pt,{className:"size-5 text-[#135bec]"}),"ltimas Recargas"]}),e.jsx("div",{className:"space-y-6 max-h-[400px] overflow-y-auto custom-scrollbar pr-2",children:i.length>0?i.map((b,q)=>e.jsxs("div",{className:"flex justify-between items-center bg-white/[0.02] p-4 rounded-2xl border border-white/5 group hover:border-[#135bec]/30 transition-all",children:[e.jsxs("div",{children:[e.jsxs("p",{className:"text-xs font-bold text-white",children:["+",b.amount.toLocaleString()," Crditos"]}),e.jsx("p",{className:"text-[10px] text-slate-500 mt-1",children:new Date(b.created_at).toLocaleDateString()})]}),e.jsx("span",{className:`text-[9px] font-black uppercase px-2 py-1 rounded-lg ${b.type==="top-up"?"text-emerald-500 bg-emerald-500/10":"text-blue-500 bg-blue-500/10"}`,children:b.type==="top-up"?"Carga":"Ajuste"})]},b.id)):e.jsx("div",{className:"text-center py-10 opacity-40",children:e.jsx("p",{className:"text-[10px] font-bold uppercase tracking-widest",children:"Sin movimientos"})})})]}),e.jsxs("p",{className:"text-[10px] text-slate-600 text-center mt-6",children:[e.jsx(et,{className:"size-3 inline mr-1"}),"Los crditos no poseen fecha de vencimiento."]})]})]}),e.jsxs("section",{className:"glass-card rounded-2xl p-8 border border-white/5 bg-slate-900/50 backdrop-blur-xl",children:[e.jsx("h3",{className:"text-lg font-black text-white uppercase tracking-tighter mb-8 bg-white/5 -mx-8 -mt-8 p-8 border-b border-white/5",children:"Consumo por Evento"}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-6",children:[x.map(b=>e.jsxs("div",{className:"p-6 rounded-2xl bg-white/[0.03] border border-white/5 hover:border-[#135bec]/30 transition-all group relative overflow-hidden",children:[e.jsx("div",{className:"absolute -right-4 -top-4 size-20 bg-[#135bec]/5 rounded-full blur-2xl group-hover:bg-[#135bec]/10 transition-all"}),e.jsxs("div",{className:"relative z-10",children:[e.jsx("p",{className:"text-[10px] font-black text-slate-500 uppercase tracking-widest mb-1 truncate pr-4",children:b.event_name}),e.jsxs("div",{className:"flex items-end justify-between",children:[e.jsx("h4",{className:"text-2xl font-black text-white",children:b.credits_used||0}),e.jsx("p",{className:"text-[10px] text-slate-600 font-bold",children:"utilizados"})]}),e.jsx("div",{className:"mt-4 w-full bg-slate-800 h-1 rounded-full overflow-hidden",children:e.jsx("div",{className:"bg-[#135bec] h-full",style:{width:`${Math.min(100,(b.credits_used||0)/(b.credits_allocated||1)*100)}%`}})}),e.jsxs("div",{className:"flex justify-between mt-2 text-[8px] font-bold uppercase tracking-widest text-slate-700",children:[e.jsxs("span",{children:[Math.round((b.credits_used||0)/(b.credits_allocated||1)*100),"%"]}),e.jsxs("span",{children:["de ",b.credits_allocated]})]})]})]},b.id)),x.length===0&&e.jsx("div",{className:"col-span-full py-10 text-center opacity-30",children:e.jsx("p",{className:"text-xs font-bold uppercase tracking-[2px]",children:"No hay datos de consumo disponibles"})})]})]})]},"wallet"),h==="branding"&&e.jsxs(ge.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},exit:{opacity:0,y:-20},className:"grid grid-cols-1 xl:grid-cols-12 gap-8",children:[e.jsx("div",{className:"xl:col-span-8 space-y-8",children:e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-8",children:[e.jsxs("section",{className:"glass-card rounded-[32px] p-8 border border-white/5 bg-slate-900/50 backdrop-blur-xl shadow-2xl h-fit",children:[e.jsxs("div",{className:"flex items-center gap-3 mb-8",children:[e.jsx("div",{className:"p-3 bg-indigo-500/10 border border-indigo-500/20 rounded-xl text-indigo-500",children:e.jsx(Pe,{className:"w-6 h-6"})}),e.jsxs("div",{children:[e.jsx("h2",{className:"text-xl font-black text-white uppercase tracking-tighter",children:"Identidad Visual"}),e.jsx("p",{className:"text-slate-500 text-xs",children:"Personaliza tu panel de control."})]})]}),e.jsxs("div",{className:"space-y-8",children:[e.jsxs("div",{children:[e.jsx("label",{className:"text-[10px] font-black text-slate-500 uppercase tracking-[2px] block mb-4",children:"Logo Corporativo"}),e.jsxs("div",{className:"w-full border-2 border-dashed border-slate-800 rounded-2xl p-6 flex flex-col items-center justify-center bg-slate-950/50 hover:bg-slate-950 transition-all cursor-pointer group hover:border-[#135bec]/50 shadow-inner",onClick:()=>{var b;return(b=document.getElementById("brandingLogoInput"))==null?void 0:b.click()},children:[e.jsx("input",{type:"file",id:"brandingLogoInput",className:"hidden",accept:"image/*",onChange:S}),t.logo_url?e.jsxs("div",{className:"relative group/logo",children:[e.jsx("img",{src:t.logo_url,className:"h-12 object-contain mb-2 group-hover:opacity-50 transition-opacity",alt:"Logo"}),e.jsx("div",{className:"absolute inset-0 flex items-center justify-center opacity-0 group-hover/logo:opacity-100 transition-opacity",children:e.jsx(We,{className:"size-5 text-white"})})]}):e.jsxs("div",{className:"flex flex-col items-center",children:[e.jsx(ut,{className:"w-8 h-8 text-slate-700 group-hover:text-[#135bec] mb-3 transition-colors"}),e.jsx("p",{className:"text-[10px] text-slate-500 font-bold uppercase tracking-widest text-center",children:"Subir Identidad"})]})]})]}),e.jsxs("div",{className:"space-y-6",children:[e.jsxs("div",{children:[e.jsx("label",{className:"text-[10px] font-black text-slate-500 uppercase tracking-[2px] block mb-4",children:"Color de Acento"}),e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx("div",{className:"size-12 rounded-xl border-2 border-white/10 shadow-2xl cursor-pointer hover:scale-105 transition-all",style:{backgroundColor:t.primary_color},onClick:()=>{var b;return(b=document.getElementById("brandingColorPicker"))==null?void 0:b.click()}}),e.jsx("input",{id:"brandingColorPicker",type:"color",className:"sr-only",value:t.primary_color,onChange:b=>D({...t,primary_color:b.target.value})}),e.jsxs("div",{className:"flex-1 bg-slate-950 border border-slate-800 rounded-xl py-3 px-4 text-xs text-white font-mono flex items-center justify-between",children:[e.jsx("span",{children:t.primary_color.toUpperCase()}),e.jsx(We,{className:"size-3 text-slate-600"})]})]})]}),e.jsxs("div",{children:[e.jsx("label",{className:"text-[10px] font-black text-slate-500 uppercase tracking-[2px] block mb-4",children:"Radio de Bordes"}),e.jsxs("div",{className:"relative",children:[e.jsxs("select",{className:"w-full bg-slate-950 border border-slate-800 rounded-xl py-3 px-4 text-xs text-white focus:ring-1 focus:ring-[#135bec] outline-none appearance-none cursor-pointer pr-10",value:t.radius,onChange:b=>D({...t,radius:b.target.value}),children:[e.jsx("option",{value:"4px",children:"4px (Recto)"}),e.jsx("option",{value:"8px",children:"8px (Suave)"}),e.jsx("option",{value:"12px",children:"12px (Premium)"}),e.jsx("option",{value:"20px",children:"20px (Redondeado)"})]}),e.jsx("div",{className:"absolute right-4 top-1/2 -translate-y-1/2 pointer-events-none",children:e.jsx(Qe,{className:"size-3 text-slate-600"})})]})]})]}),e.jsxs("button",{onClick:k,className:"w-full py-4 bg-white text-slate-900 text-[10px] font-black rounded-2xl transition-all shadow-xl hover:shadow-2xl active:scale-[0.98] uppercase tracking-[3px] flex items-center justify-center gap-2 group",children:[e.jsx(Fe,{className:"size-4 group-hover:scale-110 transition-transform"}),"Sincronizar Panel"]})]})]}),e.jsxs("div",{className:"glass-card rounded-[32px] p-8 border border-white/5 bg-slate-900/50 backdrop-blur-xl shadow-2xl relative overflow-hidden h-fit",children:[e.jsx("div",{className:"flex items-center justify-between mb-8 relative z-10",children:e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx("div",{className:"p-3 bg-[#135bec]/10 border border-[#135bec]/20 rounded-xl text-[#135bec]",children:e.jsx(Oe,{className:"w-6 h-6"})}),e.jsxs("div",{children:[e.jsx("h2",{className:"text-xl font-black text-white uppercase tracking-tighter",children:"Estilos IA"}),e.jsx("p",{className:"text-slate-500 text-xs",children:"Packs activos para clientes."})]})]})}),e.jsx("div",{className:"grid grid-cols-2 gap-4 relative z-10",children:dt.map(b=>{const q=Le.find(V=>V.subCategory===b)||Le[0];return e.jsxs("label",{className:"relative block cursor-pointer group",children:[e.jsx("input",{type:"checkbox",checked:t.style_presets.includes(b),onChange:()=>de(b),className:"peer sr-only"}),e.jsxs("div",{className:`aspect-square rounded-2xl overflow-hidden relative border-2 transition-all duration-300 ${t.style_presets.includes(b)?"border-[#135bec] scale-[1.02] shadow-xl shadow-[#135bec]/20":"border-white/5 opacity-40 hover:border-white/20 hover:opacity-80"}`,children:[e.jsx("div",{className:"absolute inset-0 bg-gradient-to-t from-black/80 to-transparent z-10"}),e.jsx("img",{alt:b,className:"w-full h-full object-cover group-hover:scale-110 transition-transform duration-700",src:q.url}),e.jsx("div",{className:"absolute bottom-2 left-3 z-20",children:e.jsx("p",{className:"text-[8px] font-black uppercase text-white tracking-[1px] leading-tight",children:b})}),t.style_presets.includes(b)&&e.jsx("div",{className:"absolute top-2 right-2 z-20",children:e.jsx("div",{className:"bg-[#135bec] rounded-full p-1 shadow-xl border border-white/20",children:e.jsx(Fe,{className:"w-2.5 h-2.5 text-white"})})})]})]},b)})})]})]})}),e.jsxs("div",{className:"xl:col-span-4 sticky top-8",children:[e.jsxs("div",{className:"flex flex-col items-center",children:[e.jsxs("div",{className:"mb-6 flex items-center gap-3",children:[e.jsx("div",{className:"size-1.5 rounded-full bg-emerald-500 animate-pulse"}),e.jsx("span",{className:"text-[10px] font-black text-slate-500 uppercase tracking-[4px]",children:"Live Preview (Kiosk)"})]}),e.jsxs("div",{className:"relative w-[280px] h-[580px] bg-slate-800 rounded-[50px] p-3 border-[6px] border-slate-700 shadow-2xl overflow-hidden shadow-black/60",children:[e.jsx("div",{className:"absolute top-0 left-1/2 -translate-x-1/2 w-32 h-6 bg-slate-700 rounded-b-2xl z-50"}),e.jsxs("div",{className:"w-full h-full bg-[#071121] rounded-[40px] overflow-hidden flex flex-col relative",children:[e.jsx("div",{className:"absolute inset-0 opacity-20",style:{background:`radial-gradient(circle at 50% 50%, ${t.primary_color}33 0%, transparent 70%)`}}),e.jsxs("div",{className:"p-6 flex flex-col items-center justify-center pt-10",children:[t.logo_url?e.jsx("img",{src:t.logo_url,className:"h-10 object-contain mb-4",alt:"Mockup Logo"}):e.jsx("div",{className:"h-10 w-32 bg-white/5 rounded-xl border border-white/10 flex items-center justify-center text-[8px] text-slate-600 font-black uppercase tracking-[2px]",children:"Your Logo Here"}),e.jsx("div",{className:"w-12 h-0.5",style:{background:`linear-gradient(90deg, transparent, ${t.primary_color}, transparent)`}})]}),e.jsxs("div",{className:"px-6 py-2 text-center",children:[e.jsx("h3",{className:"text-[14px] font-black text-white uppercase tracking-tighter italic",children:"Descubre tu Identidad"}),e.jsx("p",{className:"text-[8px] text-slate-500 uppercase font-black tracking-widest mt-1 opacity-60",children:"Selecciona un estandar de estilo"})]}),e.jsx("div",{className:"flex-1 overflow-y-auto px-6 py-4 no-scrollbar",children:e.jsxs("div",{className:"grid grid-cols-2 gap-3",children:[t.style_presets.slice(0,4).map((b,q)=>{const V=Le.find(ee=>ee.subCategory===b)||Le[0];return e.jsxs("div",{className:"aspect-[3/4] overflow-hidden relative border shadow-lg",style:{borderRadius:t.radius,borderColor:q===0?t.primary_color:"rgba(255,255,255,0.05)"},children:[e.jsx("div",{className:"absolute inset-0 bg-gradient-to-t from-black/60 to-transparent z-10"}),e.jsx("img",{src:V.url,className:"w-full h-full object-cover"}),e.jsx("div",{className:"absolute bottom-2 left-2 z-20",children:e.jsx("p",{className:"text-[7px] font-black text-white uppercase",children:b})})]},q)}),t.style_presets.length<4&&Array.from({length:4-t.style_presets.length}).map((b,q)=>e.jsx("div",{className:"aspect-[3/4] bg-white/5 border border-dashed border-white/10 flex items-center justify-center text-slate-800",style:{borderRadius:t.radius},children:e.jsx("span",{className:"material-symbols-outlined !text-sm",children:"add"})},q))]})}),e.jsx("div",{className:"p-6",children:e.jsx("div",{className:"w-full py-3 text-center text-white text-[9px] font-black uppercase tracking-[2px] shadow-lg shadow-black/20",style:{backgroundColor:t.primary_color,borderRadius:t.radius},children:"Comenzar Experiencia"})})]})]})]}),e.jsxs("div",{className:"mt-8",children:[e.jsxs("div",{className:"flex items-center justify-between mb-4 px-2",children:[e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx("div",{className:"size-8 rounded-lg bg-orange-500/10 flex items-center justify-center text-orange-500",children:e.jsx(Oe,{className:"size-4"})}),e.jsxs("div",{children:[e.jsx("h4",{className:"text-xs font-black text-white uppercase tracking-widest",children:"Global Live Feed"}),e.jsx("p",{className:"text-[9px] text-slate-500 font-bold uppercase tracking-[2px]",children:"ltimas capturas en tus eventos"})]})]}),e.jsx("button",{onClick:()=>c("events"),className:"text-[9px] font-black text-[#135bec] uppercase tracking-widest hover:underline",children:"Ver todos los eventos"})]}),e.jsxs("div",{className:"relative group/feed",children:[e.jsx("div",{className:"flex gap-4 overflow-x-auto pb-6 pt-2 no-scrollbar scroll-smooth",children:H.length>0?H.map((b,q)=>{var V;return e.jsxs(ge.div,{initial:{opacity:0,scale:.9},animate:{opacity:1,scale:1},transition:{delay:q*.1},className:"min-w-[140px] md:min-w-[180px] aspect-[3/4] rounded-2xl overflow-hidden border border-white/5 bg-slate-900 shadow-xl relative group/item",children:[e.jsx("img",{src:b.image_url,alt:"Recent",className:"w-full h-full object-cover grayscale-[0.5] group-hover/item:grayscale-0 transition-all duration-500"}),e.jsxs("div",{className:"absolute inset-x-0 bottom-0 p-3 bg-gradient-to-t from-black/80 to-transparent",children:[e.jsx("p",{className:"text-[7px] font-black text-white/50 uppercase tracking-widest mb-0.5",children:((V=x.find(ee=>ee.id===b.event_id))==null?void 0:V.event_name)||"Evento"}),e.jsxs("p",{className:"text-[8px] font-bold text-white uppercase",children:["Hace ",Math.floor((Date.now()-new Date(b.created_at).getTime())/6e4),"m"]})]})]},b.id)}):e.jsxs("div",{className:"w-full h-40 rounded-[32px] border border-dashed border-white/10 flex flex-col items-center justify-center text-slate-600",children:[e.jsx("span",{className:"material-symbols-outlined text-3xl mb-2 opacity-20",children:"cloud_off"}),e.jsx("p",{className:"text-[10px] font-black uppercase tracking-[2px]",children:"Esperando actividad..."})]})}),e.jsx("div",{className:"absolute inset-y-0 left-0 w-20 bg-gradient-to-r from-[#0a0c0b]/50 to-transparent pointer-events-none opacity-0 group-hover/feed:opacity-100 transition-opacity"}),e.jsx("div",{className:"absolute inset-y-0 right-0 w-20 bg-gradient-to-l from-[#0a0c0b]/50 to-transparent pointer-events-none opacity-0 group-hover/feed:opacity-100 transition-opacity"})]})]})]})]},"branding")]}),e.jsxs(Ie,{children:[n&&e.jsx("div",{className:"fixed inset-0 z-[100] flex items-center justify-center p-4 bg-black/80 backdrop-blur-xl",children:e.jsxs(ge.div,{initial:{opacity:0,scale:.9,y:20},animate:{opacity:1,scale:1,y:0},exit:{opacity:0,scale:.9,y:20},className:"w-full max-w-md bg-slate-900 border border-white/10 rounded-2xl shadow-2xl overflow-hidden",children:[e.jsxs("div",{className:"flex items-center justify-between p-7 border-b border-white/5",children:[e.jsxs("div",{children:[e.jsx("h3",{className:"text-xl font-black text-white uppercase tracking-tighter",children:"Crear Evento"}),e.jsx("p",{className:"text-xs text-slate-500 mt-1 uppercase tracking-widest font-bold",children:"Nueva instancia"})]}),e.jsx("button",{onClick:()=>m(!1),className:"size-10 flex items-center justify-center rounded-xl bg-slate-800 text-slate-500 hover:text-white transition-all",children:e.jsx(Re,{className:"w-5 h-5"})})]}),e.jsxs("form",{onSubmit:W,className:"p-7 space-y-6",children:[e.jsxs("div",{className:"space-y-4",children:[e.jsxs("div",{children:[e.jsx("label",{className:"text-[10px] font-black uppercase tracking-[2px] text-slate-500 mb-2 block",children:"Nombre del Evento"}),e.jsx("input",{required:!0,type:"text",placeholder:"Nombre comercial",className:"w-full bg-[#0a0a0b] border border-white/10 rounded-xl px-5 py-4 text-white focus:border-[#135bec] outline-none transition-all placeholder:text-slate-800",value:C.name,onChange:b=>d({...C,name:b.target.value})})]}),e.jsxs("div",{children:[e.jsx("label",{className:"text-[10px] font-black uppercase tracking-[2px] text-slate-500 mb-2 block",children:"Email del Cliente (Asignacin)"}),e.jsxs("div",{className:"relative",children:[e.jsx(ot,{className:"absolute left-4 top-1/2 -translate-y-1/2 text-slate-700 size-4"}),e.jsx("input",{required:!0,type:"email",placeholder:"cliente@ejemplo.com",className:"w-full bg-[#0a0a0b] border border-white/10 rounded-xl pl-11 pr-5 py-4 text-white focus:border-[#135bec] outline-none transition-all placeholder:text-slate-800 text-xs",value:C.client_email,onChange:b=>d({...C,client_email:b.target.value.toLowerCase()})})]})]}),e.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[e.jsxs("div",{children:[e.jsx("label",{className:"text-[10px] font-black uppercase tracking-[2px] text-slate-500 mb-2 block",children:"Personalizado"}),e.jsx("input",{type:"text",placeholder:"slug",className:"w-full bg-[#0a0a0b] border border-white/10 rounded-xl px-4 py-3 text-white focus:border-[#135bec] outline-none transition-all text-xs font-mono",value:C.slug,onChange:b=>d({...C,slug:b.target.value.toLowerCase().replace(/\s+/g,"-")})})]}),e.jsxs("div",{children:[e.jsx("label",{className:"text-[10px] font-black uppercase tracking-[2px] text-slate-500 mb-2 block",children:"Crditos"}),e.jsxs("div",{className:"relative",children:[e.jsx($e,{className:"absolute left-4 top-1/2 -translate-y-1/2 text-[#135bec] size-4"}),e.jsx("input",{required:!0,type:"number",className:"w-full bg-[#0a0a0b] border border-white/10 rounded-xl pl-11 pr-5 py-3 text-white focus:border-[#135bec] outline-none transition-all text-xs font-bold",value:C.credits,onChange:b=>d({...C,credits:Number(b.target.value)})})]})]})]}),e.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[e.jsxs("div",{children:[e.jsx("label",{className:"text-[10px] font-black uppercase tracking-[2px] text-slate-500 mb-2 block",children:"Inicio"}),e.jsx("input",{required:!0,type:"date",className:"w-full bg-[#0a0a0b] border border-white/10 rounded-xl px-4 py-3 text-white focus:border-[#135bec] outline-none transition-all text-xs",value:C.start_date,onChange:b=>d({...C,start_date:b.target.value})})]}),e.jsxs("div",{children:[e.jsx("label",{className:"text-[10px] font-black uppercase tracking-[2px] text-slate-500 mb-2 block",children:"Fin"}),e.jsx("input",{required:!0,type:"date",className:"w-full bg-[#0a0a0b] border border-white/10 rounded-xl px-4 py-3 text-white focus:border-[#135bec] outline-none transition-all text-xs",value:C.end_date,onChange:b=>d({...C,end_date:b.target.value})})]})]}),e.jsxs("div",{className:"p-4 bg-[#135bec]/5 border border-[#135bec]/10 rounded-xl flex items-center gap-4",children:[e.jsx("div",{className:"size-8 rounded-lg bg-[#135bec]/10 flex items-center justify-center text-[#135bec]",children:e.jsx(Fe,{className:"size-4"})}),e.jsxs("div",{children:[e.jsx("p",{className:"text-[9px] font-bold text-slate-500 uppercase tracking-widest leading-none",children:"Verificacin de Balance"}),e.jsxs("p",{className:"text-[11px] text-slate-400 mt-1 leading-tight",children:["Se deducirn ",C.credits," crditos de tu balance mayorista (",we," disponibles)."]})]})]})]}),e.jsx("button",{disabled:a,type:"submit",className:"w-full py-5 bg-[#135bec] hover:bg-[#135bec]/90 text-white text-[11px] font-black rounded-xl transition-all shadow-xl shadow-[#135bec]/20 uppercase tracking-widest disabled:opacity-50 disabled:cursor-not-allowed group/btn",children:a?"Creando...":e.jsxs("span",{className:"flex items-center justify-center gap-2",children:["Activar Instancia de Evento",e.jsx(Oe,{className:"size-4 group-hover:scale-110 transition-transform"})]})})]})]})}),v&&e.jsx("div",{className:"fixed inset-0 z-[100] flex items-center justify-center p-4 bg-black/80 backdrop-blur-xl",children:e.jsxs(ge.div,{initial:{opacity:0,scale:.9,y:20},animate:{opacity:1,scale:1,y:0},exit:{opacity:0,scale:.9,y:20},className:"w-full max-w-md bg-slate-900 border border-white/10 rounded-2xl shadow-2xl overflow-hidden",children:[e.jsxs("div",{className:"flex items-center justify-between p-7 border-b border-white/5",children:[e.jsxs("div",{children:[e.jsx("h3",{className:"text-xl font-black text-white uppercase tracking-tighter",children:"Editar Evento"}),e.jsx("p",{className:"text-xs text-slate-500 mt-1 uppercase tracking-widest font-bold",children:"Modificar parmetros"})]}),e.jsx("button",{onClick:()=>z(null),className:"size-10 flex items-center justify-center rounded-xl bg-slate-800 text-slate-500 hover:text-white transition-all",children:e.jsx(Re,{className:"w-5 h-5"})})]}),e.jsxs("div",{className:"p-7 space-y-6",children:[e.jsxs("div",{className:"space-y-4",children:[e.jsxs("div",{children:[e.jsx("label",{className:"text-[10px] font-black uppercase tracking-[2px] text-slate-500 mb-2 block",children:"Nombre del Evento"}),e.jsx("input",{required:!0,type:"text",className:"w-full bg-[#0a0a0b] border border-white/10 rounded-xl px-5 py-4 text-white focus:border-[#135bec] outline-none transition-all placeholder:text-slate-800",value:v.event_name,onChange:b=>z({...v,event_name:b.target.value})})]}),e.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[e.jsxs("div",{children:[e.jsx("label",{className:"text-[10px] font-black uppercase tracking-[2px] text-slate-500 mb-2 block",children:"Inicio"}),e.jsx("input",{required:!0,type:"date",className:"w-full bg-[#0a0a0b] border border-white/10 rounded-xl px-4 py-3 text-white focus:border-[#135bec] outline-none transition-all text-xs",value:new Date(v.start_date).toISOString().split("T")[0],onChange:b=>z({...v,start_date:b.target.value})})]}),e.jsxs("div",{children:[e.jsx("label",{className:"text-[10px] font-black uppercase tracking-[2px] text-slate-500 mb-2 block",children:"Fin"}),e.jsx("input",{required:!0,type:"date",className:"w-full bg-[#0a0a0b] border border-white/10 rounded-xl px-4 py-3 text-white focus:border-[#135bec] outline-none transition-all text-xs",value:new Date(v.end_date).toISOString().split("T")[0],onChange:b=>z({...v,end_date:b.target.value})})]})]}),e.jsxs("div",{className:"flex items-center gap-3 p-4 bg-white/5 rounded-2xl border border-white/5",children:[e.jsx("div",{className:`size-10 rounded-xl flex items-center justify-center ${v.is_active?"bg-emerald-500/10 text-emerald-500":"bg-rose-500/10 text-rose-500"}`,children:e.jsx(Oe,{className:"size-5"})}),e.jsxs("div",{className:"flex-1",children:[e.jsx("p",{className:"text-[10px] font-black uppercase text-white tracking-widest leading-none",children:"Estado"}),e.jsx("p",{className:"text-[9px] text-slate-500 uppercase mt-1 leading-none",children:v.is_active?"En Lnea":"Inactivo"})]}),e.jsx("button",{onClick:()=>z({...v,is_active:!v.is_active}),className:`px-4 py-2 rounded-xl text-[10px] font-black uppercase transition-all ${v.is_active?"bg-rose-500/10 text-rose-500 hover:bg-rose-500 hover:text-white":"bg-emerald-500/10 text-emerald-500 hover:bg-emerald-500 hover:text-white"}`,children:v.is_active?"Pausar":"Activar"})]})]}),e.jsx("button",{disabled:a,onClick:async()=>{try{l(!0);const{error:b}=await fe.from("events").update({event_name:v.event_name,start_date:new Date(v.start_date).toISOString(),end_date:new Date(v.end_date).toISOString(),is_active:v.is_active}).eq("id",v.id);if(b)throw b;ne("Evento actualizado correctamente"),z(null),o()}catch(b){ne("Error al actualizar: "+b.message,"error")}finally{l(!1)}},className:"w-full py-5 bg-[#135bec] hover:bg-[#135bec]/90 text-white text-[11px] font-black rounded-xl transition-all shadow-xl shadow-[#135bec]/20 uppercase tracking-[3px] disabled:opacity-50 disabled:cursor-not-allowed",children:a?"Sincronizando...":"Guardar Cambios"})]})]})}),N&&e.jsx("div",{className:"fixed inset-0 z-[100] flex items-center justify-center p-4 bg-black/80 backdrop-blur-xl",children:e.jsxs(ge.div,{initial:{opacity:0,scale:.9,y:20},animate:{opacity:1,scale:1,y:0},exit:{opacity:0,scale:.9,y:20},className:"w-full max-w-sm bg-slate-900 border border-white/10 rounded-2xl shadow-2xl overflow-hidden",children:[e.jsxs("div",{className:"p-7 border-b border-white/5 flex items-center justify-between",children:[e.jsxs("div",{children:[e.jsx("h3",{className:"text-lg font-black text-white uppercase tracking-tighter",children:"Recargar Evento"}),e.jsx("p",{className:"text-[10px] text-slate-500 uppercase font-bold mt-1",children:N.event_name})]}),e.jsx("button",{onClick:()=>B(null),className:"size-8 flex items-center justify-center rounded-lg bg-slate-800 text-slate-500 hover:text-white transition-all",children:e.jsx(Re,{className:"w-4 h-4"})})]}),e.jsxs("div",{className:"p-7 space-y-6",children:[e.jsxs("div",{children:[e.jsx("label",{className:"text-[10px] font-black uppercase tracking-[2px] text-slate-500 mb-2 block",children:"Cantidad de Crditos"}),e.jsxs("div",{className:"relative",children:[e.jsx($e,{className:"absolute left-4 top-1/2 -translate-y-1/2 text-emerald-500 size-4"}),e.jsx("input",{type:"number",className:"w-full bg-[#0a0a0b] border border-white/10 rounded-xl pl-11 pr-5 py-4 text-white focus:border-emerald-500 outline-none transition-all font-bold text-center text-xl",value:R,onChange:b=>M(Number(b.target.value))})]}),e.jsxs("p",{className:"text-[9px] text-slate-500 mt-3 text-center uppercase tracking-widest",children:["Disponibles: ",e.jsx("span",{className:"text-white",children:we.toLocaleString()})]})]}),e.jsx("button",{disabled:a||R<=0||R>we,onClick:Y,className:"w-full py-5 bg-emerald-500 hover:bg-emerald-400 text-[#071121] text-[11px] font-black rounded-xl transition-all shadow-xl shadow-emerald-500/20 uppercase tracking-[3px] disabled:opacity-30 disabled:grayscale",children:a?"Procesando...":"Confirmar Transferencia"})]})]})})]}),e.jsx(Ie,{children:O.type&&e.jsx(ge.div,{initial:{opacity:0,y:50,scale:.9},animate:{opacity:1,y:0,scale:1},exit:{opacity:0,scale:.9},className:"fixed bottom-8 right-8 z-[100]",children:e.jsxs("div",{className:`px-6 py-4 rounded-2xl shadow-2xl flex items-center gap-4 backdrop-blur-xl border ${O.type==="error"?"bg-rose-500/20 border-rose-500/30 text-rose-500":O.type==="info"?"bg-[#135bec]/20 border-[#135bec]/30 text-[#135bec]":"bg-[#13ec80]/20 border-[#13ec80]/30 text-[#13ec80]"}`,children:[O.type==="error"?e.jsx(Ze,{className:"size-5"}):O.type==="info"?e.jsx(et,{className:"size-5"}):e.jsx(Fe,{className:"size-5"}),e.jsx("p",{className:"text-xs font-black uppercase tracking-widest",children:O.message})]})})}),e.jsx(Ie,{children:J&&e.jsx("div",{className:"fixed inset-0 z-[100] flex items-center justify-center p-4 bg-black/80 backdrop-blur-xl",children:e.jsxs(ge.div,{initial:{opacity:0,scale:.9,y:20},animate:{opacity:1,scale:1,y:0},exit:{opacity:0,scale:.9,y:20},className:"w-full max-w-md bg-slate-900 border border-white/10 rounded-2xl shadow-2xl overflow-hidden",children:[e.jsxs("div",{className:"p-8 text-center",children:[e.jsx("div",{className:"size-20 bg-rose-500/10 rounded-full flex items-center justify-center mx-auto mb-6 border border-rose-500/20",children:e.jsx(Ze,{className:"size-10 text-rose-500"})}),e.jsx("h3",{className:"text-2xl font-black text-white uppercase tracking-tighter mb-2",children:"Eliminar Evento?"}),e.jsxs("p",{className:"text-slate-400 text-sm leading-relaxed",children:["Esta accin es permanente. Se eliminar el evento ",e.jsxs("span",{className:"text-white font-bold",children:['"',J.name,'"']})," y todos sus datos asociados."]})]}),e.jsxs("div",{className:"flex border-t border-white/5 p-4 bg-slate-950/50 gap-3",children:[e.jsx("button",{onClick:()=>g(null),className:"flex-1 py-4 bg-slate-800 hover:bg-slate-700 text-slate-300 text-[10px] font-black rounded-xl transition-all uppercase tracking-[2px]",children:"Cancelar"}),e.jsx("button",{onClick:Q,className:"flex-1 py-4 bg-rose-500 hover:bg-rose-600 text-white text-[10px] font-black rounded-xl transition-all shadow-lg shadow-rose-500/20 uppercase tracking-[2px]",children:"Confirmar Baja"})]})]})})}),e.jsx(Ie,{children:oe&&e.jsxs("div",{className:"fixed inset-0 z-[100] flex items-center justify-center p-4 md:p-8",children:[e.jsx(ge.div,{initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},onClick:()=>xe(!1),className:"absolute inset-0 bg-slate-950/80 backdrop-blur-md"}),e.jsxs(ge.div,{initial:{scale:.9,opacity:0,y:30},animate:{scale:1,opacity:1,y:0},exit:{scale:.9,opacity:0,y:30},className:"relative w-full max-w-5xl glass-card rounded-[48px] overflow-hidden bg-gradient-to-br from-slate-900/40 to-slate-950/40 border border-white/5 shadow-[0_32px_100px_rgba(0,0,0,0.8)]",children:[e.jsxs("div",{className:"p-10 pb-4 flex justify-between items-start",children:[e.jsxs("div",{className:"space-y-1",children:[e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx("div",{className:"p-2.5 bg-[#135bec]/10 border border-[#135bec]/20 rounded-xl",children:e.jsx(qe,{className:"size-5 text-[#135bec]"})}),e.jsx("h2",{className:"text-3xl font-black text-white uppercase tracking-tighter",children:"Cargar Energa AI"})]}),e.jsx("p",{className:"text-slate-500 text-[10px] font-black uppercase tracking-[3px] mt-2",children:"Selecciona un pack de crditos para continuar operando"})]}),e.jsx("button",{onClick:()=>xe(!1),className:"p-4 hover:bg-white/5 rounded-full text-slate-500 transition-colors group",children:e.jsx(Re,{className:"size-6 group-hover:rotate-90 transition-transform duration-300"})})]}),e.jsx("div",{className:"p-10 grid grid-cols-1 md:grid-cols-3 gap-8",children:[{qty:5e3,label:"Pack Inicial",price:3e4,color:"from-blue-600/10 to-transparent",border:"border-blue-500/20"},{qty:1e4,label:"Pack Pro",price:6e4,color:"from-[#135bec]/20 to-[#135bec]/5",border:"border-[#135bec]/40",featured:!0},{qty:2e4,label:"Pack Elite",price:12e4,color:"from-purple-600/10 to-transparent",border:"border-purple-500/20"}].map((b,q)=>e.jsxs(ge.button,{disabled:ue,whileHover:ue?{}:{scale:1.02,y:-8},whileTap:ue?{}:{scale:.98},onClick:()=>G(b),className:`relative group p-10 rounded-[40px] border ${b.border} bg-gradient-to-br ${b.color} backdrop-blur-3xl flex flex-col text-left transition-all overflow-hidden h-full ${ue?"opacity-50 cursor-not-allowed":""}`,children:[b.featured&&e.jsx("div",{className:"absolute top-0 right-0 px-6 py-2 bg-[#135bec] text-white text-[9px] font-black uppercase tracking-widest rounded-bl-2xl shadow-lg animate-pulse",children:"Popular"}),e.jsxs("div",{className:"mb-12",children:[e.jsx("p",{className:"text-white/40 text-[10px] font-black uppercase tracking-[2px] mb-2",children:b.label}),e.jsxs("h3",{className:"text-5xl font-black text-white flex items-baseline gap-2",children:[b.qty.toLocaleString(),e.jsx("span",{className:"text-sm text-white/20 font-medium uppercase tracking-[3px]",children:"Cds"})]})]}),e.jsxs("div",{className:"mt-auto pt-10 border-t border-white/5 flex items-end justify-between",children:[e.jsxs("div",{className:"space-y-1",children:[e.jsx("p",{className:"text-white/20 text-[9px] font-black uppercase tracking-widest",children:"Inversin"}),e.jsxs("h4",{className:"text-3xl font-black text-white tracking-tighter",children:["$",b.price.toLocaleString()," ",e.jsx("span",{className:"text-xs text-white/30 font-medium uppercase tracking-widest ml-1",children:"Ars"})]})]}),e.jsx("div",{className:"size-14 bg-white/5 border border-white/10 rounded-2xl flex items-center justify-center group-hover:bg-white text-white group-hover:text-black transition-all shadow-xl",children:ue?e.jsx("div",{className:"size-5 border-2 border-current border-t-transparent rounded-full animate-spin"}):e.jsx(bt,{className:"size-6"})})]}),e.jsx("div",{className:"absolute -bottom-10 -right-10 size-40 bg-white/5 rounded-full blur-[80px] group-hover:bg-white/10 transition-all opacity-0 group-hover:opacity-100"}),e.jsx("div",{className:"absolute top-0 left-0 w-full h-1 bg-gradient-to-r from-transparent via-white/10 to-transparent opacity-0 group-hover:opacity-100 transition-opacity"})]},q))}),e.jsxs("div",{className:"p-10 pt-0 flex flex-col items-center",children:[e.jsxs("div",{className:"flex items-center gap-8 opacity-40 hover:opacity-100 transition-all duration-500 grayscale hover:grayscale-0",children:[e.jsx("img",{src:"https://logodownload.org/wp-content/uploads/2019/06/mercado-pago-logo.png",className:"h-5",alt:"Mercado Pago"}),e.jsx("div",{className:"w-px h-6 bg-white/10"}),e.jsxs("div",{className:"flex gap-4",children:[e.jsx("img",{src:"https://upload.wikimedia.org/wikipedia/commons/thumb/5/5e/Visa_Inc._logo.svg/2560px-Visa_Inc._logo.svg.png",className:"h-3.5",alt:"Visa"}),e.jsx("img",{src:"https://upload.wikimedia.org/wikipedia/commons/thumb/2/2a/Mastercard-logo.svg/1280px-Mastercard-logo.svg.png",className:"h-5",alt:"Mastercard"})]})]}),e.jsxs("p",{className:"text-[9px] text-slate-600 font-black uppercase tracking-[3px] mt-8 flex items-center gap-3",children:[e.jsx(Pe,{className:"size-4 text-emerald-500/50"}),"Transacciones encriptadas y aseguradas por Mercado Pago Gateway"]})]})]})]})})]})};export{Bt as PartnerDashboard};
