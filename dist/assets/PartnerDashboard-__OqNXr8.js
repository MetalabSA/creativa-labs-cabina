import{c as m,r as o,s as n,j as e,h as X,b as pe,i as A,P as Q,k as R,M as he,T as Y}from"./DashboardApp-jIysupaf.js";import{A as P,S as be,M as me,P as ue,I as ee}from"./constants-CV7VAzO-.js";import{m as x}from"./proxy-CQYTkjSc.js";import{Z as _}from"./zap-CXdB23-A.js";import{P as ge,a as B,E as fe,U as je}from"./upload-CR0pPKjD.js";import{S as ve,H as Ne,X as te}from"./x-GT5Cv0RI.js";/**
 * @license lucide-react v0.554.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const we=[["path",{d:"m7 7 10 10",key:"1fmybs"}],["path",{d:"M17 7v10H7",key:"6fjiku"}]],ye=m("arrow-down-right",we);/**
 * @license lucide-react v0.554.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ke=[["path",{d:"M21 16V8a2 2 0 0 0-1-1.73l-7-4a2 2 0 0 0-2 0l-7 4A2 2 0 0 0 3 8v8a2 2 0 0 0 1 1.73l7 4a2 2 0 0 0 2 0l7-4A2 2 0 0 0 21 16z",key:"yt0hxn"}],["circle",{cx:"12",cy:"12",r:"4",key:"4exip2"}]],_e=m("bolt",ke);/**
 * @license lucide-react v0.554.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ce=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"m9 12 2 2 4-4",key:"dzmm74"}]],C=m("circle-check",Ce);/**
 * @license lucide-react v0.554.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ze=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M12 2a14.5 14.5 0 0 0 0 20 14.5 14.5 0 0 0 0-20",key:"13o1zl"}],["path",{d:"M2 12h20",key:"9i4pu4"}]],Ee=m("globe",ze);/**
 * @license lucide-react v0.554.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Se=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M12 16v-4",key:"1dtifu"}],["path",{d:"M12 8h.01",key:"e9boi3"}]],se=m("info",Se);/**
 * @license lucide-react v0.554.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Me=[["path",{d:"M12.83 2.18a2 2 0 0 0-1.66 0L2.6 6.08a1 1 0 0 0 0 1.83l8.58 3.91a2 2 0 0 0 1.66 0l8.58-3.9a1 1 0 0 0 0-1.83z",key:"zw3jo"}],["path",{d:"M2 12a1 1 0 0 0 .58.91l8.6 3.91a2 2 0 0 0 1.65 0l8.58-3.9A1 1 0 0 0 22 12",key:"1wduqc"}],["path",{d:"M2 17a1 1 0 0 0 .58.91l8.6 3.91a2 2 0 0 0 1.65 0l8.58-3.9A1 1 0 0 0 22 17",key:"kqbvx6"}]],Pe=m("layers",Me);/**
 * @license lucide-react v0.554.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ie=[["circle",{cx:"8",cy:"21",r:"1",key:"jimo8o"}],["circle",{cx:"19",cy:"21",r:"1",key:"13723u"}],["path",{d:"M2.05 2.05h2l2.66 12.42a2 2 0 0 0 2 1.58h9.78a2 2 0 0 0 1.95-1.57l1.65-7.43H5.12",key:"9zh506"}]],Le=m("shopping-cart",Ie);/**
 * @license lucide-react v0.554.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const $e=[["path",{d:"M10 11v6",key:"nco0om"}],["path",{d:"M14 11v6",key:"outv1u"}],["path",{d:"M19 6v14a2 2 0 0 1-2 2H7a2 2 0 0 1-2-2V6",key:"miytrc"}],["path",{d:"M3 6h18",key:"d0wm0j"}],["path",{d:"M8 6V4a2 2 0 0 1 2-2h4a2 2 0 0 1 2 2v2",key:"e791ji"}]],De=m("trash-2",$e);/**
 * @license lucide-react v0.554.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Te=[["path",{d:"M16 7h6v6",key:"box55l"}],["path",{d:"m22 7-8.5 8.5-5-5L2 17",key:"1t1m79"}]],qe=m("trending-up",Te);/**
 * @license lucide-react v0.554.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ae=[["path",{d:"M19 7V4a1 1 0 0 0-1-1H5a2 2 0 0 0 0 4h15a1 1 0 0 1 1 1v4h-3a2 2 0 0 0 0 4h3a1 1 0 0 0 1-1v-2a1 1 0 0 0-1-1",key:"18etb6"}],["path",{d:"M3 5v14a2 2 0 0 0 2 2h15a1 1 0 0 0 1-1v-4",key:"xoc0q4"}]],ae=m("wallet",Ae),Fe=({user:Re,profile:p,onBack:Be,initialView:I="overview",onProxyClient:U})=>{var J,K,Z;const[w,y]=o.useState(I),[k,h]=o.useState(!1),[s,L]=o.useState(null),[j,V]=o.useState([]),[O,G]=o.useState([]),[z,re]=o.useState(""),[le,$]=o.useState(!1),[c,g]=o.useState(null),[E,D]=o.useState(null),[v,H]=o.useState({message:"",type:null}),u=(t,l="success")=>{H({message:t,type:l}),setTimeout(()=>H({message:"",type:null}),4e3)};o.useEffect(()=>{y(I)},[I]);const[r,N]=o.useState({primary_color:"#135bec",logo_url:"",radius:"12px",style_presets:["Superhéroes","John Wick","Urbano"]}),[i,f]=o.useState({name:"",slug:"",client_email:"",credits:500,start_date:new Date().toISOString().split("T")[0],end_date:new Date(Date.now()+10080*60*1e3).toISOString().split("T")[0]});o.useEffect(()=>{S()},[p.partner_id]);const S=async()=>{try{h(!0);let t=p.partner_id,l=!1;if(!t){const{data:a}=await n.from("partners").select("id").or(`user_id.eq.${p.id},contact_email.eq.${p.email}`).single();a?t=a.id:l=!0}if(l){L({id:p.id,name:p.full_name||p.email.split("@")[0],credits_total:p.credits||0,credits_used:p.total_generations||0,config:{primary_color:"#135bec",logo_url:null}});const[a,d]=await Promise.all([n.from("events").select("*").eq("partner_id",p.id).order("created_at",{ascending:!1}),n.from("wallet_transactions").select("*").eq("partner_id",p.id).order("created_at",{ascending:!1})]);V(a.data||[]),G(d.data||[])}else{const[a,d,b]=await Promise.all([n.from("partners").select("*").eq("id",t).single(),n.from("events").select("*").eq("partner_id",t).order("created_at",{ascending:!1}),n.from("wallet_transactions").select("*").eq("partner_id",t).order("created_at",{ascending:!1})]);if(a.error)throw a.error;L(a.data),G(b.data||[]),a.data.config&&N({primary_color:a.data.config.primary_color||"#135bec",logo_url:a.data.config.logo_url||"",radius:a.data.config.radius||"12px",style_presets:a.data.config.style_presets||["Superhéroes","John Wick","Urbano"]}),V(d.data||[])}}catch(t){console.error("Error fetching partner data:",t)}finally{h(!1)}},ie=async()=>{if(s)try{const{error:t}=await n.from("partners").update({config:r}).eq("id",s.id);if(t)throw t;L({...s,config:r}),u("Configuración de marca guardada")}catch(t){console.error("Error updating branding:",t)}},ce=async t=>{if(!t.target.files||t.target.files.length===0)return;const l=t.target.files[0],a=l.name.split(".").pop(),d=`${s==null?void 0:s.id}-${Date.now()}.${a}`;try{h(!0);const{error:b}=await n.storage.from("logos").upload(d,l);if(b){const{error:q}=await n.storage.from("public").upload(`logos/${d}`,l);if(q)throw b;const{data:xe}=n.storage.from("public").getPublicUrl(`logos/${d}`);N({...r,logo_url:xe.publicUrl})}else{const{data:q}=n.storage.from("logos").getPublicUrl(d);N({...r,logo_url:q.publicUrl})}}catch(b){console.error("Error uploading logo:",b),u("Error al subir logo: "+b.message,"error")}finally{h(!1)}},oe=async t=>{if(t.preventDefault(),!s)return;const l=Number(i.credits);if(l>s.credits_total-s.credits_used){u("Créditos insuficientes en tu balance mayorista.","error");return}try{h(!0);const{data:a,error:d}=await n.from("events").insert([{partner_id:s.id,event_name:i.name,client_email:i.client_email,event_slug:i.slug||i.name.toLowerCase().replace(/\s+/g,"-"),credits_allocated:l,credits_used:0,start_date:new Date(i.start_date).toISOString(),end_date:new Date(i.end_date).toISOString(),is_active:!0,selected_styles:r.style_presets}]).select();if(d)throw d;const{error:b}=await n.from("partners").update({credits_used:s.credits_used+l}).eq("id",s.id);if(b)throw b;$(!1),f({name:"",slug:"",client_email:"",credits:500,start_date:"",end_date:""}),u("Evento creado con éxito"),S()}catch(a){console.error("Error creating event:",a),u("Error al crear el evento. "+(a.message||"El slug podría estar duplicado."),"error")}finally{h(!1)}},ne=async()=>{if(E)try{h(!0);const{error:t}=await n.from("events").delete().eq("id",E.id);if(t)throw t;u("Evento eliminado permanentemente"),D(null),S()}catch(t){console.error("Error deleting event:",t),u("Error al eliminar evento: "+t.message,"error")}finally{h(!1)}},de=t=>{const l=r.style_presets.includes(t)?r.style_presets.filter(a=>a!==t):[...r.style_presets,t];N({...r,style_presets:l})},W=o.useMemo(()=>j.filter(t=>(t.event_name||"").toLowerCase().includes(z.toLowerCase())||(t.event_slug||"").toLowerCase().includes(z.toLowerCase())),[j,z]);if(k&&!s)return e.jsxs("div",{className:"flex flex-col items-center justify-center min-h-[400px] text-white space-y-4",children:[e.jsx("div",{className:"size-12 border-4 border-[#135bec] border-t-transparent rounded-full animate-spin"}),e.jsx("p",{className:"font-bold tracking-widest text-[10px] uppercase opacity-50",children:"Sincronizando con la red..."})]});const T=((s==null?void 0:s.credits_total)||0)-((s==null?void 0:s.credits_used)||0),F=s!=null&&s.credits_total?Math.round(s.credits_used/s.credits_total*100):0,M=(t,l,a)=>{const d=w===t;return e.jsxs("button",{onClick:()=>y(t),className:`flex items-center gap-2 px-4 py-2 rounded-lg transition-all text-sm font-bold border ${d?"bg-[#135bec]/10 text-[#135bec] border-[#135bec]/30 shadow-[0_0_15px_rgba(19,91,236,0.1)]":"text-slate-400 border-transparent hover:text-white hover:bg-white/5"}`,children:[e.jsx(a,{className:"size-4"}),l]},t)};return e.jsxs("div",{className:"space-y-8 animate-fade-in text-slate-100",children:[e.jsxs("header",{className:"flex flex-wrap items-center justify-between gap-6 pb-6 border-b border-white/5",children:[e.jsxs(x.div,{initial:{opacity:0,x:-20},animate:{opacity:1,x:0},children:[e.jsxs("h1",{className:"text-3xl font-black tracking-tight text-white mb-1 flex items-center gap-3",children:[e.jsx("div",{className:"size-10 rounded-xl bg-gradient-to-br from-[#135bec] to-[#0a1f4d] flex items-center justify-center shadow-lg shadow-[#135bec]/20",children:e.jsx(X,{className:"text-white size-6"})}),"Panel de Partner ",e.jsxs("span",{className:"text-[#135bec] opacity-50 text-xl font-medium",children:["/ ",s==null?void 0:s.name]})]}),e.jsx("p",{className:"text-slate-400 text-sm",children:"Sistema de gestión de eventos y marca blanca corporativa."})]}),e.jsxs("div",{className:"flex items-center gap-2 bg-slate-900/50 p-1 rounded-xl border border-white/5",children:[M("overview","Vista General",X),M("events","Mis Eventos",A),M("wallet","Billetera",ae),M("branding","Marca Blanca",Q)]})]}),e.jsxs(P,{mode:"wait",children:[w==="overview"&&e.jsx(x.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},exit:{opacity:0,y:-20},className:"space-y-8",children:e.jsxs("section",{className:"grid grid-cols-1 md:grid-cols-3 gap-6",children:[e.jsxs("div",{className:"glass-card rounded-2xl p-6 flex flex-col justify-between group overflow-hidden relative border border-white/5 bg-gradient-to-br from-slate-900/80 to-slate-950/80 shadow-2xl",children:[e.jsx("div",{className:"absolute -right-4 -top-4 opacity-[0.03] group-hover:opacity-[0.1] transition-opacity duration-500",children:e.jsx(ae,{className:"size-40"})}),e.jsxs("div",{className:"flex justify-between items-start mb-6 relative z-10",children:[e.jsxs("div",{children:[e.jsxs("div",{className:"flex items-center gap-2 mb-1",children:[e.jsx("div",{className:"size-2 rounded-full bg-[#135bec] animate-pulse"}),e.jsx("p",{className:"text-slate-400 text-[10px] font-black uppercase tracking-[2px]",children:"Wallet Mayorista"})]}),e.jsx("h3",{className:"text-4xl font-black text-white",children:T.toLocaleString()}),e.jsx("p",{className:"text-[10px] text-slate-500 font-bold uppercase tracking-widest mt-1",children:"Créditos Disponibles"})]}),e.jsx("div",{className:"p-3 bg-[#135bec]/10 border border-[#135bec]/20 rounded-xl text-[#135bec] shadow-inner",children:e.jsx(pe,{className:"w-6 h-6"})})]}),e.jsxs("div",{className:"space-y-3 relative z-10",children:[e.jsxs("div",{className:"flex justify-between text-[11px] font-bold",children:[e.jsx("span",{className:"text-slate-500 uppercase tracking-[1px]",children:"Consumo Global"}),e.jsxs("span",{className:"text-[#135bec]",children:[F,"%"]})]}),e.jsx("div",{className:"w-full bg-slate-800/50 h-2.5 rounded-full overflow-hidden p-0.5 border border-white/5",children:e.jsx(x.div,{initial:{width:0},animate:{width:`${F}%`},transition:{duration:1,ease:"easeOut"},className:"bg-gradient-to-r from-[#135bec] to-[#3b82f6] h-full rounded-full shadow-[0_0_15px_rgba(19,91,236,0.3)]"})}),e.jsxs("div",{className:"flex justify-between items-center text-[10px]",children:[e.jsxs("span",{className:"text-slate-500",children:["Total: ",(J=s==null?void 0:s.credits_total)==null?void 0:J.toLocaleString()]}),e.jsxs("span",{className:"text-slate-400 font-bold",children:["Usados: ",(K=s==null?void 0:s.credits_used)==null?void 0:K.toLocaleString()]})]}),e.jsx("button",{onClick:()=>y("wallet"),className:"w-full py-2.5 bg-white/5 hover:bg-white/10 text-white text-[9px] font-black rounded-lg border border-white/5 transition-all uppercase tracking-[2px] mt-2 block text-center",children:"Ver Detalles de Billetera"})]})]}),e.jsxs("div",{className:"glass-card rounded-2xl p-6 flex flex-col justify-between group overflow-hidden relative border border-white/5 bg-gradient-to-br from-slate-900/80 to-slate-950/80",children:[e.jsx("div",{className:"absolute -right-4 -top-4 opacity-[0.03] group-hover:opacity-[0.1] transition-opacity duration-500",children:e.jsx(Pe,{className:"size-40"})}),e.jsxs("div",{className:"flex justify-between items-start mb-6 relative z-10",children:[e.jsxs("div",{children:[e.jsx("p",{className:"text-slate-400 text-[10px] font-black uppercase tracking-[2px] mb-1",children:"Instancias Activas"}),e.jsx("h3",{className:"text-4xl font-black text-white",children:j.filter(t=>t.is_active).length}),e.jsx("p",{className:"text-[10px] text-slate-500 font-bold uppercase tracking-widest mt-1",children:"Eventos en curso"})]}),e.jsx("div",{className:"p-3 bg-emerald-500/10 border border-emerald-500/20 rounded-xl text-emerald-500",children:e.jsx(_,{className:"w-6 h-6"})})]}),e.jsxs("button",{onClick:()=>y("events"),className:"w-full py-3 bg-emerald-500/10 hover:bg-emerald-500/20 text-emerald-500 text-[10px] font-black rounded-xl border border-emerald-500/20 transition-all uppercase tracking-[2px] flex items-center justify-center gap-2 group/btn",children:[e.jsx(A,{className:"size-4"}),"Gestionar Instancias"]})]}),e.jsxs("div",{className:"glass-card rounded-2xl p-6 flex flex-col justify-between group overflow-hidden relative border border-white/5 bg-gradient-to-br from-slate-900/80 to-slate-950/80",children:[e.jsx("div",{className:"absolute -right-4 -top-4 opacity-[0.03] group-hover:opacity-[0.1] transition-opacity duration-500",children:e.jsx(Q,{className:"size-40"})}),e.jsxs("div",{className:"flex justify-between items-start mb-6 relative z-10",children:[e.jsxs("div",{children:[e.jsx("p",{className:"text-slate-400 text-[10px] font-black uppercase tracking-[2px] mb-1",children:"Identidad Visual"}),e.jsxs("div",{className:"mt-2 flex items-center gap-3",children:[r.logo_url?e.jsx("img",{src:r.logo_url,className:"h-8 object-contain",alt:"Logo"}):e.jsx("div",{className:"size-8 rounded-lg bg-slate-800 flex items-center justify-center border border-white/5",children:e.jsx(R,{className:"size-4 text-slate-600"})}),e.jsx("div",{className:"size-6 rounded-full border border-white/20 shadow-lg",style:{backgroundColor:r.primary_color}})]})]}),e.jsx("div",{className:"p-3 bg-indigo-500/10 border border-indigo-500/20 rounded-xl text-indigo-500",children:e.jsx(R,{className:"w-6 h-6"})})]}),e.jsx("button",{onClick:()=>y("branding"),className:"w-full py-3 bg-slate-800 hover:bg-slate-700 text-slate-300 text-[10px] font-black rounded-xl border border-white/10 transition-all uppercase tracking-[2px]",children:"Editar Identidad Visual"})]})]})},"overview"),w==="events"&&e.jsxs(x.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},exit:{opacity:0,y:-20},className:"space-y-6",children:[e.jsxs("div",{className:"flex items-center justify-between px-2",children:[e.jsxs("div",{children:[e.jsx("h2",{className:"text-2xl font-black text-white uppercase tracking-tighter",children:"Mis Eventos"}),e.jsx("p",{className:"text-slate-500 text-xs mt-1",children:"Gestiona las instancias activas y el consumo de créditos."})]}),e.jsxs("div",{className:"flex items-center gap-4",children:[e.jsxs("div",{className:"relative group",children:[e.jsx(be,{className:"w-4 h-4 absolute left-3 top-1/2 -translate-y-1/2 text-slate-500 group-focus-within:text-[#135bec] transition-colors"}),e.jsx("input",{type:"text",placeholder:"Buscar por nombre o slug...",value:z,onChange:t=>re(t.target.value),className:"bg-slate-900 border border-slate-800 rounded-xl pl-9 pr-4 py-2.5 text-xs text-white focus:ring-1 focus:ring-[#135bec] focus:border-[#135bec] w-64 transition-all outline-none"})]}),e.jsxs("button",{onClick:()=>$(!0),className:"px-6 py-2.5 bg-[#135bec] hover:bg-[#135bec]/90 text-white text-[10px] font-black rounded-xl shadow-lg shadow-[#135bec]/20 transition-all uppercase tracking-[2px] flex items-center gap-2",children:[e.jsx(ge,{className:"size-4"}),"Nuevo Evento"]})]})]}),e.jsx("div",{className:"glass-card rounded-2xl overflow-hidden border border-white/5 bg-slate-900/50 backdrop-blur-xl",children:e.jsxs("table",{className:"w-full text-left border-collapse",children:[e.jsx("thead",{className:"bg-white/[0.03] border-b border-white/5",children:e.jsxs("tr",{children:[e.jsx("th",{className:"px-6 py-5 text-[10px] font-black text-slate-500 uppercase tracking-widest",children:"Identificación"}),e.jsx("th",{className:"px-6 py-5 text-[10px] font-black text-slate-500 uppercase tracking-widest",children:"Consumo de Créditos"}),e.jsx("th",{className:"px-6 py-5 text-[10px] font-black text-slate-500 uppercase tracking-widest",children:"Estado"}),e.jsx("th",{className:"px-6 py-5 text-[10px] font-black text-slate-500 uppercase tracking-widest text-right",children:"Panel de Control"})]})}),e.jsxs("tbody",{className:"divide-y divide-white/5",children:[W.map(t=>{const l=t.credits_allocated?Math.min(100,Math.round(t.credits_used/t.credits_allocated*100)):0;return e.jsxs("tr",{className:"hover:bg-white/[0.02] transition-colors group",children:[e.jsx("td",{className:"px-6 py-5",children:e.jsxs("div",{className:"flex items-center gap-4",children:[e.jsx("div",{className:"size-12 rounded-xl bg-gradient-to-br from-[#135bec]/20 to-[#0a1f4d]/20 border border-[#135bec]/20 flex items-center justify-center text-[#135bec] font-black text-sm group-hover:scale-110 transition-transform",children:((t==null?void 0:t.event_name)||"E").substring(0,2).toUpperCase()}),e.jsxs("div",{children:[e.jsx("p",{className:"text-sm font-bold text-white group-hover:text-[#135bec] transition-colors",children:t.event_name}),e.jsxs("div",{className:"flex items-center gap-2 mt-0.5",children:[e.jsx(Ee,{className:"size-3 text-slate-600"}),e.jsxs("p",{className:"text-[10px] text-slate-500 font-mono",children:["/",t.event_slug]})]})]})]})}),e.jsx("td",{className:"px-6 py-5",children:e.jsxs("div",{className:"w-48",children:[e.jsxs("div",{className:"flex justify-between text-[10px] mb-1.5 font-bold",children:[e.jsxs("span",{className:"text-slate-400",children:[t.credits_used.toLocaleString()," / ",t.credits_allocated.toLocaleString()]}),e.jsxs("span",{className:`${l>90?"text-rose-500":"text-emerald-500"}`,children:[l,"%"]})]}),e.jsx("div",{className:"w-full h-1.5 bg-slate-800 rounded-full overflow-hidden p-[1px]",children:e.jsx(x.div,{initial:{width:0},animate:{width:`${l}%`},transition:{duration:1,ease:"easeOut"},className:`h-full ${l>90?"bg-rose-500":"bg-[#135bec]"} rounded-full shadow-[0_0_8px_rgba(19,91,236,0.5)]`})})]})}),e.jsx("td",{className:"px-6 py-5",children:e.jsxs("span",{className:`inline-flex items-center gap-1.5 px-3 py-1.5 rounded-full text-[10px] font-black uppercase tracking-wider ${t.is_active?"bg-emerald-500/10 text-emerald-500 border border-emerald-500/20":"bg-rose-500/10 text-rose-500 border border-rose-500/20"}`,children:[e.jsx("span",{className:`size-2 rounded-full ${t.is_active?"bg-emerald-500 animate-pulse":"bg-rose-500"}`}),t.is_active?"En Línea":"Pausado"]})}),e.jsx("td",{className:"px-6 py-5 text-right",children:e.jsxs("div",{className:"flex items-center justify-end gap-3",children:[e.jsx("button",{onClick:()=>g(t),className:"p-2.5 bg-slate-800/50 hover:bg-slate-800 border border-white/5 rounded-xl text-slate-400 hover:text-white transition-all group/action",title:"Editar Evento",children:e.jsx(B,{className:"w-4 h-4 group-hover/action:rotate-12 transition-transform"})}),e.jsx("button",{onClick:()=>window.open(`https://photobooth.creativa-labs.com/?event=${t.event_slug}`,"_blank"),className:"p-2.5 bg-slate-800/50 hover:bg-slate-800 border border-white/5 rounded-xl text-slate-400 hover:text-white transition-all group/action",title:"Ver Kiosco (Público)",children:e.jsx(fe,{className:"w-4 h-4 group-hover/action:scale-110 transition-transform"})}),U&&t.client_email&&e.jsx("button",{onClick:()=>U(t.client_email),className:"p-2.5 bg-[#135bec]/10 hover:bg-[#135bec] border border-[#135bec]/20 rounded-xl text-[#135bec] hover:text-white transition-all group/action",title:"Gestionar Branding como Cliente",children:e.jsx(me,{className:"w-4 h-4 group-hover/action:scale-110 transition-transform"})}),e.jsx("button",{onClick:()=>D({id:t.id,name:t.event_name}),className:"p-2.5 bg-rose-500/10 hover:bg-rose-500 border border-rose-500/20 rounded-xl text-rose-500 hover:text-white transition-all group/action",title:"Eliminar Instancia",children:e.jsx(De,{className:"w-4 h-4 group-hover/action:scale-110 transition-transform"})})]})})]},t.id)}),W.length===0&&e.jsx("tr",{children:e.jsx("td",{colSpan:4,className:"p-20 text-center",children:e.jsxs("div",{className:"flex flex-col items-center",children:[e.jsx("div",{className:"size-16 rounded-2xl bg-slate-800/50 flex items-center justify-center mb-4",children:e.jsx(A,{className:"size-8 text-slate-600 opacity-20"})}),e.jsx("p",{className:"text-slate-400 text-sm font-bold uppercase tracking-widest",children:"No hay eventos para mostrar"}),e.jsx("p",{className:"text-slate-600 text-[10px] mt-1",children:"Crea tu primera instancia para comenzar."})]})})})]})]})})]},"events"),w==="wallet"&&e.jsxs(x.div,{initial:{opacity:0,scale:.95},animate:{opacity:1,scale:1},exit:{opacity:0,scale:1.05},className:"space-y-8",children:[e.jsxs("section",{className:"grid grid-cols-1 lg:grid-cols-3 gap-8",children:[e.jsxs("div",{className:"lg:col-span-2 glass-card rounded-3xl p-10 bg-gradient-to-br from-[#135bec] to-[#0a1f4d] border-none shadow-2xl shadow-[#135bec]/20 relative overflow-hidden",children:[e.jsx("div",{className:"absolute top-0 right-0 p-10 opacity-10",children:e.jsx(ve,{className:"size-64"})}),e.jsxs("div",{className:"relative z-10 flex flex-col h-full justify-between",children:[e.jsxs("div",{children:[e.jsx("p",{className:"text-white/60 text-[11px] font-black uppercase tracking-[3px] mb-2",children:"Créditos Totales Disponibles"}),e.jsxs("h2",{className:"text-7xl font-black text-white tracking-tighter",children:[T.toLocaleString(),e.jsx("span",{className:"text-2xl text-white/40 ml-4 font-medium uppercase tracking-widest",children:"unidades"})]})]}),e.jsxs("div",{className:"mt-12 flex flex-wrap gap-8 items-end",children:[e.jsxs("div",{className:"space-y-1",children:[e.jsx("p",{className:"text-white/40 text-[10px] font-bold uppercase",children:"Consumo Total"}),e.jsxs("div",{className:"flex items-center gap-2 text-white",children:[e.jsx(qe,{className:"size-5 text-emerald-400"}),e.jsx("span",{className:"text-2xl font-black",children:((Z=s==null?void 0:s.credits_used)==null?void 0:Z.toLocaleString())||0})]})]}),e.jsxs("div",{className:"space-y-1",children:[e.jsx("p",{className:"text-white/40 text-[10px] font-bold uppercase",children:"Eventos Activos"}),e.jsxs("div",{className:"flex items-center gap-2 text-white/80",children:[e.jsx(_,{className:"size-5 text-yellow-400"}),e.jsx("span",{className:"text-2xl font-black",children:j.filter(t=>t.is_active).length})]})]}),e.jsx("button",{className:"ml-auto px-8 py-4 bg-white text-[#135bec] font-black rounded-2xl hover:scale-105 transition-all text-xs uppercase tracking-[2px] shadow-xl",children:"Recargar Créditos"})]})]})]}),e.jsxs("div",{className:"glass-card rounded-3xl p-8 border border-white/5 bg-slate-900/50 backdrop-blur-xl flex flex-col justify-between",children:[e.jsxs("div",{children:[e.jsxs("h3",{className:"text-lg font-black text-white uppercase tracking-tighter mb-6 flex items-center gap-2",children:[e.jsx(Ne,{className:"size-5 text-[#135bec]"}),"Últimas Recargas"]}),e.jsx("div",{className:"space-y-6 max-h-[400px] overflow-y-auto custom-scrollbar pr-2",children:O.length>0?O.map((t,l)=>e.jsxs("div",{className:"flex justify-between items-center bg-white/[0.02] p-4 rounded-2xl border border-white/5 group hover:border-[#135bec]/30 transition-all",children:[e.jsxs("div",{children:[e.jsxs("p",{className:"text-xs font-bold text-white",children:["+",t.amount.toLocaleString()," Créditos"]}),e.jsx("p",{className:"text-[10px] text-slate-500 mt-1",children:new Date(t.created_at).toLocaleDateString()})]}),e.jsx("span",{className:`text-[9px] font-black uppercase px-2 py-1 rounded-lg ${t.type==="top-up"?"text-emerald-500 bg-emerald-500/10":"text-blue-500 bg-blue-500/10"}`,children:t.type==="top-up"?"Carga":"Ajuste"})]},t.id)):e.jsx("div",{className:"text-center py-10 opacity-40",children:e.jsx("p",{className:"text-[10px] font-bold uppercase tracking-widest",children:"Sin movimientos"})})})]}),e.jsxs("p",{className:"text-[10px] text-slate-600 text-center mt-6",children:[e.jsx(se,{className:"size-3 inline mr-1"}),"Los créditos no poseen fecha de vencimiento."]})]})]}),e.jsxs("section",{className:"glass-card rounded-2xl p-8 border border-white/5 bg-slate-900/50 backdrop-blur-xl",children:[e.jsx("h3",{className:"text-lg font-black text-white uppercase tracking-tighter mb-8 bg-white/5 -mx-8 -mt-8 p-8 border-b border-white/5",children:"Consumo por Evento"}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-6",children:[j.map(t=>e.jsxs("div",{className:"p-6 rounded-2xl bg-white/[0.03] border border-white/5 hover:border-[#135bec]/30 transition-all group relative overflow-hidden",children:[e.jsx("div",{className:"absolute -right-4 -top-4 size-20 bg-[#135bec]/5 rounded-full blur-2xl group-hover:bg-[#135bec]/10 transition-all"}),e.jsxs("div",{className:"relative z-10",children:[e.jsx("p",{className:"text-[10px] font-black text-slate-500 uppercase tracking-widest mb-1 truncate pr-4",children:t.event_name}),e.jsxs("div",{className:"flex items-end justify-between",children:[e.jsx("h4",{className:"text-2xl font-black text-white",children:t.credits_used||0}),e.jsx("p",{className:"text-[10px] text-slate-600 font-bold",children:"utilizados"})]}),e.jsx("div",{className:"mt-4 w-full bg-slate-800 h-1 rounded-full overflow-hidden",children:e.jsx("div",{className:"bg-[#135bec] h-full",style:{width:`${Math.min(100,(t.credits_used||0)/(t.credits_allocated||1)*100)}%`}})}),e.jsxs("div",{className:"flex justify-between mt-2 text-[8px] font-bold uppercase tracking-widest text-slate-700",children:[e.jsxs("span",{children:[Math.round((t.credits_used||0)/(t.credits_allocated||1)*100),"%"]}),e.jsxs("span",{children:["de ",t.credits_allocated]})]})]})]},t.id)),j.length===0&&e.jsx("div",{className:"col-span-full py-10 text-center opacity-30",children:e.jsx("p",{className:"text-xs font-bold uppercase tracking-[2px]",children:"No hay datos de consumo disponibles"})})]})]})]},"wallet"),w==="branding"&&e.jsxs(x.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},exit:{opacity:0,y:-20},className:"grid grid-cols-1 lg:grid-cols-2 gap-8",children:[e.jsx("div",{className:"space-y-6",children:e.jsxs("section",{className:"glass-card rounded-2xl p-8 border border-white/5 bg-slate-900/50 backdrop-blur-xl shadow-2xl",children:[e.jsxs("div",{className:"flex items-center gap-3 mb-8",children:[e.jsx("div",{className:"p-3 bg-indigo-500/10 border border-indigo-500/20 rounded-xl text-indigo-500",children:e.jsx(R,{className:"w-6 h-6"})}),e.jsxs("div",{children:[e.jsx("h2",{className:"text-xl font-black text-white uppercase tracking-tighter",children:"Identidad Visual"}),e.jsx("p",{className:"text-slate-500 text-xs",children:"Personaliza cómo tus clientes ven el panel de control."})]})]}),e.jsxs("div",{className:"space-y-8",children:[e.jsxs("div",{children:[e.jsx("label",{className:"text-[10px] font-black text-slate-500 uppercase tracking-[2px] block mb-4",children:"Logo Corporativo"}),e.jsxs("div",{className:"w-full border-2 border-dashed border-slate-800 rounded-2xl p-10 flex flex-col items-center justify-center bg-slate-950/50 hover:bg-slate-950 transition-all cursor-pointer group hover:border-[#135bec]/50 shadow-inner",onClick:()=>{var t;return(t=document.getElementById("brandingLogoInput"))==null?void 0:t.click()},children:[e.jsx("input",{type:"file",id:"brandingLogoInput",className:"hidden",accept:"image/*",onChange:ce}),r.logo_url?e.jsxs("div",{className:"relative group/logo",children:[e.jsx("img",{src:r.logo_url,className:"h-16 object-contain mb-2 group-hover:opacity-50 transition-opacity",alt:"Logo"}),e.jsx("div",{className:"absolute inset-0 flex items-center justify-center opacity-0 group-hover/logo:opacity-100 transition-opacity",children:e.jsx(B,{className:"size-6 text-white"})})]}):e.jsxs("div",{className:"flex flex-col items-center",children:[e.jsx(je,{className:"w-10 h-10 text-slate-700 group-hover:text-[#135bec] mb-3 transition-colors"}),e.jsx("p",{className:"text-[11px] text-slate-500 font-bold uppercase tracking-widest text-center",children:"Subir Identidad (PNG/SVG)"})]})]})]}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[e.jsxs("div",{children:[e.jsx("label",{className:"text-[10px] font-black text-slate-500 uppercase tracking-[2px] block mb-4",children:"Color de Acento"}),e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx("div",{className:"size-12 rounded-xl border-2 border-white/10 shadow-2xl cursor-pointer hover:scale-105 transition-all",style:{backgroundColor:r.primary_color},onClick:()=>{var t;return(t=document.getElementById("brandingColorPicker"))==null?void 0:t.click()}}),e.jsx("input",{id:"brandingColorPicker",type:"color",className:"sr-only",value:r.primary_color,onChange:t=>N({...r,primary_color:t.target.value})}),e.jsxs("div",{className:"flex-1 bg-slate-950 border border-slate-800 rounded-xl py-3 px-4 text-xs text-white font-mono flex items-center justify-between",children:[e.jsx("span",{children:r.primary_color.toUpperCase()}),e.jsx(B,{className:"size-3 text-slate-600"})]})]})]}),e.jsxs("div",{children:[e.jsx("label",{className:"text-[10px] font-black text-slate-500 uppercase tracking-[2px] block mb-4",children:"Radio de Bordes"}),e.jsxs("div",{className:"relative",children:[e.jsxs("select",{className:"w-full bg-slate-950 border border-slate-800 rounded-xl py-3 px-4 text-xs text-white focus:ring-1 focus:ring-[#135bec] outline-none appearance-none cursor-pointer pr-10",value:r.radius,onChange:t=>N({...r,radius:t.target.value}),children:[e.jsx("option",{value:"4px",children:"4px (Recto)"}),e.jsx("option",{value:"8px",children:"8px (Suave)"}),e.jsx("option",{value:"12px",children:"12px (Premium)"}),e.jsx("option",{value:"20px",children:"20px (Redondeado)"})]}),e.jsx("div",{className:"absolute right-4 top-1/2 -translate-y-1/2 pointer-events-none",children:e.jsx(ye,{className:"size-3 text-slate-600"})})]})]})]}),e.jsxs("button",{onClick:ie,className:"w-full py-4 bg-white text-slate-900 text-xs font-black rounded-2xl transition-all shadow-xl hover:shadow-2xl active:scale-[0.98] uppercase tracking-[3px] flex items-center justify-center gap-2 group",children:[e.jsx(C,{className:"size-4 group-hover:scale-110 transition-transform"}),"Sincronizar Panel de Clientes"]})]})]})}),e.jsx("div",{className:"space-y-6",children:e.jsxs("div",{className:"glass-card rounded-2xl p-8 border border-white/5 bg-slate-900/50 backdrop-blur-xl h-full shadow-2xl relative overflow-hidden",children:[e.jsx("div",{className:"absolute -bottom-24 -right-24 size-64 bg-[#135bec]/5 rounded-full blur-3xl"}),e.jsxs("div",{className:"flex items-center justify-between mb-8 relative z-10",children:[e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx("div",{className:"p-3 bg-[#135bec]/10 border border-[#135bec]/20 rounded-xl text-[#135bec]",children:e.jsx(_,{className:"w-6 h-6"})}),e.jsxs("div",{children:[e.jsx("h2",{className:"text-xl font-black text-white uppercase tracking-tighter",children:"Packs de Diseño IA"}),e.jsx("p",{className:"text-slate-500 text-xs",children:"Selecciona los estilos disponibles para tus clientes."})]})]}),e.jsxs("span",{className:"text-[10px] font-black px-3 py-1.5 bg-[#135bec]/10 text-[#135bec] rounded-full border border-[#135bec]/20",children:[r.style_presets.length," ACTIVOS"]})]}),e.jsx("div",{className:"grid grid-cols-2 lg:grid-cols-3 gap-4 relative z-10",children:ue.map(t=>{const l=ee.find(a=>a.subCategory===t)||ee[0];return e.jsxs("label",{className:"relative block cursor-pointer group",children:[e.jsx("input",{type:"checkbox",checked:r.style_presets.includes(t),onChange:()=>de(t),className:"peer sr-only"}),e.jsxs("div",{className:`aspect-[4/5] rounded-2xl overflow-hidden relative border-2 transition-all duration-500 ${r.style_presets.includes(t)?"border-[#135bec] scale-[1.02] shadow-2xl shadow-[#135bec]/40":"border-white/5 opacity-40 hover:border-white/20 hover:opacity-80"}`,children:[e.jsx("div",{className:"absolute inset-0 bg-gradient-to-t from-black via-black/20 to-transparent z-10"}),e.jsx("img",{alt:t,className:"w-full h-full object-cover group-hover:scale-125 transition-transform duration-1000",src:l.url}),e.jsxs("div",{className:"absolute bottom-4 left-4 z-20",children:[e.jsx("p",{className:"text-[10px] font-black uppercase text-white tracking-[1px] leading-tight",children:t}),r.style_presets.includes(t)&&e.jsxs(x.p,{initial:{opacity:0,x:-5},animate:{opacity:1,x:0},className:"text-[#135bec] text-[8px] font-black uppercase mt-1 flex items-center gap-1",children:[e.jsx(C,{className:"size-2"})," Activo"]})]}),e.jsx("div",{className:"absolute top-3 right-3 z-20 opacity-0 peer-checked:opacity-100 transition-all transform scale-50 peer-checked:scale-100",children:e.jsx("div",{className:"bg-[#135bec] rounded-full p-1.5 shadow-xl border border-white/20",children:e.jsx(C,{className:"w-3.5 h-3.5 text-white"})})})]})]},t)})}),e.jsx("div",{className:"mt-8 p-5 bg-[#135bec]/5 border border-[#135bec]/20 rounded-2xl relative z-10",children:e.jsxs("div",{className:"flex gap-4",children:[e.jsx(_e,{className:"size-5 text-[#135bec] shrink-0"}),e.jsxs("p",{className:"text-[11px] text-slate-400 leading-relaxed",children:[e.jsx("span",{className:"font-black text-[#135bec] uppercase mr-1",children:"Pro Tip:"}),"Los estilos seleccionados son los que el cliente final podrá elegir en su panel individual de configuración de eventos."]})]})})]})})]},"branding")]}),e.jsxs(P,{children:[le&&e.jsx("div",{className:"fixed inset-0 z-[100] flex items-center justify-center p-4 bg-black/80 backdrop-blur-xl",children:e.jsxs(x.div,{initial:{opacity:0,scale:.9,y:20},animate:{opacity:1,scale:1,y:0},exit:{opacity:0,scale:.9,y:20},className:"w-full max-w-md bg-slate-900 border border-white/10 rounded-2xl shadow-2xl overflow-hidden",children:[e.jsxs("div",{className:"flex items-center justify-between p-7 border-b border-white/5",children:[e.jsxs("div",{children:[e.jsx("h3",{className:"text-xl font-black text-white uppercase tracking-tighter",children:"Crear Evento"}),e.jsx("p",{className:"text-xs text-slate-500 mt-1 uppercase tracking-widest font-bold",children:"Nueva instancia"})]}),e.jsx("button",{onClick:()=>$(!1),className:"size-10 flex items-center justify-center rounded-xl bg-slate-800 text-slate-500 hover:text-white transition-all",children:e.jsx(te,{className:"w-5 h-5"})})]}),e.jsxs("form",{onSubmit:oe,className:"p-7 space-y-6",children:[e.jsxs("div",{className:"space-y-4",children:[e.jsxs("div",{children:[e.jsx("label",{className:"text-[10px] font-black uppercase tracking-[2px] text-slate-500 mb-2 block",children:"Nombre del Evento"}),e.jsx("input",{required:!0,type:"text",placeholder:"Nombre comercial",className:"w-full bg-[#0a0a0b] border border-white/10 rounded-xl px-5 py-4 text-white focus:border-[#135bec] outline-none transition-all placeholder:text-slate-800",value:i.name,onChange:t=>f({...i,name:t.target.value})})]}),e.jsxs("div",{children:[e.jsx("label",{className:"text-[10px] font-black uppercase tracking-[2px] text-slate-500 mb-2 block",children:"Email del Cliente (Asignación)"}),e.jsxs("div",{className:"relative",children:[e.jsx(he,{className:"absolute left-4 top-1/2 -translate-y-1/2 text-slate-700 size-4"}),e.jsx("input",{required:!0,type:"email",placeholder:"cliente@ejemplo.com",className:"w-full bg-[#0a0a0b] border border-white/10 rounded-xl pl-11 pr-5 py-4 text-white focus:border-[#135bec] outline-none transition-all placeholder:text-slate-800 text-xs",value:i.client_email,onChange:t=>f({...i,client_email:t.target.value.toLowerCase()})})]})]}),e.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[e.jsxs("div",{children:[e.jsx("label",{className:"text-[10px] font-black uppercase tracking-[2px] text-slate-500 mb-2 block",children:"Personalizado"}),e.jsx("input",{type:"text",placeholder:"slug",className:"w-full bg-[#0a0a0b] border border-white/10 rounded-xl px-4 py-3 text-white focus:border-[#135bec] outline-none transition-all text-xs font-mono",value:i.slug,onChange:t=>f({...i,slug:t.target.value.toLowerCase().replace(/\s+/g,"-")})})]}),e.jsxs("div",{children:[e.jsx("label",{className:"text-[10px] font-black uppercase tracking-[2px] text-slate-500 mb-2 block",children:"Créditos"}),e.jsxs("div",{className:"relative",children:[e.jsx(Le,{className:"absolute left-4 top-1/2 -translate-y-1/2 text-[#135bec] size-4"}),e.jsx("input",{required:!0,type:"number",className:"w-full bg-[#0a0a0b] border border-white/10 rounded-xl pl-11 pr-5 py-3 text-white focus:border-[#135bec] outline-none transition-all text-xs font-bold",value:i.credits,onChange:t=>f({...i,credits:Number(t.target.value)})})]})]})]}),e.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[e.jsxs("div",{children:[e.jsx("label",{className:"text-[10px] font-black uppercase tracking-[2px] text-slate-500 mb-2 block",children:"Inicio"}),e.jsx("input",{required:!0,type:"date",className:"w-full bg-[#0a0a0b] border border-white/10 rounded-xl px-4 py-3 text-white focus:border-[#135bec] outline-none transition-all text-xs",value:i.start_date,onChange:t=>f({...i,start_date:t.target.value})})]}),e.jsxs("div",{children:[e.jsx("label",{className:"text-[10px] font-black uppercase tracking-[2px] text-slate-500 mb-2 block",children:"Fin"}),e.jsx("input",{required:!0,type:"date",className:"w-full bg-[#0a0a0b] border border-white/10 rounded-xl px-4 py-3 text-white focus:border-[#135bec] outline-none transition-all text-xs",value:i.end_date,onChange:t=>f({...i,end_date:t.target.value})})]})]}),e.jsxs("div",{className:"p-4 bg-[#135bec]/5 border border-[#135bec]/10 rounded-xl flex items-center gap-4",children:[e.jsx("div",{className:"size-8 rounded-lg bg-[#135bec]/10 flex items-center justify-center text-[#135bec]",children:e.jsx(C,{className:"size-4"})}),e.jsxs("div",{children:[e.jsx("p",{className:"text-[9px] font-bold text-slate-500 uppercase tracking-widest leading-none",children:"Verificación de Balance"}),e.jsxs("p",{className:"text-[11px] text-slate-400 mt-1 leading-tight",children:["Se deducirán ",i.credits," créditos de tu balance mayorista (",T," disponibles)."]})]})]})]}),e.jsx("button",{disabled:k,type:"submit",className:"w-full py-5 bg-[#135bec] hover:bg-[#135bec]/90 text-white text-[11px] font-black rounded-xl transition-all shadow-xl shadow-[#135bec]/20 uppercase tracking-widest disabled:opacity-50 disabled:cursor-not-allowed group/btn",children:k?"Creando...":e.jsxs("span",{className:"flex items-center justify-center gap-2",children:["Activar Instancia de Evento",e.jsx(_,{className:"size-4 group-hover:scale-110 transition-transform"})]})})]})]})}),c&&e.jsx("div",{className:"fixed inset-0 z-[100] flex items-center justify-center p-4 bg-black/80 backdrop-blur-xl",children:e.jsxs(x.div,{initial:{opacity:0,scale:.9,y:20},animate:{opacity:1,scale:1,y:0},exit:{opacity:0,scale:.9,y:20},className:"w-full max-w-md bg-slate-900 border border-white/10 rounded-2xl shadow-2xl overflow-hidden",children:[e.jsxs("div",{className:"flex items-center justify-between p-7 border-b border-white/5",children:[e.jsxs("div",{children:[e.jsx("h3",{className:"text-xl font-black text-white uppercase tracking-tighter",children:"Editar Evento"}),e.jsx("p",{className:"text-xs text-slate-500 mt-1 uppercase tracking-widest font-bold",children:"Modificar parámetros"})]}),e.jsx("button",{onClick:()=>g(null),className:"size-10 flex items-center justify-center rounded-xl bg-slate-800 text-slate-500 hover:text-white transition-all",children:e.jsx(te,{className:"w-5 h-5"})})]}),e.jsxs("div",{className:"p-7 space-y-6",children:[e.jsxs("div",{className:"space-y-4",children:[e.jsxs("div",{children:[e.jsx("label",{className:"text-[10px] font-black uppercase tracking-[2px] text-slate-500 mb-2 block",children:"Nombre del Evento"}),e.jsx("input",{required:!0,type:"text",className:"w-full bg-[#0a0a0b] border border-white/10 rounded-xl px-5 py-4 text-white focus:border-[#135bec] outline-none transition-all placeholder:text-slate-800",value:c.event_name,onChange:t=>g({...c,event_name:t.target.value})})]}),e.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[e.jsxs("div",{children:[e.jsx("label",{className:"text-[10px] font-black uppercase tracking-[2px] text-slate-500 mb-2 block",children:"Inicio"}),e.jsx("input",{required:!0,type:"date",className:"w-full bg-[#0a0a0b] border border-white/10 rounded-xl px-4 py-3 text-white focus:border-[#135bec] outline-none transition-all text-xs",value:new Date(c.start_date).toISOString().split("T")[0],onChange:t=>g({...c,start_date:t.target.value})})]}),e.jsxs("div",{children:[e.jsx("label",{className:"text-[10px] font-black uppercase tracking-[2px] text-slate-500 mb-2 block",children:"Fin"}),e.jsx("input",{required:!0,type:"date",className:"w-full bg-[#0a0a0b] border border-white/10 rounded-xl px-4 py-3 text-white focus:border-[#135bec] outline-none transition-all text-xs",value:new Date(c.end_date).toISOString().split("T")[0],onChange:t=>g({...c,end_date:t.target.value})})]})]}),e.jsxs("div",{className:"flex items-center gap-3 p-4 bg-white/5 rounded-2xl border border-white/5",children:[e.jsx("div",{className:`size-10 rounded-xl flex items-center justify-center ${c.is_active?"bg-emerald-500/10 text-emerald-500":"bg-rose-500/10 text-rose-500"}`,children:e.jsx(_,{className:"size-5"})}),e.jsxs("div",{className:"flex-1",children:[e.jsx("p",{className:"text-[10px] font-black uppercase text-white tracking-widest leading-none",children:"Estado"}),e.jsx("p",{className:"text-[9px] text-slate-500 uppercase mt-1 leading-none",children:c.is_active?"En Línea":"Inactivo"})]}),e.jsx("button",{onClick:()=>g({...c,is_active:!c.is_active}),className:`px-4 py-2 rounded-xl text-[10px] font-black uppercase transition-all ${c.is_active?"bg-rose-500/10 text-rose-500 hover:bg-rose-500 hover:text-white":"bg-emerald-500/10 text-emerald-500 hover:bg-emerald-500 hover:text-white"}`,children:c.is_active?"Pausar":"Activar"})]})]}),e.jsx("button",{disabled:k,onClick:async()=>{try{h(!0);const{error:t}=await n.from("events").update({event_name:c.event_name,start_date:new Date(c.start_date).toISOString(),end_date:new Date(c.end_date).toISOString(),is_active:c.is_active}).eq("id",c.id);if(t)throw t;u("Evento actualizado correctamente"),g(null),S()}catch(t){u("Error al actualizar: "+t.message,"error")}finally{h(!1)}},className:"w-full py-5 bg-[#135bec] hover:bg-[#135bec]/90 text-white text-[11px] font-black rounded-xl transition-all shadow-xl shadow-[#135bec]/20 uppercase tracking-[3px] disabled:opacity-50 disabled:cursor-not-allowed",children:k?"Sincronizando...":"Guardar Cambios"})]})]})})]}),e.jsx(P,{children:v.type&&e.jsx(x.div,{initial:{opacity:0,y:50,scale:.9},animate:{opacity:1,y:0,scale:1},exit:{opacity:0,scale:.9},className:"fixed bottom-8 right-8 z-[100]",children:e.jsxs("div",{className:`px-6 py-4 rounded-2xl shadow-2xl flex items-center gap-4 backdrop-blur-xl border ${v.type==="error"?"bg-rose-500/20 border-rose-500/30 text-rose-500":v.type==="info"?"bg-[#135bec]/20 border-[#135bec]/30 text-[#135bec]":"bg-[#13ec80]/20 border-[#13ec80]/30 text-[#13ec80]"}`,children:[v.type==="error"?e.jsx(Y,{className:"size-5"}):v.type==="info"?e.jsx(se,{className:"size-5"}):e.jsx(C,{className:"size-5"}),e.jsx("p",{className:"text-xs font-black uppercase tracking-widest",children:v.message})]})})}),e.jsx(P,{children:E&&e.jsx("div",{className:"fixed inset-0 z-[100] flex items-center justify-center p-4 bg-black/80 backdrop-blur-xl",children:e.jsxs(x.div,{initial:{opacity:0,scale:.9,y:20},animate:{opacity:1,scale:1,y:0},exit:{opacity:0,scale:.9,y:20},className:"w-full max-w-md bg-slate-900 border border-white/10 rounded-2xl shadow-2xl overflow-hidden",children:[e.jsxs("div",{className:"p-8 text-center",children:[e.jsx("div",{className:"size-20 bg-rose-500/10 rounded-full flex items-center justify-center mx-auto mb-6 border border-rose-500/20",children:e.jsx(Y,{className:"size-10 text-rose-500"})}),e.jsx("h3",{className:"text-2xl font-black text-white uppercase tracking-tighter mb-2",children:"¿Eliminar Evento?"}),e.jsxs("p",{className:"text-slate-400 text-sm leading-relaxed",children:["Esta acción es permanente. Se eliminará el evento ",e.jsxs("span",{className:"text-white font-bold",children:['"',E.name,'"']})," y todos sus datos asociados."]})]}),e.jsxs("div",{className:"flex border-t border-white/5 p-4 bg-slate-950/50 gap-3",children:[e.jsx("button",{onClick:()=>D(null),className:"flex-1 py-4 bg-slate-800 hover:bg-slate-700 text-slate-300 text-[10px] font-black rounded-xl transition-all uppercase tracking-[2px]",children:"Cancelar"}),e.jsx("button",{onClick:ne,className:"flex-1 py-4 bg-rose-500 hover:bg-rose-600 text-white text-[10px] font-black rounded-xl transition-all shadow-lg shadow-rose-500/20 uppercase tracking-[2px]",children:"Confirmar Baja"})]})]})})})]})};export{Fe as PartnerDashboard};
